commit 695476ea5e51d1c92f389ac236b138ceeaee8a99
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 29 15:36:56 2024 +0000

    Comments: Use a more precise check for disallowed keys on filtered comment data.
    
    The previous approach of running `wp_allow_comment()` twice could have unintended consequences, e.g. the `check_comment_flood` action was also triggered twice, which might lead to false-positive identification of comment flood in case there is some custom callback hooked to it, which is not expecting identical data seeing twice.
    
    This commit introduces a new function, `wp_check_comment_data()`, to specifically check for disallowed content before and after comment data is filtered.
    
    Follow-up to [59267].
    
    Props david.binda, SergeyBiryukov.
    See #61827.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59319 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d58139a42fea6f626aa5a2f9ca8812f9bf070f7
Author: Kai Hao <kevin940726@git.wordpress.org>
Date:   Tue Oct 29 07:31:49 2024 +0000

    Editor: Update packages for 6.7 RC 2
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    Props kevin940726, aaronrobertshaw.
    See #62309.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59318 602fd350-edb4-49c9-b593-d223f7449a82

commit b78174883e6f2e1efc89b80441cbcca52f6d9222
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Tue Oct 29 05:59:10 2024 +0000

    Media: Fix converting of all HEIC/HEIF images to JPEGs after uploading regardless of dimensions.
    
    Props ironprogrammer, adamsilverstein, azaozz.
    Fixes #62305.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59317 602fd350-edb4-49c9-b593-d223f7449a82

commit 191368057305c0515b332a284a10c46364953ba1
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Tue Oct 29 03:11:35 2024 +0000

    Global styles: preload `/global-styles` endpoint responses
    
    This commit fixes a regression whereby requests to global styles endpoints were not being preloaded, resulting in several requests being fired clientside unnecessarily.
    
    For performance reasons, we  preload the requests so that the data is in the editor store and ready to use straight away.
    
    The outcome is that the editor loads more quickly.
    
    Follow-up to [62042].
    
    Props ellatrix, ramonopoly, apermo, peterwilsoncc.
    Fixes #62315.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59316 602fd350-edb4-49c9-b593-d223f7449a82

commit aa03a4de6d404b8fdb43651b773f46729896ccfe
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Tue Oct 29 01:11:00 2024 +0000

    Media: Fix uploading of .heic images.
    
    - Adds support for all HEIC/HEIF mime types: `image/heic`, `image/heif`, `image/heic-sequence`, and `image/heif-sequence`.
    - Introduces `wp_is_heic_image_mime_type()`.
    
    Props swissspidy, adamsilverstein, debarghyabanerjee, ironprogrammer, peterwilsoncc, apermo, azaozz.
    Fixes #62272.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59315 602fd350-edb4-49c9-b593-d223f7449a82

commit 7078dfb46fb39604590b332607ccf2fc4c4f50c3
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 29 00:00:46 2024 +0000

    Bundled Themes: Update Twenty Twenty-Five for 6.7 RC 2.
    
    This merges the latest improvements to the Twenty Twenty-Five theme from GitHub into WordPress-Develop for 6.7 RC 2
    
    A full list of changes can be found on GitHub: [https://github.com/WordPress/twentytwentyfive/compare/7dfa99f15b00159c12db1e6f66df0943147f9026...b5b0475f6a47daf9b650fa9cf6319284a1dea7d8 WordPress/twentytwentyfive@7dfa99f1...b5b0475f].
    
    Props juanfra, poena.
    See #62310.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59314 602fd350-edb4-49c9-b593-d223f7449a82

commit 6bc26d5aeddbb6eb75521e7e51deca9daf2ea357
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 28 20:03:13 2024 +0000

    Users: Set correct default value for `$user_login` in `retrieve_password()`.
    
    This resolves a "passing null to non-nullable" deprecation notice on PHP 8.1+:
    {{{
    Deprecated: trim(): Passing null to parameter #1 ($string) of type string is deprecated
    }}}
    
    Follow-up to [50129], [54477].
    
    Props afragen, peterwilsoncc, SergeyBiryukov.
    Fixes #62298.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59312 602fd350-edb4-49c9-b593-d223f7449a82

commit 58b5c63dec64a36d2063efd27cc1bd4690d30578
Author: Kai Hao <kevin940726@git.wordpress.org>
Date:   Mon Oct 28 04:31:07 2024 +0000

    Editor: Update packages for 6.7 RC 2
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    Props kevin940726, peterwilsoncc.
    See #62309.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59307 602fd350-edb4-49c9-b593-d223f7449a82

commit 0fb4f618b0a276766dd8d8ae47091f960bb6d1d6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 28 00:29:41 2024 +0000

    Revisions: Fix typo in navigation help text.
    
    Fixes a typo in the a11y helper text explaining how to navigate revisions. "Change revision by using the left and arrow keys" becomes "Change revision by using the left and right arrow keys".
    
    Follow up to [59225].
    
    Props pedromendonca, sabernhardt, fierevere, swissspidy.
    Fixes #62306.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59306 602fd350-edb4-49c9-b593-d223f7449a82

commit ea88e1fd71f40f9b96bd968e427e73492bddef57
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 27 19:03:48 2024 +0000

    Tests: Use better domain for HTTP API invalid hostname test.
    
    The previous domain that was used to test for a host whose IPv4 address cannot be resolved, `exampleeeee.com`, got registered and has an A-record now, so it's not invalid anymore.
    
    `.invalid` is intended for use in online construction of domain names that are sure to be invalid and which it is obvious at a glance are invalid.
    
    Reference: [https://datatracker.ietf.org/doc/html/rfc2606#section-2 Reserved Top Level DNS Names: TLDs for Testing, & Documentation Examples].
    
    Follow-up to [52084], [58384], [58388].
    
    Props sippis, johnbillion, MattyRob, swissspidy.
    Fixes #62303.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59293 602fd350-edb4-49c9-b593-d223f7449a82

commit a4d6fb7c96cb46859e6d48a5d4c06fdeea7d039b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 26 21:43:37 2024 +0000

    Coding Standards: Correct alignment in `dropdown_cats()`.
    
    Follow-up to [58284].
    
    See #62279.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59292 602fd350-edb4-49c9-b593-d223f7449a82

commit 43b64f581e39b7b1b087160c087b94fc70a8edc1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 25 20:24:08 2024 +0000

    Docs: Adjust comments about `set_time_limit()` per the documentation standards.
    
    Includes splitting long comments into multiple lines and moving a few comments above the `function_exists()` check for more consistent placement.
    
    Follow-up to [59039], [59288].
    
    See #62281.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59291 602fd350-edb4-49c9-b593-d223f7449a82

commit baf408f39e92f55acb0c12f3d052e40c78586bbf
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Oct 25 01:18:54 2024 +0000

    Site Health: Update inline docs following refactor of debug data.
    
    Updates the inline docs following the modularization of the `WP_Debug_Data`.
    
    Props kebbet, desrosj, apermo.
    Fixes #61648.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59290 602fd350-edb4-49c9-b593-d223f7449a82

commit f890a9299c6588d2e2cbfd7ed95949b62c33fe8a
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Oct 25 00:21:14 2024 +0000

    Bundled Themes: Provide instructions for updating comment block in TT2.
    
    Adds instructions to the Twenty Twenty-Two readme file for updating the comment block from the legacy version to the newer version introduced in WordPress 6.1.
    
    As Twenty Twenty-Two supports WordPress version prior to 6.1, the legacy comment block is used by default.
    
    Props desrosj, jeffpaul, joedolson, mikachan, mrfoxtalbot, mukesh27, poena, ryokuhi, sabernhardt, thrijith.
    Fixes #56496.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59289 602fd350-edb4-49c9-b593-d223f7449a82

commit 6bdf0519a1add1ee92dd6c57119f1dd5ac8e358c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 24 23:58:02 2024 +0000

    Revisions: Set PHP time limit when generating revision diffs vis Ajax.
    
    This aims to avoid hanging PHP processes if a plugin inadvertently attempts to request a large number of revision diffs.
    
    Follow-up to [24520], [24707], [59039].
    
    Props madpeter, lovesoni1999, debarghyabanerjee, pbearne, desrosj, SergeyBiryukov.
    Fixes #49291.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59288 602fd350-edb4-49c9-b593-d223f7449a82

commit de38e8eeecf80a7ca5ee870ec68a59897216b33b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 24 15:07:06 2024 +0000

    Build/Test Tools: Use the reusable PHPUnit test workflow for coverage.
    
    This updates the Test Coverage workflow to make use of the reusable PHPUnit test workflow to avoid having duplicate code.
    
    `concurrency` has also been configured for the workflow, and 4 test jobs have been consolidated into 2.
    
    Props jrf.
    Fixes #62296.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59287 602fd350-edb4-49c9-b593-d223f7449a82

commit c374a1bbc8ca66989bf7793f2849e8624575aea5
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Oct 23 22:37:35 2024 +0000

    Editor: Update Google Fonts API endpoint for WordPress 6.7.
    
    Updates the Google Fonts API to use the URL `https://s.w.org/images/fonts/wp-6.7/collections/google-fonts-with-preview.json` with an updated collection of fonts available for install.
    
    Props dilip2615, mmaattiiaass, wildworks, dd32.
    Fixes #62258.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59286 602fd350-edb4-49c9-b593-d223f7449a82

commit 6573ea6e3c30b3b23274b0a6290d173fde1ebb70
Author: Weston Ruter <westonruter@git.wordpress.org>
Date:   Wed Oct 23 22:03:23 2024 +0000

    HTML API: Fix extensibility of `WP_HTML_Processor::next_token()`.
    
    Break out logic from the `next_token()` method into a private method which may call itself recursively. This allows for subclasses to override the `next_token()` method and be assured that each call to `next_token()` corresponds with the consumption of one single token. This also parallels how `WP_HTML_Tag_Processor::next_token()` wraps a private `base_class_next_token()` method.
    
    Props westonruter, jonsurrell.
    Fixes #62269.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59285 602fd350-edb4-49c9-b593-d223f7449a82

commit 7456ab64a00996b75701e4756f35d324ac554d84
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 23 18:29:32 2024 +0000

    Coding Standards: Replace loose comparison in `wp-includes/ms-functions.php`.
    
    This brings more consistency with similar checks elsewhere.
    
    Follow-up to [https://mu.trac.wordpress.org/changeset/1069 mu:1069], [12603].
    
    Props debarghyabanerjee, audrasjb, jrf, aristath, SergeyBiryukov.
    Fixes #62032.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59284 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ae73d2b2ff11ea784d8e9defd480b595d53d96e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 23 14:56:55 2024 +0000

    Build/Test Tools: Support Docker compose override files.
    
    This updates the logic introduced in [59279] to account for the presence of `docker-compose.override.yml` files.
    
    Props xknown, davidbaumwald.
    See #61218.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59283 602fd350-edb4-49c9-b593-d223f7449a82

commit 63b94d9b46fd7594b6c6bea8d2aea2a07ea2ee3e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 23 02:30:24 2024 +0000

    Build/Test Tools: Test against MySQL 9.0.
    
    Version 9.0 is the latest short-term innovation release of MySQL.
    
    See #62280.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59282 602fd350-edb4-49c9-b593-d223f7449a82

commit 121117ec76adfde563723cdb3682e3e4ccbaf6f9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 23 01:28:44 2024 +0000

    Build/Test Tools: Split up upgrade test matrix.
    
    GitHub Actions caps the number of jobs that can be spawned from a single matrix at 256.
    
    The changes in [59280] pushed the WordPress 6.x job over this limit. This splits that matrix into two following established pattern for older branches in the workflow.
    
    See #61218, #62221.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59281 602fd350-edb4-49c9-b593-d223f7449a82

commit b0f8a16bdb006d4ae1879d6feb743fd76a029ce2
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 23 00:13:07 2024 +0000

    Build/Test Tools: Test against MySQL 8.4 in automated testing.
    
    Additionally, MySQL 8.1, 8.2 and 8.3 have been removed. These were “innovation releases” and are no longer supported in favor of 8.4, which has LTS.
    
    Props ayeshrajans, johnbillion, aristath, jorbin.
    See #61218.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59280 602fd350-edb4-49c9-b593-d223f7449a82

commit 2e71cf30815361a3385f2fa6c71cb9913c1d44e9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Oct 23 00:05:55 2024 +0000

    Build/Test Tools: Add MySQL 8.4 support to the Docker environment.
    
    Because `caching_sha2_password` is not supported on PHP 7.2 & 7.3, the local Docker environment has used the `--default-authentication-plugin` system variable to always make use of `mysql_native_password` despite MySQL 8.0 deprecating this auth plugin.
    
    However in MySQL 8.4, the `--default-authentication-plugin` option was removed in favor of `--authentication-policy`, and `mysql_native_password` is now disabled by default. `mysql_native_password` has also been removed in MySQL 9.0.
    
    This change adds support to the local Docker environment for MySQL 8.4 by adding some helper functions that determine which authentication plugin should be used based on the configured PHP/MySQL versions and automatically making the necessary configuration adjustments.
    
    Props ayeshrajans, johnbillion, aristath, jorbin.
    See #61218.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59279 602fd350-edb4-49c9-b593-d223f7449a82

commit 6f1423535a2f41c977649724b645083b2b88fdad
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 22 23:44:25 2024 +0000

    Build/Test Tools: Revert [59277] to add a proper commit message.
    
    Unprops desrosj.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59278 602fd350-edb4-49c9-b593-d223f7449a82

commit 170611ca0234d00a8739b109119867287d8e5fb9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 22 23:41:29 2024 +0000

    Build/Test Tools: Add support for MySQL 8.4 to the Docker environment.
    
    
    
    See #62221.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59277 602fd350-edb4-49c9-b593-d223f7449a82

commit 194277a9e81c552d764d6f64a1b8c53fc816d64c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 22 18:26:53 2024 +0000

    Build/Test Tools: Run upgrade tests against 6.7-RC1.
    
    The `6.7` version tag does not exist yet. This results in the upgrade tests failing when trying to update from 6.7.
    
    Since `6.7-RC1` exists, this should be used instead.
    
    Follow up to [59275].
    
    See #62221.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59276 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b3f0bca429bae00e394e8c8b5401d5b78114e88
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Oct 22 17:00:25 2024 +0000

    Post WordPress 6.7 branching version bump.
    
    trunk is now 6.8-alpha.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59275 602fd350-edb4-49c9-b593-d223f7449a82

commit fe75399253c424cb3b09884d861371d8befd9951
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Oct 22 16:38:10 2024 +0000

    Post WordPress 6.7 RC1 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59273 602fd350-edb4-49c9-b593-d223f7449a82

commit 8945bb2090554cade20153b83eab2bcbb29ed10b
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Oct 22 16:15:02 2024 +0000

    WordPress 6.7 RC1.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59272 602fd350-edb4-49c9-b593-d223f7449a82

commit c57523511570f17a40a582f22f6557260c169956
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Oct 22 15:54:48 2024 +0000

    Bundled Themes: Sync a few more Twenty Twenty-Five updates for RC1.
    
    This merges 2 bug fixes for the Twenty Twenty-Five theme from GitHub.
    
    Follow up to [59269].
    
    Props poena, beafialho, juanfra.
    Fixes #62264.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59271 602fd350-edb4-49c9-b593-d223f7449a82

commit 771ef176d770dce40491d39007262d308d08585d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 22 10:14:47 2024 +0000

    Site Health: Add a link to support forums in the message displayed for a critical error.
    
    Follow-up to [44962], [45263], [46119], [49480], [53951].
    
    Props ipajen, sabernhardt, desrosj, mukesh27, afragen, webcommsat, hellofromTonya.
    Fixes #53707.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59270 602fd350-edb4-49c9-b593-d223f7449a82

commit c6b30b6e18461d6f112c9eee11dd79fc991f3e53
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 22 01:41:10 2024 +0000

    Bundled Themes: Update Twenty Twenty-Five for 6.7 RC 1.
    
    This merges the latest improvements to the Twenty Twenty-Five theme from GitHub into `trunk` for 6.7 RC 1.
    
    A full list of changes can be found on GitHub: [https://github.com/WordPress/twentytwentyfive/compare/e4da8ad0ae6248593829604c3e510ad91f9cf401...f2dc3facf9eb5be3eda337f24f2cc749e386acb6 WordPress/twentytwentyfive@e4da8ad...f2dc3fa]
    
    Props juanfra, poena, beafialho, areziaal, joen, sergeybiryukov, richtabor, cwhitmore, get_dave, talldanwp, andraganescu, kau-boy, mhkuu, hanneslsm, alaminfirdows, dd32.
    See #62264.
    
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59269 602fd350-edb4-49c9-b593-d223f7449a82

commit d64c61dbfae15bdab9b25bc9fc72cf1542ad3d39
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Tue Oct 22 00:30:48 2024 +0000

    Editor: new package updates for 6.7 RC1.
    
    Syncs packages to include two further bug fixes.
    
    Props isabel_brison, peterwilsoncc.
    Fixes #62271.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59268 602fd350-edb4-49c9-b593-d223f7449a82

commit 309ecbd3241895522cd6d1eb0ef7f176dfceea94
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 21 23:05:53 2024 +0000

    Comments: Validate new comments before and after comment data is filtered.
    
    This ensures that a Disallowed Comment Keys match will consistently send the comment to the Trash, by checking both the original unmodified comment data and the final filtered comment data.
    
    If the first check has already resulted in a `trash` or `spam` status, the second check is skipped as redundant.
    
    Follow-up to [2894], [3851], [48121], [48575].
    
    Props cfinke, kbrownkd, thompsonsj, mi5t4n, devspace, chaion07, engahmeds3ed, SergeyBiryukov.
    Fixes #61827.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59267 602fd350-edb4-49c9-b593-d223f7449a82

commit 815f0c3f2c045b5be4a4a882e466c8b8277984d0
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 21 22:38:48 2024 +0000

    Help/About: Update version name in performance string.
    
    Updates the version from `6.7` to `WordPress 6.7` in the performance string for consistency with other mentions on the about page.
    
    Props ryelle, peterwilsoncc.
    See #61961.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59266 602fd350-edb4-49c9-b593-d223f7449a82

commit 3be41170f0406842856277b6bf9719e565f33278
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Oct 21 19:53:10 2024 +0000

    Menus: A11y: Set the parent and order using select fields.
    
    Add `select` inputs to allow users to set the parent and position of items in the menu settings. Fixes a significant problem for screen reader users that makes updating menus extremely tedious, since the options for moving items do not explicitly set a position. This is also a significant improvement for all users manipulating large menus.
    
    This could easily be considered an enhancement, but while it is a minor enhancement for most users, it is transformative for screen reader users in managing menus, moving that interface from nearly unusable to very manageable.
    
    Props javad2000, audrasjb, juliemoynat, williamalexander, rcreators, milamj, joedolson.
    Fixes #43305.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59265 602fd350-edb4-49c9-b593-d223f7449a82

commit 0d9c56edfb94eba08eeb7a2a43d5614542a097ea
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Oct 21 14:11:56 2024 +0000

    I18N: Fix script languages path on Multisite.
    
    This is a follow-up to [59126] (itself a follow-up to [57922]), which caused a regression when determining the right path when loading script translations.
    
    Props swissspidy, themes-1, staurand.
    Fixes #62016.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59264 602fd350-edb4-49c9-b593-d223f7449a82

commit 61d6019326ad5476e58757f38604695329f4a88b
Author: David Smith <get_dave@git.wordpress.org>
Date:   Mon Oct 21 11:21:59 2024 +0000

    Editor: Update packages for 6.7 RC 1.
    
    Syncs @wordpress/* packages to the wp-6.7 npm tag.
    
    Props get_dave, kevin940726, rejaulalomkhan.
    
    Fixes #62263
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59263 602fd350-edb4-49c9-b593-d223f7449a82

commit 1508e5bf0fa3ad2d001de08eab4dee49985bb322
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Mon Oct 21 04:46:39 2024 +0000

    Theme JSON: remove redundant styles check and relocate $selectors assignment.
    
    In `WP_Theme_JSON::get_block_nodes()`, remove redundant check for `$theme_json['styles']`, which means `WP_Theme_JSON::get_blocks_metadata()` is only called if necessary.
    
    Also skip unnecessary `$selector` assignment if only nodes are to be returned.
    
    Props ramonopoly, mukesh27.
    Fixes #62234.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59262 602fd350-edb4-49c9-b593-d223f7449a82

commit 9de0f746551b379f0a1bf96b805dca17566bcfa6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 21 01:20:40 2024 +0000

    Taxonomy: Remove count argument from `WP_Term_Query` docs.
    
    The DocBlock of `WP_Term_Query::__construct` mentions the count argument, however, this argument is not supported in `WP_Term_Query::get_terms()`.
    
    Props sergeybiryukov, swissspidy, snehapatil02, tyrannous.
    Fixes #61094.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59261 602fd350-edb4-49c9-b593-d223f7449a82

commit ba472085a05c837e42ab38f16aa06d90c3759994
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sun Oct 20 23:23:11 2024 +0000

    Editor: Load all style variation fonts within the editors.
    
    Loads the font family files from style variations defined within a theme for user in the site and post editors. This is to ensure the fonts are shown while editing without the need for a reload after switching styles.
    
    Props ironprogrammer, mmaattiiaass.
    Fixes #62231.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59260 602fd350-edb4-49c9-b593-d223f7449a82

commit 281a68fa14d014aaeaa4f241e671a1dbc632a927
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 20 13:11:24 2024 +0000

    Editor: Replace `id` attribute with `class` in `WP_Font_Face::get_style_element()`.
    
    `wp_print_font_faces()` prints an HTML tag that can be used more than once, so the document could end up having multiple tags with the same `id` attribute.
    
    The `id` global attribute defines an identifier (ID) which must be unique in the whole document.
    
    Reference: [https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id MDN Web Docs: id].
    
    Follow-up to [56500].
    
    Props mmaattiiaass, peterwilsoncc.
    Fixes #62246.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59259 602fd350-edb4-49c9-b593-d223f7449a82

commit de51a4412dc3fa4d2591c59492fa76227cdddd29
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 19 23:52:48 2024 +0000

    Docs: Fix typo in a comment in `WP_Rewrite::refresh_rewrite_rules()`.
    
    Includes adjusting the method DocBlock per the documentation standards.
    
    Follow-up to [56448].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59258 602fd350-edb4-49c9-b593-d223f7449a82

commit b1dade3c039391eee1242b06f20e9ae89f7c2483
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Fri Oct 18 23:35:02 2024 +0000

    Upgrade/Install: Return WP_Error when source files cannot be found.
    
    Fixes a fatal error in `array_keys()` (PHP 8.0+) as `$wp_filesystem->dirlist()` will return `false` when the source directory doesn't exist or becomes unreadable for some reason.
    
    Props: verygoode, lifelightweb, da5f656f, costdev, afragen, azaozz
    Fixes #61114
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59257 602fd350-edb4-49c9-b593-d223f7449a82

commit 39bda90823d917488e92eefba928406140091836
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 18 21:53:45 2024 +0000

    Editor: Cache global styles for blocks.
    
    This caches the generated CSS from block nodes in merged Theme JSON data to avoid repeated costly operations required to compute style properties for blocks. The generated CSS is saved to a transient that expires every hour.
    
    This is a follow-up that reimplements [58334], which was previously reverted in [58710].
    
    Props thekt12, spacedmonkey, pereirinha, mukesh27, isabel_brison, oandregal, andrewserong, ramonjd, joemcgill, costdev, aaronrobertshaw, peterwilsoncc.
    Fixes #61679. See #59595.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59256 602fd350-edb4-49c9-b593-d223f7449a82

commit 65c0004113b0312cd896a958f2cc5db244424baa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 18 15:54:07 2024 +0000

    Pings/Trackbacks: Validate that the specified charset is available on the receiving site.
    
    This aims to avoid a subsequent fatal error from `mb_convert_encoding()` when an invalid charset is specified.
    
    Follow-up to [1734], [2563], [12032].
    
    Props dd32, jrf, oglekler, rajinsharwar.
    Fixes #60261.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59255 602fd350-edb4-49c9-b593-d223f7449a82

commit c234538f6f4a42504fccc1ec40dbf088f77b3db2
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 18 15:18:40 2024 +0000

    Build/Test Tools: Refine `paths` filter for workflows part 2.
    
    [59252] made the path filtering a bit too broad for the Test Old Branches workflow.
    
    Though `v3` of the reusable PHPUnit workflow is used by some older branches, this version is updated much more frequently because it’s the latest version.
    
    To limit the number of times this workflow runs, old branches should only be tested when old versions of the workflow are updated.
    
    Follow up to [59252].
    
    See #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59254 602fd350-edb4-49c9-b593-d223f7449a82

commit 22c64fd29e202632c22199c4077087762d3cc88b
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 18 14:24:46 2024 +0000

    Editor: Improve performance of WP_Theme_JSON::compute_style_properties
    
    This improves the logic in `WP_Theme_JSON::compute_style_properties` to address a number of performance issues.
    
    Props spacedmonkey.
    Fixes #59595.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59253 602fd350-edb4-49c9-b593-d223f7449a82

commit b1a639b52abb220fb5414b21186f37780d1772e1
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 18 14:00:27 2024 +0000

    Build/Test Tools: Refine `paths` filter for workflows.
    
    Some GitHub Action workflows use the `paths` filter to limit when workflows run for pull requests. This helps avoid running workflows unnecessarily when the pull request does not change any relevant code.
    
    Currently, a few of these workflows are configured to run when any `.yml` file in the `.github/workflows/` directory is changed. This updates those workflows to target more specific workflow files for more efficient running.
    
    See #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59252 602fd350-edb4-49c9-b593-d223f7449a82

commit bd8e6504b2ea6cc6f96e5d4b958ab3a826807670
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 18 13:37:23 2024 +0000

    Build/Test Tools: Add input for PHPUnit test group.
    
    This adds a `phpunit-test-goups` input to the reusable PHPUnit test workflow for added flexibility.
    
    When passed, only the specified test groups are run.
    
    Props jrf.
    See #52668.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59251 602fd350-edb4-49c9-b593-d223f7449a82

commit 70106015bf87737223a593bd7f65fc80369eea52
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Fri Oct 18 13:29:04 2024 +0000

    HTML API: Fix the position update after changing the modifiable text when length differs
    
    There was an edge case detected for updating the text placed without the wrapping HTML tag with `set_modifiable_text`.
    
    Props gziolo, jonsurrell.
    Fixes #62241.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59250 602fd350-edb4-49c9-b593-d223f7449a82

commit 0dd8843c31d87299c237d833733affffb731fbf9
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 18 12:35:37 2024 +0000

    Build/Test Tools: Change commands used for the copying `.env.example` file.
    
    This switches from using the `test`/`cp` commands when copying the `.env.example` file to using `node:fs`. `test` and `cp` are not available on Windows machines.
    
    This also adds the `.env` file to the `svn:ignore` list to prevent it from being committed accidentally.
    
    Follow up to [59038].
    
    Props afercia, Clorith, poena.
    Fixes #52668.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59249 602fd350-edb4-49c9-b593-d223f7449a82

commit 6bb92c17e1acceec7a04c57f3c5d10cb1677b2e8
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Thu Oct 17 17:46:31 2024 +0000

    HTML API: Ensure form closer tokens are reachable.
    
    Form tag closers have complicated conditions. There was a bug where the HTML Processor would not stop correctly on a FORM tag closer token.
    This changeset ensures that that token is reachable.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7582
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58779].
    
    Props jonsurrell.
    Fixes #61576.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59248 602fd350-edb4-49c9-b593-d223f7449a82

commit b5df5f08e0a43a05a2a52b5c151028e0c6a6d14d
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Thu Oct 17 17:03:23 2024 +0000

    Media: Ensure Imagick quality is set correctly.
    
    Fix an issue where Imagick did not properly set image quality for AVIF images. Adds a call to `setCompressionQuality`  where we currently call `setImageCompressionQuality`
    
    Props: jamesosborne, adamsilverstein, mukeshpanchal27.
    
    Fixes: #61614.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59247 602fd350-edb4-49c9-b593-d223f7449a82

commit 27ccc7a934ceb9c36156255526ae8320eba223c8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 17 11:29:17 2024 +0000

    External Libraries: Upgrade PHPMailer to version 6.9.2.
    
    This is a maintenance release with minor bug fixes.
    
    References:
    * [https://github.com/PHPMailer/PHPMailer/releases/tag/v6.9.2 PHPMailer 6.9.2 release notes]
    * [https://github.com/PHPMailer/PHPMailer/compare/v6.9.1...v6.9.2 Full list of changes in PHPMailer 6.9.2]
    
    Follow-up to [50628], [50799], [51169], [51634], [51635], [52252], [52749], [52811], [53500], [53535], [53917], [54427], [54937], [55557], [56484], [57137].
    
    Props ayeshrajans.
    Fixes #62206.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59246 602fd350-edb4-49c9-b593-d223f7449a82

commit a80fbc218d05d7edb749dc2586dfaa24ceefbe2e
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Thu Oct 17 11:01:45 2024 +0000

    HTML API: Fix typo in error message in html processor.
    
    Possesive "it's" should be "its."
    
    Follow-up to [59076].
    
    Props jonsurrell.
    Fixes #62036.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59245 602fd350-edb4-49c9-b593-d223f7449a82

commit 333272d62390799ba604655357d7984f143a3de9
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Oct 17 00:35:01 2024 +0000

    Bundled Themes: Avoid loading translations too early.
    
    Load block patterns for bundled themes on the `init` hook to avoid triggering notices caused by loading the translations too early.
    
    The change is applied to Twenty Ten, Twenty Twelve, Twenty Thirteen, Twenty Fourteen, Twenty Fifteen, Twenty Sixteen and Twenty Twenty.
    
    Props domainsupport, swissspidy.
    Fixes #62237.
    See #44937.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59244 602fd350-edb4-49c9-b593-d223f7449a82

commit 787e52f61a7d41f9c6364258cb1ba4444bf4b9e0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 16 14:17:12 2024 +0000

    Tests: Correct test class name for `rss_enclosure()` as per the naming conventions.
    
    Includes:
    * Moving `@covers` tags to the class-level DocBlock, since this is the only function tested in the class.
    * Adjusting the assertion messages for clarity, as `rss_enclosure()` does not return anything directly.
    * Using a static closure for improved performance.
    
    Follow-up to [59241].
    
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59243 602fd350-edb4-49c9-b593-d223f7449a82

commit 11b435c0438746f24483800f207e453409a5b885
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 15 23:39:38 2024 +0000

    Networks and Sites: Relocate defintion of `absint()`.
    
    Relocate the defintion of `absint()` to `load.php` to allow it to be available to `get_current_blog_id()` and `get_current_network_id()`. These functions may be called by caching drop-ins, prior to the loading of `functions.php`.
    
    Props flixos90, geekofshire, johnjamesjacoby, sergeybiryukov, wonderboymusic.
    Fixes #40682.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59242 602fd350-edb4-49c9-b593-d223f7449a82

commit 4edc60427eaf3c741bdc21925a0e2411a184a855
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 15 22:22:42 2024 +0000

    Feeds: Validate enclosures prior to generating tags.
    
    Prevent possible PHP warnings caused by malformed enclosure meta data. This change ensures the enclosure meta data has at least three lines of text before generating the tag in `rss_enclosure()`.
    
    Props arypneta, johnjamesjacoby, nihar007, rahmohn, rghedin, zahardoc.
    Fixes #58798.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59241 602fd350-edb4-49c9-b593-d223f7449a82

commit 660d052cedc18e3cb0b929d500917162d18a56b3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 15 15:22:09 2024 +0000

    Docs: Slightly adjust the description for `$table_prefix` in `wp-config-sample.php`.
    
    This replaces the DB abbreviation for consistency, and aims to make the sentence a bit more clear.
    
    Follow-up to [59044].
    
    See #34189.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59240 602fd350-edb4-49c9-b593-d223f7449a82

commit 33b6e1a8bf833b97d72455384e0e18080817ebea
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Tue Oct 15 14:11:12 2024 +0000

    Block Bindings: Fix panel not appearing in custom post types.
    
    There is a bug where the attributes panel is not shown in custom post types. This is caused because each post type can define a capability_type, which by default is post, so the logic to map the capabilities wasn't correct and it was returning false.
    
    Props santosguillamot, cbravobernal.
    Fixes #62226.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59239 602fd350-edb4-49c9-b593-d223f7449a82

commit bf2aa81f6e03af09da7a2662bae872e4b9fca4cf
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Tue Oct 15 08:50:08 2024 +0000

    Editor: Bootstrap block binding sources with inline script from server
    
    Bootstrap block bindings sources earlier in the process through an inline script to ensure they are available when developers want to extend them in the client. Following the same pattern other APIs like registering block types are doing.
    
    Props santosguillamot, cbravobernal, gziolo.
    Fixes #6225.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59238 602fd350-edb4-49c9-b593-d223f7449a82

commit 5486eb89aa6e8c2906803959a5a8501cb1ee2a04
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 15 00:26:49 2024 +0000

    Post WordPress 6.7 Beta 3 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59237 602fd350-edb4-49c9-b593-d223f7449a82

commit 41fd37bcff653131581b1d0dd7723ce19a2397fe
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 15 00:08:13 2024 +0000

    WordPress 6.7 Beta 3.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59236 602fd350-edb4-49c9-b593-d223f7449a82

commit 7685041a591ccbc63a55c5bd28e91eca6e260e53
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 14 22:20:09 2024 +0000

    Media: Account for post ID queries in `update_post_thumbnail_cache()`.
    
    Updates `update_post_thumbnail_cache()` to account for `WP_Query` objects that only contain the post ID field rather than the entire post object.
    
    This changes passes the `$post` value to `get_post_thumbnail_id()` rather than assuming the presence of the ID property. Additionally, the posts to which the thumbnail is attached are now primed prior to calling the function to avoid numerous unnecessary database queries.
    
    The test `WP_Test_REST_Posts_Controller::test_get_items_primes_parent_post_caches()` is modified to account for an order of operations change for the priming of post meta caches. The cache is no longer primed in the final call to `update_meta_cache()` so the tests need to account for the post meta to be primed in any call to the function.
    
    Props antpb, jorbin, khokansardar, linsoftware, mukesh27, oglekler, rajinsharwar, sumitsingh, xendo.
    Fixes #59521.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59235 602fd350-edb4-49c9-b593-d223f7449a82

commit b7185ae434c2c569ee7c562b846c4aea5b1fc6f8
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Mon Oct 14 22:04:53 2024 +0000

    Help/About: Update the About page for 6.7.
    
    Introducing the new content for the 6.7 About page. As with the last release, this About page has a simple layout, and links off to WordPress.org for a full overview.
    
    Props ndiego, annezazu, provenself, ryelle, joen, parinpanjari.
    See #61961.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59234 602fd350-edb4-49c9-b593-d223f7449a82

commit 5db5278495fe53f0ed05dacfc3a90aa61c93fc7e
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 14 21:56:32 2024 +0000

    Bundled Themes: Update Twenty Twenty-Five for 6.7 Beta 3.
    
    This merges the latest improvements to the Twenty Twenty-Five theme from GitHub into `trunk` for 6.7 beta 3.
    
    A full list of changes can be found on GitHub: [https://github.com/WordPress/twentytwentyfive/compare/0d8b24502122650d53964cd413ee58b560870125...5d17f41da83820ea188b26a2a781f486063486d4 WordPress/twentytwentyfive@0d8b245...5d17f41]
    
    Props annezazu, areziaal, beafialho, cwhitmore, franz00, get_dave, joedolson, joen, juanfra, karmatosed, kartikmehta, mukesh27, onemaggie, pgeorgiev, poena, richtabor, sudipatel007, sumitbagthariya16, wildworks, youknowriad.
    Fixes #62218.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59233 602fd350-edb4-49c9-b593-d223f7449a82

commit e4cdc743e1ff0b803ad1662e608146da051edffb
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 14 21:14:49 2024 +0000

    Users: Further adjust the check for `use_ssl` meta in `wp_insert_user()`.
    
    This removes a redundant check for a falsey value, which is equivalent to the `empty()` check directly before.
    
    Includes minor adjustments in the unit test:
    * Adding a `@covers` tag.
    * Correcting the description for clarity.
    * Using `assertSame()` for strict type checking.
    
    Follow-up to [59216].
    
    See #60299.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59232 602fd350-edb4-49c9-b593-d223f7449a82

commit b4682e141d162350901d5363117fc623c43c8c26
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Oct 14 12:36:51 2024 +0000

    Build/Test Tools: Move `composer update` to `env:start`.
    
    Currently, `composer update` is run whenever `test:php` is called to ensure the latest versions of `yoast/phpunit-polyfills` and other dependencies are always installed when running the PHPUnit test suite.
    
    For contributors using the local Docker environment to run tests during development, this is unnecessary and can often result in a 30+ second delay every time `test:php` is called.
    
    This moves the command to `env:install`, reducing the number of times `composer update` is run from many to once. Since the environment needs to be started in order to run tests, `env:install` will still confirm that the latest versions of required dependencies are installed and available prior to running the test suite.
    
    Props azaozz, swissspidy, johnbillion, peterwilsoncc, hellofromtonya.
    Fixes #57189.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59231 602fd350-edb4-49c9-b593-d223f7449a82

commit 1c4df1d43651857abb8f968a894da14bb5c6cc69
Author: Kai Hao <kevin940726@git.wordpress.org>
Date:   Mon Oct 14 11:45:31 2024 +0000

    Editor: Update packages for 6.7 Beta 3.
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    Fixes #62205.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59230 602fd350-edb4-49c9-b593-d223f7449a82

commit e9bfe4393be6e1f5a26fcb9289994e2b82d41bfd
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Oct 14 08:50:29 2024 +0000

    Sitemaps: Add missing `_deprecated_function()` call to newly deprecated method.
    
    Follow-up to [59228].
    
    See #61931.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59229 602fd350-edb4-49c9-b593-d223f7449a82

commit f9bd807866138b83912808891f17b1020fe71bbc
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Oct 14 08:47:34 2024 +0000

    Sitemaps: Improve `sitemap.xml` redirects when using custom permalinks.
    
    Changes the way redirects from `sitemap.xml` to `wp-sitemap.xml` happen, so that they also work when using a more complex custom rewrite structure.
    
    Props gmariani405, swissspidy, euthelup, peterwilsoncc.
    Fixes #61931.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59228 602fd350-edb4-49c9-b593-d223f7449a82

commit 1dcbe1096e14347c0c9913ec9fb985622d9b1285
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 14 01:05:09 2024 +0000

    Bundled Themes: Test new themes are added to new bundled files.
    
    Introduces a test to ensure that new bundled themes are included in the `$_new_bundled_files` array. Modifies previous theme related tests added during the 6.7 release cycle to include the correct annotations.
    
    Props peterwilsoncc, mukesh27, costdev.
    See #61530, #62103.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59227 602fd350-edb4-49c9-b593-d223f7449a82

commit 649efd06293bc0e009801fe928bc34c09e1e4558
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Oct 13 21:20:54 2024 +0000

    Bundled Theme: Twenty Eleven: Fix positioning to make links clickable in mobile.
    
    Fix a combination of floated and absolutely positioned content that caused previous and next links to be stacked under other content, making them unclickable on mobile devices. Adjust the position of the post date so that focus order matches visible order. Prevent overlap of 'Edit' button on post title.
    
    Props kel-dc, parthvataliya, dhruvang21, sabernhardt, wpeople, itpathsolutions, balub, dilip2615, tirth03.
    Fixes #62008.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59226 602fd350-edb4-49c9-b593-d223f7449a82

commit b5cc572ac78a6905505d5899303bcf3a608bff58
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Oct 13 20:47:12 2024 +0000

    Revisions: Improve accessibility of revisions selection.
    
    Add `aria-labelledby` and `aria-describedby` attributes to revision slider selection handle. Add keyboard `:focus` state to revision slider  handle. Move 'multiple revision' checkbox before the buttons panel, matching its visual order. Change diff `Title` and `Content` headings from `h3` to `h2` to correct headings hierarchy.
    
    Props joedolson, rishishah, sarahricker, williamalexander, afercia.
    Fixes #52303.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59225 602fd350-edb4-49c9-b593-d223f7449a82

commit ded6cc7ee70722ec4b193fb431ed83b3e21d0ad6
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sun Oct 13 19:07:06 2024 +0000

    Administration: A11y: Fix accordion accessibility.
    
    Change accordions in the customizer and the navigation menus to make proper usage of accordion markup patterns. This includes adding missing `:focus` states, using a `button` element to control tabbing and interaction, instead of the heading elements, and removing instructional text for screen reader users that was used to compensate for the incorrect markup pattern.
    
    Props afercia, rishishah, kushang78, rcreators, krupajnanda, hmbashar, joedolson.
    Fixes #42002.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59224 602fd350-edb4-49c9-b593-d223f7449a82

commit b4c4c2f1249fbc75f9a63b34a48e5b6d38920f5c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 13 18:47:27 2024 +0000

    Docs: Fix typos in a comment in `wp_default_script_modules()`.
    
    Follow-up to [59083].
    
    Props shailu25.
    Fixes #62213.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59223 602fd350-edb4-49c9-b593-d223f7449a82

commit 5259bbbaa435c69cd832e44e2c36644cb5ba2674
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sun Oct 13 15:41:55 2024 +0000

    Twenty Nineteen: Fixes adjusting avatar dimensions for comment author.
    
    In Twenty Nineteen r58580 increased size of avatars. This caused issues with the position of author checkbox. This resolves by moving without impacting the avatar blocks.
    
    Props sabernhardt, nithins53, sudipatel007.
    Fixes #62096.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59222 602fd350-edb4-49c9-b593-d223f7449a82

commit 6e7acb0103ce64bcd0b66d22cb0efb6249028004
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Sat Oct 12 13:14:12 2024 +0000

    Build/Test Tools: Add input for Gutenberg version to E2E workflow.
    
    The E2E test suite has some basic tests to confirm that the plugin can be activated without conflicts. This works great until the minimum version of WordPress required to run the plugin is raised. Old branches that attempt to run these tests that are newly incompatible with the latest version of the plugin will fail.
    
    This change adds a `gutenberg-version` input to the E2E GitHub Action workflow to allow these tests to continue running with the last compatible version.
    
    Props swissspidy.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59220 602fd350-edb4-49c9-b593-d223f7449a82

commit 3fcd5b775ba940a7f7345c810f4465ae88f4298f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 12 11:57:04 2024 +0000

    Twenty Ten: Document the `$css` parameter in `twentyten_remove_gallery_css()`.
    
    Follow-up to [13012], [13128], [13157], [13552], [13885], [13886].
    
    Props parthvataliya.
    Fixes #62183.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59219 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b360a3f2aa28ac347e5bb06eb6ff5343aa382b7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 11 22:24:06 2024 +0000

    Twenty Nineteen: Document the `$defaults` parameter in `twentynineteen_comment_form_defaults()`.
    
    Follow-up to [43808].
    
    Props parthvataliya.
    See #62183.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59218 602fd350-edb4-49c9-b593-d223f7449a82

commit daa73d294a59e3ab87cf4b51225c562d8fcea7a2
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 11 19:02:30 2024 +0000

    Build/Test Tools: Fix Performance Test workflows on release branches.
    
    This fixes an issue after [59170] that was causing the Performance Test workflows to fail on older branches since the `CODEVITALS_PROJECT_TOKEN` input value was marked as required but was not being passed.
    
    This is a follow-up to [59214] and [59215].
    
    Fixes #62153.
    Props desrosj, joemcgill, flixos90, swissspidy.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59217 602fd350-edb4-49c9-b593-d223f7449a82

commit dfe7c180657e219b15977d00be7fc222a5d4ba79
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Fri Oct 11 17:18:03 2024 +0000

    Users: remove unnecessary writes to the database for use_ssl user meta.
    
    When checking for updates to use_ssl, use strings for the comparison values, matching the stored values. Fixes an issue where calls to wp_update_user updated the database meta value for use_ssl even when the value was missing or unchanged.
    
    Props prettyboymp, rajinsharwar, adamsilverstein, johnbillion, rayhatron, mukesh27, joemcgill.
    
    Fixes #60299.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59216 602fd350-edb4-49c9-b593-d223f7449a82

commit f12827a5876249c2b50ffef78479f424fcd02d0f
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 11 16:46:42 2024 +0000

    Build/Test Tools: Revert [59214].
    
    The commit caused the Performance Tests workflow to fail due to an invalid workflow file.
    
    See #62153.
    Unprops @joemcgill.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59215 602fd350-edb4-49c9-b593-d223f7449a82

commit e89ae0fa220c18f3f00419bec41e83d841f27609
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Oct 11 15:55:21 2024 +0000

    Build/Test Tools: Fix Performance GH workflows on release branches.
    
    This fixes an issue after [59170] that was causing the Performance release workflows to fail on older branches since the `CODEVITALS_PROJECT_TOKEN` input value was marked as required but was not being passed.
    
    Fixes #62153.
    Props desrosj, joemcgill, flixos90.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59214 602fd350-edb4-49c9-b593-d223f7449a82

commit 655125af1b371eae7c0c0bd154404ab8ed9182c8
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Thu Oct 10 21:05:04 2024 +0000

    Themes: Improve performance of applying background image styles in `theme.json`.
    
    The cost of using `WP_Theme_JSON::get_block_nodes()` for this in its original shape was high enough to lead to a performance regression. Therefore this changeset introduces a new option on the method that allows to bypass all logic except for retrieving the node paths, which is much faster and everything that this functionality needs.
    
    Follow up to [58936].
    
    Props mukesh27, flixos90, ramonopoly, joemcgill, andrewserong, swissspidy.
    Fixes #61858.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59213 602fd350-edb4-49c9-b593-d223f7449a82

commit 31ce381cc8a0f63af53c5f107f626763c3d29cb1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 10 17:59:44 2024 +0000

    Twenty Fourteen: Document the `$args` parameter in `Featured_Content::hide_featured_term()`.
    
    Follow-up to [25808], [26556], [28536].
    
    Props parthvataliya.
    See #62183.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59210 602fd350-edb4-49c9-b593-d223f7449a82

commit 43b6b77638c1e7a7ba8cf61f8930dc1564a46d7c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 10 17:56:41 2024 +0000

    Build/Test Tools: Temporarily ignore Slack failures.
    
    When many workflows are initiated at the same time, there are often instances where the requests to Slack providing updates are rate limited. This usually happens when the Test Old Branches workflow runs and initiates testing for all workflows in branches that could potentially receive a security update.
    
    Even though everything was successful in the workflow except the message, the workflow run is marked as failed. The next time the same workflow runs for that branch, a “fixed” message will be sent to `#core` in Slack. The result is a burst of messages that is quite noisy and unnecessary.
    
    This temporarily adds `continue-on-error` to the jobs responsible for sending the messages until a better solution can be decided on.
    
    See #61701.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59209 602fd350-edb4-49c9-b593-d223f7449a82

commit f2a4205e7de05fb0460838d28321809a7ed63f14
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 10 17:08:15 2024 +0000

    Build/Test Tools: Update 3rd-party GitHub Actions.
    
    This applies several updates to the following 3rd-party GitHub Actions:
    - `actions/setup-node`
    - `actions/cache`
    - `actions/upload-artifact`
    - `slackapi/slack-github-action`
    - `codecov/codecov-action`.
    
    See #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59208 602fd350-edb4-49c9-b593-d223f7449a82

commit e9e9d291f179b1add6e09bf7bd34b3f53fedf027
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 10 15:56:39 2024 +0000

    Build/Test Tools: Configure npm to `prefer-dedupe`.
    
    `npm dedupe` is a command that attempts to simplify the structure of the local package tree by moving dependencies higher up. This allows for more effective package sharing, less transfer, and smaller `node_modules` folders.
    
    This change configures npm to `prefer-dedupe` by default so that these benefits persist and the command is not required to be run regularly.
    
    This also brings better alignment with the Gutenberg repository, which has already configured `prefer-dedupe`.
    
    Props jonsurrell.
    Fixes #62190.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59207 602fd350-edb4-49c9-b593-d223f7449a82

commit 292769dde95d7fec3b4f335af5b1c5cf04054db4
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 10 13:22:01 2024 +0000

    Build/Test Tools: Update npm lockfile to version 3.
    
    This updates the `package-lock.json` file to use the version 3 format.
    
    Version 3 removes the version 1 format data, resulting in a smaller file. While version 3 format is not supported in npm < 7, a lower limit is enforced in the `engines` declaration within `package.json` and has been >= 7 since [56378].
    
    The Gutenberg repository has already been updated to use version 3.
    
    Props jonsurrell.
    See #62190.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59206 602fd350-edb4-49c9-b593-d223f7449a82

commit acc97f0d94ea9d281d3255ec2fba170573bd30a6
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 10 13:14:25 2024 +0000

    Build/Test Tools: Revert [59204].
    
    The changeset had an incomplete commit message.
    
    Unprops desrosj.
    See #62190.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59205 602fd350-edb4-49c9-b593-d223f7449a82

commit 182d93b1511cf360e6992d102e732bbd5dea727e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Oct 10 12:57:35 2024 +0000

    Build/Test Tools: Update npm lockfile to version 3.
    
    This updates the `package-lock.json` file to use version 3
    
    Props jonsurrell.
    See #62190.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59204 602fd350-edb4-49c9-b593-d223f7449a82

commit 6519480348c6cf50478a911efd53754f0ac2eb7b
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Thu Oct 10 11:52:20 2024 +0000

    REST API: Correct the opening tag for this method's docblock.
    
    Props szepeviktor
    
    See #61608
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59203 602fd350-edb4-49c9-b593-d223f7449a82

commit 6a07d7a81438af2864ab9a59418632bc983575ad
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Oct 9 23:30:05 2024 +0000

    Media: Update file size meta data when editing images.
    
    Fixes an error in which the file size meta data retained the original upload's values follow a user editing the images in the media screen.
    
    The original images' file sizes are now stored in the backup image data to allow for them to be restored when a user restores the original image.
    
    
    Props ankit-k-gupta, antpb, audrasjb, chaion07, gauravsingh7, joedolson, oglekler, pls78, rajinsharwar, sayedulsayem, vertisoft.
    Fixes #59684.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59202 602fd350-edb4-49c9-b593-d223f7449a82

commit 4ccb5b4af09b8ebc1b3e2ac36809079ee2274f04
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Oct 9 22:09:30 2024 +0000

    Editor: Remove prefix from `wp_(un)register_block_template()` functions.
    
    Removes the `wp_` prefix from block template registration functions for consistency with other block related registration functions.
    
    * `wp_register_block_template()` becomes `register_block_template()`.
    * `wp_unregister_block_template()` becomes `unregister_block_template()`.
    
    Props aljullu, aristath, youknowriad, swissspidy.
    Fixes #62193.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59201 602fd350-edb4-49c9-b593-d223f7449a82

commit ccb77c523a49549ffe713720d9c56899f3be3a6c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 9 20:15:12 2024 +0000

    Twenty Eleven: Document the `$instance` parameter in Ephemera widget form.
    
    Follow-up to [17669], [25625].
    
    Props parthvataliya.
    See #62183.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59200 602fd350-edb4-49c9-b593-d223f7449a82

commit 2ae4473373b49873132ed687c008979533f04d84
Author: Andrew Serong <andrewserong@git.wordpress.org>
Date:   Wed Oct 9 01:26:13 2024 +0000

    Editor: Fix writingMode support in dynamic blocks.
    
    Adds missing handling for the `typography.writingMode` property to the style engine, so that dynamic blocks correctly render text orientation styles on the site frontend.
    
    Props wildworks, aaronrobertshaw, poena, get_dave, ndiego.
    Fixes #62189.
    See #59306.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59199 602fd350-edb4-49c9-b593-d223f7449a82

commit 8eec9f25be9550b93b52606d36e96729713c62c1
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue Oct 8 22:30:57 2024 +0000

    Role/Capability: Introduce the `current_user_can_for_site()` and `user_can_for_site()` functions.
    
    The `current_user_can_for_site()` function is a replacement for `current_user_can_for_blog()` which is now deprecated. `user_can_for_site()` is a renaming of the `user_can_for_blog()` function which was introduced in [59123]. The intention of this change is to prevent the introduction of a new function which uses the old "blog" naming structure.
    
    Props swissspidy, spacedmonkey, flixos90, johnjamesjacoby
    
    Fixes #45197
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59198 602fd350-edb4-49c9-b593-d223f7449a82

commit ee61e6084a5b9d999bcd0c124ce5b7c08c749ae9
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Oct 8 22:27:44 2024 +0000

    Customizer: Do not force users to go through the cropping flow if the image is the correct ratio.
    
    If a user uploads an 800x800 image and a 512x512 image is required, then they should be allowed to skip cropping. This still creates the correct crop behind the scenes but simplifies the flow a bit for users.
    
    Props nirajgirixd, celloexpressions, westonruter, azaozz, jorbin.
    Fixes #36441.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59197 602fd350-edb4-49c9-b593-d223f7449a82

commit 5da6d2a5b02722f42c75e54d4ffbe7225013967a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 8 18:37:32 2024 +0000

    Docs: Synchronize description for the `$instance` parameter in `WP_Widget` methods.
    
    Follow-up to [30382].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59196 602fd350-edb4-49c9-b593-d223f7449a82

commit 4883bd95f02c96f9923e1067111d4d1bb5302aab
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 8 00:41:25 2024 +0000

    Post WordPress 6.7 Beta 2 version bump.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59195 602fd350-edb4-49c9-b593-d223f7449a82

commit ad8ffc55aefd82b32e32351d65fdcc148e76ef1a
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 8 00:06:51 2024 +0000

    WordPress 6.7 Beta 2.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59194 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a5758d5b36be7c6f5835255016c91763e118294
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 7 22:26:31 2024 +0000

    Docs/Bundled Themes: Add `@since` annotation for introduction of TT5.
    
    See #62180, #61608.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59193 602fd350-edb4-49c9-b593-d223f7449a82

commit 3528598f5a92a36122b728515bd96f58b99b82bc
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 7 21:11:50 2024 +0000

    General: Memoize the return value in `wp_get_wp_version()`.
    
    Cache the unmodified `$wp_version` value as a static. This retains the current behaviour during the upgrade process `$wp_version` referencing the version of WordPress being upgraded from.
    
    Follow up to [58848].
    
    Props Cybr, debarghyabanerjee, mukesh27, costdev, SergeyBiryukov, TobiasBg, desrosj, azaozz.
    Fixes #61782.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59192 602fd350-edb4-49c9-b593-d223f7449a82

commit ef96fb3c0801c7974a4c8648c1b76e2c8ddd3b54
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Oct 7 18:07:57 2024 +0000

    Twenty Twenty-Five: Merge the latest improvements for Beta 2.
    
    This merges the latest improvements to the Twenty Twenty-Five theme from GitHub into `trunk` for 6.7 beta 2.
    
    A full list of changes can be found on GitHub: https://github.com/WordPress/twentytwentyfive/commits/trunk/?since=2024-10-01&until=2024-10-07.
    
    Props poena, mukesh27, jonnywatersbb, cliffralessio, afercia, samtoohey93, codersantosh, carstenbach, gohelkunjan, ryelle, aaronrobertshaw, wildworks, yukinobu, audrasjb, mdviralsampat, hanneslsm, ddewan, greenshady, joedolson, areziaal, alaminfirdows, kartikmehta, cwhitmore.
    Fixes #62180.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59191 602fd350-edb4-49c9-b593-d223f7449a82

commit c063d77070dbf1a2301ba5a935ec83d04496bfaa
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Oct 7 17:46:47 2024 +0000

    Docs: Fix typo in a comment in `WP_Customize_Control::render_control()`.
    
    Follow-up to [38906].
    
    Props nithins53, nithi22, mukesh27, jdahir0789.
    Fixes #62186.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59190 602fd350-edb4-49c9-b593-d223f7449a82

commit 15a114ea34edf89e78b859fad7f0f9432ca05776
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Mon Oct 7 17:11:43 2024 +0000

    Media: Cache the results of _wp_image_editor_choose.
    
    This saves the `WP_Image_Editor` implementation that supports the queried options to a cache to avoid performing redundant compatibility checks, which can be expensive. For example, `WP_Image_Editor_Imagick::supports_mime_type()` can get called in the editor multiple times to determine which image formats can be supported during `wp_plupload_default_settings()`.
    
    With this cache, the support will be stored for 1 day, speeding up loading times for the editor. This also introduces a new global caching group, `image_editor` to manage any subsequent caches that are related to image editor optimizations.
    
    Props joemcgill, desrosj, westonruter, flixos90, adamsilverstein, mukesh27, joehoyle.
    Fixes #61532.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59189 602fd350-edb4-49c9-b593-d223f7449a82

commit 4c1898dad24db85eba36f7dbc92eca51609a45a6
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Oct 7 16:55:26 2024 +0000

    Editor: A11y: Fix tab order, state, and focus in classic editor.
    
    Remove code that forced focus to skip from the title field to the editor. Add link to skip to editor to give the user control over their path. Set `aria-pressed` on editor selector buttons to communicate which editor is enabled. Make focus state visible on unselected editor button. Remove `wp_keep_scroll_position` flag used for IE compatibility. Add `role="presentation"` to table used as status info bar.
    
    This addresses a long-standing accessibility problem in the classic editor which created a confusing keyboard navigation path by skipping all content between the title field and the content editor.
    
    Props afercia, rcreators, benjamin_zekavica, sharonaustin, joedolson.
    Fixes #29838.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59188 602fd350-edb4-49c9-b593-d223f7449a82

commit 90d242939d030a057c6a0719af415ec336d379e2
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 7 02:47:18 2024 +0000

    Media: Hide "copied" tooltip once another URL is copied to the clipboard.
    
    On the media grid view, hide the copied tooltip when a subsequent URL is copied to the clipboard. This prevents tooltips from remaining displayed if a user copies multiple URLs within a three second period.
    
    Props antpb, debarghyabanerjee, jayadevankbh, sabernhardt.
    Fixes #60082.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59187 602fd350-edb4-49c9-b593-d223f7449a82

commit 023d3c4b3dfdcb59bb235d79697a6d55698719b8
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Oct 7 00:35:43 2024 +0000

    Tests/Build Tools: Improve tests for bundled themes.
    
    Introduce two new tests relating to bundled themes:
    
    1. Ensure the list of tested themes matches the list of themes defined in `WP_Theme`
    2. Ensure the run time value of `WP_DEFAULT_THEME` is included in the list of themes defined in `WP_Theme`
    
    See #61530.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59186 602fd350-edb4-49c9-b593-d223f7449a82

commit ce9c8d2dfed79da3c8f47dfda56bc6bce06f933e
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sun Oct 6 23:35:49 2024 +0000

    Tests/Build Tools: Update SCSS files to use new color functions.
    
    Replaces deprecated color functions with their updated equivalents, see [https://sass-lang.com/documentation/breaking-changes/color-functions/ the deprecation documentation].
    
    This results in four changes in the built files, `hsl` colors with a negative lightness value are replaced with the keyword `black`. These changes are harmless as they have no effect on the rendered colors.
    
    Props aslamdoctor, veryard.
    Fixes #62142.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59185 602fd350-edb4-49c9-b593-d223f7449a82

commit fde7b019b398b9c7b56be7e5f3f4db3eb7012f2c
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Sun Oct 6 22:43:57 2024 +0000

    Editor: Update packages for 6.7 Beta 2.
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    Fixes #62179.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59184 602fd350-edb4-49c9-b593-d223f7449a82

commit 1c81f3469bfe2aaee8f09506864939f8b08bf6b5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Oct 6 16:54:10 2024 +0000

    Coding Standards: Use strict comparison in `wp_list_comments()`.
    
    Follow-up to [8962], [9296], [9424], [34735], [36157].
    
    Props deepakrohilla, sabernhardt, aristath, poena, afercia, SergeyBiryukov.
    Fixes #62169. See #61607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59183 602fd350-edb4-49c9-b593-d223f7449a82

commit 208889bc87e72f52b1923a4822826d6a623699fa
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Sat Oct 5 23:23:40 2024 +0000

    Docs: Fix note about not using new functions in `update-core.php` and `class-core-upgrader.php`.
    
    Props costdev.
    See #62165.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59182 602fd350-edb4-49c9-b593-d223f7449a82

commit c847d7b71f6c28c6f4c85c423e65c072014f7196
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Oct 5 23:02:53 2024 +0000

    Comments: Enable using `reply_to_text` as visible link.
    
    Add an option `show_reply_to_text` as an option to use the current `aria-label` attribute on comment reply links as the visible link. If used, remove the `aria-label`. Also add documentation of the `reply_to_text` parameter to the function documentation.
    
    Props halilesen, sabernhardt, snehapatil02, jainil07, joedolson.
    Fixes #59965.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59181 602fd350-edb4-49c9-b593-d223f7449a82

commit 3d591078b532368b401e8495f3f1a4d209e236e5
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Sat Oct 5 22:49:43 2024 +0000

    General: Do not use the new `wp_get_wp_version()` in `update-core.php` and `class-core-upgrader.php`.
    
    All functions that are used there must be present in both the previous version being upgraded from, and the later version that's being installed (e.g. when rolling back Core) as these files are used in both.
    
    Props djennez, SergeyBiryukov, jorbin, peterwilsoncc, azaozz.
    Fixes #62165.
    See 61627.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59180 602fd350-edb4-49c9-b593-d223f7449a82

commit 6c285f03ada8e37c55db6434fecb2867dd82b009
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Oct 5 22:29:16 2024 +0000

    Menus: Remove redundant `title` attributes.
    
    Omit `title` attributes if they are defined but are the same text as the menu item title, either before or after filtering. If a navigation menu filter makes significant changes to the menu title without changing the title attribute, this will still remove them. The cases where this occurs and the title attribute is still a useful value will be very uncommon, however.
    
    Props hareesh-pillai, audrasjb, sabernhardt, afercia, sergeybiryukov, tirth03, joedolson.
    Fixes #51299.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59179 602fd350-edb4-49c9-b593-d223f7449a82

commit 7221eb1aea352fda1e6c351781e92f7ad8d37672
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Oct 5 22:27:10 2024 +0000

    Revert [59177].
    
    This was the wrong version of the patch.
    
    Unprops @joedolson.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59178 602fd350-edb4-49c9-b593-d223f7449a82

commit 423111099805739548f2418f6473de9e18862365
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Oct 5 22:08:06 2024 +0000

    Menus: Remove redundant `title` attributes.
    
    Omit `title` attributes if they are defined but are the same text as the menu item title, either before or after filtering. If a navigation menu filter makes significant changes to the menu title without changing the title attribute, this will still remove them. The cases where this occurs and the title attribute is still a useful value will be very uncommon, however.
    
    Props hareesh-pillai, audrasjb, sabernhardt, afercia, sergeybiryukov, tirth03, joedolson.
    Fixes #51299.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59177 602fd350-edb4-49c9-b593-d223f7449a82

commit dc6f0596db58d986ed72e02a492aa779aa609375
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Sat Oct 5 19:21:59 2024 +0000

    WP_Debug_Data: Extract `wp-themes` data into separate methods.
    
    This is the last part in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the findal set of twelve groups, the `wp-active-theme`, `wp-parent-theme`, and `wp-themes-inactive` info, into a separate methods focused on those data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7507
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell.
    Fixes #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59176 602fd350-edb4-49c9-b593-d223f7449a82

commit 2859999e6b0b58b4b5b34c85031dd3497e6333b3
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Sat Oct 5 16:26:17 2024 +0000

    WP_Debug_Data: Extract `wp-paths-sizes` data into separate methods.
    
    This is the tenth part in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the eleventh of twelve groups, the `wp-paths-sizes` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7445
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59175 602fd350-edb4-49c9-b593-d223f7449a82

commit c4752a11cfc53a49b63d4b786bac9fe62eba1604
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Sat Oct 5 15:57:06 2024 +0000

    WP_Debug_Data: Extract `wp-core` data into separate methods.
    
    This is the ninth part in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the tenth of twelve groups, the `wp-core` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7357
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59174 602fd350-edb4-49c9-b593-d223f7449a82

commit 95daed6ef552d42f00b9a7e3b922fa408d3017b8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Oct 5 09:43:22 2024 +0000

    Twenty Sixteen: Fix PHPCS issues.
    
    There must be exactly one blank line after the file comment.
    
    Follow-up to [40851].
    
    Props pitamdey, umeshsinghin, sabernhardt, mukesh27, nithins53, deepakrohilla, viralsampat.
    Fixes #62160.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59173 602fd350-edb4-49c9-b593-d223f7449a82

commit 6c1d60453ab0b4d689f94673f8e6b530ff4b7cbc
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Oct 4 22:10:46 2024 +0000

    WP_Debug_Data: Extract `wp-plugins` data into separate methods.
    
    This is the eighth part in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the eighth and ninth of twelve groups, the `wp-plugins-active` and `wp-plugins-inactive` info, into separate methods focused on that data.
    
    Unlike the other patches in this series, the plugins data comes from a single source and is separated out into separate debug sections, so the active and inactive methods call a new shared method which provides raw data for both. Optimizations and refactors may occur in follow-up tickets.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7458
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59172 602fd350-edb4-49c9-b593-d223f7449a82

commit 647ee057595671decff0c54f6f458a3d90c8ed7d
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Fri Oct 4 17:34:50 2024 +0000

    Bootstrap/Load: Prevent loopback scraping errors when there is no key or nonce.
    
    For error detection and rollback functions WordPress also starts a loopback request to the homepage. This loopback request is made with special parameters that when they don't match, generates an erorr. This hardens that flow by exiting out of the check if the nonce or key is missing or the nonce is not saved in the DB. It further hardens it by not caching the failures and asking search engines not to index the url with the failures.
    
    Props georgwordpress, swissspidy, jorbin.
    Fixes #62105.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59171 602fd350-edb4-49c9-b593-d223f7449a82

commit c3b9b39b8d4207e8d438c545c5df816967b5bb24
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Oct 4 16:24:33 2024 +0000

    Build/Test Tools: Resolve access failure to continue sending commit performance data to Code Vitals dashboard.
    
    This originally broke in [58165] and unfortunately went unnoticed for a while because the failing request to send the data did not cause the GitHub workflows to fail. This changeset resolves the underlying access problem, which was happening because reusable GitHub workflows do not automatically receive secrets from the calling workflow. More concretely, the relevant `CODEVITALS_PROJECT_TOKEN` was not being explicitly passed to the reusable workflow.
    
    The changeset also includes a change so that in the future a failing request would cause the workflow to fail, which ensures a similar problem further down the road wouldn't go unnoticed.
    
    Props joemcgill, flixos90, swissspidy, mukesh27, sergeybiryukov
    Fixes #62153.
    See #61213.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59170 602fd350-edb4-49c9-b593-d223f7449a82

commit b59d154705cb5041912e5565278fa89a2c33746d
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 4 15:35:13 2024 +0000

    Build/Test Tools: Clean up PR comments after action is taken.
    
    There’s now a number of automated comments left on pull requests to help contributors that a PR can easily be overridden with activity.
    
    Some of the comments are only relevant until a specific action is taken. One such comment is for informing the PR author that a link to a Trac ticket is a requirement for considering any suggested changes.
    
    This updates the pull request comment workflow to remove the comment once a link to a Trac ticket is properly included.
    
    Props debarghyabanerjee.
    Fixes #61567.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59169 602fd350-edb4-49c9-b593-d223f7449a82

commit 2c17f65542b0762bf7367ba2093599ea6000476a
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 4 14:07:03 2024 +0000

    Build/Test Tools: Enable testing for PHP 8.4.
    
    With PHP 8.4 due out in November later this year, contributors have been working on ensuring WordPress 6.7 is as compatible as possible. Enough progress has been made during this release cycle where PHPUnit tests now run successfully with no failures reported.
    
    This change enables PHP 8.4 testing throughout Core’s GitHub Action workflows to ensure no new problems are introduced going forward.
    
    There are two exceptions to this:
    - The Importer plugin has some compatibility issues that produce test failures. There is an open pull request upstream, but these problematic tests have been marked skipped when running on PHP 8.4 until that PR is merged.
    - Since no stable versions of xDebug with PHP 8.4 support have been published, these tests are also skipped for now.
    
    Props jrf, desrosj.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59168 602fd350-edb4-49c9-b593-d223f7449a82

commit c5108d19580026b36140889d7bae77f6a8d51186
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 4 13:22:38 2024 +0000

    Build/Test Tools: Limit when install testing runs.
    
    In most cases, running the installation testing workflow in forked repositories is unnecessary and wasteful. This adds conditions to that workflow to prevent the tests from running on forks unless a pull request is being made back to that fork.
    
    This pattern is already used across other workflows.
    
    Props jrf.
    See #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59167 602fd350-edb4-49c9-b593-d223f7449a82

commit 71e581cf5221a6610961b0c61a6185961eed5afd
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Oct 4 13:17:35 2024 +0000

    Coding Standards: Committing changes after `composer format`.
    
    This commits some minor changes made when running `composer format`.
    
    Follow up to [58975], [59011], [59115].
    See #61103, #62014, #61648.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59166 602fd350-edb4-49c9-b593-d223f7449a82

commit abe564fa13db7f478d9a24a1a31181891ad35239
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Oct 4 11:02:27 2024 +0000

    Docs: Use typed array notation for the `$attrs` parameter in `links_add_base_url()`.
    
    Follow-up to [8540], [32590], [46596].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59165 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d3c4888d8431ecc2db2c92c76ff8f9539ee6df4
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Oct 4 00:09:11 2024 +0000

    WP_Debug_Data: Normalize visibility of new methods.
    
    In ongoing work to modularize the `WP_Debug_Data` class, several methods were added with `public` visibility. This patch sets the new methods to `private` as a measure to ensure optionality as the changes progress, since it's easier to move from private to public than the other way around.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7482
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Follow-up to [58830], [58855], [58964], [59002], [59011], [59060], [59100].
    
    Props apermo, jonsurrell.
    Fixes #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59164 602fd350-edb4-49c9-b593-d223f7449a82

commit 0e69bc9413db8216f52c8a2ccae7da31720b1397
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Oct 3 23:42:43 2024 +0000

    Tests: Bring some consistency to `links_add_base_url()` and `links_add_target()` tests.
    
    Includes:
    * Correcting the test class name as per the naming conventions.
    * Documenting data provider values using hash notation.
    * Passing the `$attrs` parameter to the function if not `null`.
    
    Follow-up to [26328], [55563], [59162].
    
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59163 602fd350-edb4-49c9-b593-d223f7449a82

commit 636d748a4936216a1567d0898d8fa15a08f415b0
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Oct 3 23:16:21 2024 +0000

    Tests/Build Tools: Introduce tests for `links_add_base_url()`.
    
    Props pbearne, rajinsharwar, jorbin, mukesh27, aristath, desrosj, ironprogrammer.
    Fixes #60389.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59162 602fd350-edb4-49c9-b593-d223f7449a82

commit 278d1d57b583d78d14b1f45a724de1daa2afc8a5
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Oct 3 22:44:30 2024 +0000

    Administration: Switch core post type labels to `add_new_item`.
    
    In [56515], the default value of `Add New` was changed to "Add New Post / Add New Page". This caused problems with post types where `add_new` was not declared.
    
    Change core usage to reference the `add_new_item` value and revert the default value of `add_new` back to "Add New / Add New". This retains the accessibility advantages without creating counter intuitive usage of the `add_new` key.
    
    With this change, post types registered with no `add_new` key will be unimpacted in core, and post types registered with no `add_new_item` key will use the default "Add New Post", which is not a change from the current state.
    
    Props smerriman, afercia, rcreators, joedolson, eclev91, johnbillion.
    Fixes #60045.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59161 602fd350-edb4-49c9-b593-d223f7449a82

commit b077dc50c1e7ba8ad492a399ccb8804d7cca86bd
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Oct 3 21:26:57 2024 +0000

    Administration: A11y: Clarify settings in discussion options.
    
    Fix several settings groups in the discussion options that were written in a compound/sentence structure format. These formats are difficult to parse for screen reader users and have significant layout problems in mobile viewports.
    
    Change settings to use independent labeling.
    
    Props Cheffheid, anthakkar08, DrewAPicture, afercia, jwgoedert, sannevndrmeulen, sudipatel007, tirth03, joedolson.
    See #31354.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59160 602fd350-edb4-49c9-b593-d223f7449a82

commit 03834fec6848fe433045a3b19b1b45236140c3e4
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Oct 3 00:23:53 2024 +0000

    General: Expand use of `wp_get_wp_version()`.
    
    Expands the use of `wp_get_wp_version()` to get an unmodified value of the current WordPress version in various locations in which it would be unhelpful if a plugin has modified the global `$wp_version`.
    
    This includes:
    
    * Theme and plugin compatibility tests
    * During the upgrade process of WP Core
    * Debug and site health data reports of the current version
    * Version number display in the dashboard
    * Block theme export and caching utilities
    * The `WPDB` class
    
    Props peterwilsoncc, hellofromtonya.
    See #61627.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59159 602fd350-edb4-49c9-b593-d223f7449a82

commit 552077a27589294b2cf6097205a4045585016281
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Oct 2 19:01:52 2024 +0000

    Twenty Fourteen: Fix various PHPCS issues.
    
    * Inline comments must end in full stops, exclamation marks, or question marks.
    * There must be exactly one blank line after the file comment.
    
    Follow-up to [24832], [25023], [25088], [25090], [25213], [51045].
    
    Props pitamdey, dhruvang21, aristath.
    Fixes #62098.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59158 602fd350-edb4-49c9-b593-d223f7449a82

commit d42d95856e9ae3f9e2ed0aad176c066d7f8e3229
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Wed Oct 2 13:42:11 2024 +0000

    I18N: Do not load translations directly in `load_*_textdomain`.
    
    In [59127], `_doing_it_wrong` warnings were added if plugins or themes load translations too early, either through a manual function call or just-in-time loading.
    
    Because many plugins and themes still manually call `load_plugin_textdomain()`, `load_theme_textdomain()` or `load_muplugin_textdomain()`, even though they don't have to anymore, that caused a lot of warnings.
    
    With this new approach, these functions merely register the translations path in the existing `WP_Textdomain_Registry` and do not immediately try to load the translations anymore. The loading is all handled by the just-in-time functionality.
    
    This way, warnings will only be emitted if triggering the just-in-time loading too early, greatly improving the developer experience and to a degree also performance.
    
    Props swissspidy, sergeybiryukov, mukesh27.
    See #44937.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59157 602fd350-edb4-49c9-b593-d223f7449a82

commit 1ec0abb212da8da286c5f1ef25db85cca5c94cfb
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Oct 1 18:44:01 2024 +0000

    Revert [59139] due to broad side effects in media library.
    
    The change in [59139] caused all media modal menus to disappear.
    
    Unprops joedolson.
    See #60666.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59156 602fd350-edb4-49c9-b593-d223f7449a82

commit 522a9091c3a48553e61800de1967c7d77ff26e1c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Oct 1 17:57:49 2024 +0000

    Site Health: Adjust display of the `DB_COLLATE` and `WP_ENVIRONMENT_TYPE` constants.
    
    Includes:
    * Simplifying the logic and bringing some consistency to how the values are checked and displayed.
    * Correcting the debug value for `DB_COLLATE`. This should be the actual contents of the constant, and empty if it is indeed empty, as the debug data that's copied and shared should represent the raw value, and does not need to be in a user-readable format.
    
    Follow-up to [45782], [52021], [54239], [59147].
    
    Props Clorith, SergeyBiryukov.
    See #58265.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59155 602fd350-edb4-49c9-b593-d223f7449a82

commit 957b4e5a5ec921abe183640d740149df87a9b851
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Tue Oct 1 17:23:37 2024 +0000

    Script Modules: prevent broken links by using includes_url.
    
    [59083] introduced an issue where Script Modules registered src does not correctly respect the includes path.
    
    Before that change, script modules were registered using includes_url. The patch used a hard-coded path which breaks when sites are not served from the root, e.g. the site root is https://example.com/wp instead of https://example.com/.
    
    Follow-up to [59083].
    
    Props nendeb55, jonsurrell, cbravobernal.
    
    Fixes #62146.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59154 602fd350-edb4-49c9-b593-d223f7449a82

commit 98bb9414f4b77ba2ea184bde0c0a7bf2aeddb701
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Tue Oct 1 17:19:37 2024 +0000

    Interactivity API: Fix code formatting and add better types in docstrings.
    
    Follow-up to [62136].
    
    Props swissspidy.
    Fixes #62149.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59153 602fd350-edb4-49c9-b593-d223f7449a82

commit ff3bb8d6d08f4e3fa75c56d53a4843662b0014d7
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Tue Oct 1 04:38:00 2024 +0000

    Post WordPress 6.7 Beta 1 version bump.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59152 602fd350-edb4-49c9-b593-d223f7449a82

commit 03be079386f90df12e56e218e589bb7a27e686ef
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 1 03:49:31 2024 +0000

    Bundled Themes: Second follow up import of Twenty Twenty-Five.
    
    Remove TT5 from performance tests as the baseline tests run against an older version of WordPress that do not include all of the functions used in the new theme.
    
    Follow up to [59146], [59150].
    
    Props mukesh27.
    See #62103.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59151 602fd350-edb4-49c9-b593-d223f7449a82

commit 79785ac94a26b1817c5dce27a2c72ded5e0a55d1
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Oct 1 03:25:18 2024 +0000

    Bundled Themes: Follow up import of Twenty Twenty-Five.
    
    Add additional references to the new default theme required in various locations of the code base, build steps and unit tests.
    
    Follow up to [59146].
    
    Props afragen, dd32, desrosj, davidbaumwald, jorbin, courane01, kirasong.
    See #62103.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59150 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f957760a69241035197ad65deb1f857e208aa30
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Tue Oct 1 02:15:59 2024 +0000

    WordPress 6.7 Beta 1.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59149 602fd350-edb4-49c9-b593-d223f7449a82

commit 14dab40b6dc28074c39401559539c679b883addb
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Tue Oct 1 01:16:30 2024 +0000

    Editor: Update packages for 6.7 Beta 1.
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    See #61906.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59148 602fd350-edb4-49c9-b593-d223f7449a82

commit 91b451703b908bbb93542c07b780c6c8179b749e
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Oct 1 01:10:38 2024 +0000

    Site Health: Note when DB_COLLATE is defined but empty.
    
    Right now, for example if DB_COLLATE is defined as '', the value will not be shown in the WordPress Constants list, there's just an empty space. This adds a message so it's clearer when the constant is empty.
    
    Props Presskopp, brobken, Clorith.
    Fixes #58265.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59147 602fd350-edb4-49c9-b593-d223f7449a82

commit a268866b06c4da267038875eee767df98e025def
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 23:55:05 2024 +0000

    Bundled Themes: Initial import of the Twenty Twenty-Five default theme.
    
    It's a new dawn, it's a new day.
    It's a new default theme for 2025.
    And I'm feeling good.
    
    Props poena, karmatosed, onemaggie, juanfra, garethelwell, joen, beafialho, richtabor, noruzzaman, shailu25, kishanjasani, up1512001, ajlende, huzaifaalmesbah, kafleg, dballari, lastsplash, jennifarhat, amjadr360, rejaulalomkhan, oncecoupled, devmuhib, tanvirul, arkenon, elfu98, erichmond, kardi420, ktaron, melchoyce, maneshtimilsina, jorbin, ritterml, eherman24, vcanales, ikamal, bobbyleenoblestudios, germanfrelo, kraftbj, mcrisp1972, peterwilsoncc, luminuu, eliorivero, jeherve, fac3less, alexandrebuffet.
    Fixes #62103.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59146 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ef1ff13dc4b10f543058c994fc79776d3e629b0
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Mon Sep 30 23:54:49 2024 +0000

    Media: improve support for lossless WebP.
    
    When uploading lossless WebP images, WordPress now correctly outputs lossless WebP with both the Imagick and GD image editors.
    
    Props: adamsilverstein, martinkrcho.
    Fixes #60291.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59145 602fd350-edb4-49c9-b593-d223f7449a82

commit 9b6c034e2fbb3bb876932cf3770a93791a7a22f3
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 23:27:34 2024 +0000

    Formatting: Improve parenthesis handling in `make_clickable()`.
    
    Improve the regular expression for making links clickable to account for parenthesis in links containing an extension, for example: `http://wordpress.org/my-image(2).jpg`.
    
    Props coquardcyr, hellofromtonya, parthvataliya, rhellewellgmailcom.
    Fixes #62037.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59143 602fd350-edb4-49c9-b593-d223f7449a82

commit cf536009d56a354ebbeba41c806287ad3eb224be
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 30 23:25:41 2024 +0000

    External Libraries: Correct the case for `wp-includes/SimplePie/src/Gzdecode.php`.
    
    The file should be named `Gzdecode.php` (with the capital G), to avoid autoloading problems on case-sensitive file systems (*nix).
    
    Follow-up to [59141].
    
    Props jrf.
    See #55604.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59142 602fd350-edb4-49c9-b593-d223f7449a82

commit ebfb7649ca168d585eda8be789db3817c439c585
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 30 22:48:16 2024 +0000

    External Libraries: Update the SimplePie library to version 1.8.0.
    
    The most notable change in this update is that all code is now namespaced and uses PSR-4 classes, though there is a compatibility layer available for extenders using the older class names, so plugin or theme authors directly using SimplePie can decide for themselves when they want to change to using the namespaced names for SimplePie classes.
    
    Note: This commit includes additional fixes for PHP 8.4 compatibility ([https://github.com/simplepie/simplepie/pull/875 PR 875], [https://github.com/simplepie/simplepie/pull/888 PR 888]) from the `one-dot-eight` branch of SimplePie, which is expected to be [https://github.com/simplepie/simplepie/pull/886 released as SimplePie 1.8.1] soon.
    
    References:
    * [https://github.com/simplepie/simplepie/releases/tag/1.8.0 SimplePie 1.8.0 release notes]
    * [https://github.com/simplepie/simplepie/releases/tag/1.7.0 SimplePie 1.7.0 release notes]
    * [https://github.com/simplepie/simplepie/releases/tag/1.6.0 SimplePie 1.6.0 release notes]
    * [https://github.com/simplepie/simplepie/compare/1.5.8...1.8.0 Full list of changes in SimplePie 1.8.0]
    
    Follow-up to [47733], [49176], [52393], [52413].
    
    Props jrf, peterwilsoncc, chaion07, cu121, markparnell, audrasjb, costdev, Presskopp, desrosj, faisal03, mukesh27, SergeyBiryukov.
    See #55604.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59141 602fd350-edb4-49c9-b593-d223f7449a82

commit c24f043eda9b6d6ef5790d12749c5c67f0048433
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Sep 30 22:31:35 2024 +0000

    Upgrade/Install: Indicate JPEG XL support when checking upgrades.
    
    This adds tracking of the JPEG XL image type support alongside WebP, HEIC, and AVIF image types when requesting an upgrade from WordPress.org.
    
    This will check for JPEG XL support in both ImageMagick and GD, even though GD technically does not yet have support for JPEG XL.
    
    Props deepakrohilla, swissspidy, dd32, ayeshrajans, samiamnot, joemcgill.
    Fixes #62050.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59140 602fd350-edb4-49c9-b593-d223f7449a82

commit 26aef328911fbe931460fdfdb857e9a35ef01593
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Sep 30 22:20:36 2024 +0000

    Media: Hide sidebar in Create Gallery when no actions available.
    
    Check whether the media frame menu has action items. If not, hide the sidebar. Prevents showing a sidebar that looks interactive but contains no controls that are interactive. When in Create Gallery mode, the only action available is 'Create Gallery', and it is always active.
    
    Props ukdrahul, ababir, ruchirj, nhrrob, joedolson, shailu25, mukesh27, sudipatel007, dhrumilk.
    Fixes #60666.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59139 602fd350-edb4-49c9-b593-d223f7449a82

commit 891a7743dd2a96d22158fc6f5fc06ffa8c3b9079
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Sep 30 19:10:22 2024 +0000

    Login and Registration: Add descriptive `h1` on login screens.
    
    Add an `h1` heading with the existing `login_header()` text string on each view of the login screen. Mark the existing `h1`, used to wrap the WordPress logo, with `role="presentation"`, to remove it from the headings hierarchy.
    
    Props roytanck, joedolson, ryokuhi, sabernhardt, pamprn, nagpai, mukesh27.
    Fixes #51786.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59138 602fd350-edb4-49c9-b593-d223f7449a82

commit 3bb411e6a7f34542482ed296b00bb7468d9cb804
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Sep 30 18:46:22 2024 +0000

    Build/Test Tools: Regenerate `script-loader-packages.min.php`.
    
    Follow up to [59135].
    
    See #62137.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59137 602fd350-edb4-49c9-b593-d223f7449a82

commit aca566d58369d3344c8aeafa9e326fd4ff1075a7
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Sep 30 18:34:56 2024 +0000

    Build/Test Tools: Update/Audit NPM dependencies.
    
    This updates several `devDependencies` to their latest versions:
    - `autoprefixer` (`10.4.20`)
    - `cssnano` (`7.0.6`)
    - `grunt-contrib-qunit` (`10.1.1`)
    - `grunt-webpack` (`7.0.0`)
    - `postcss` (`8.4.47`)
    - `qunit` (`2.22.0`)
    - `sass` (`1.79.4`)
    - `uuid` (`10.0.0`)
    - `wait-on` (18.0.1`)
    
    Also included are two minor updates to bundled dependencies:
    - `json2php` (`0.0.9`)
    - `wicg-inert` (`3.1.3`).
    
    After applying these updates, `npm audit fix` and `grunt precommit:css` were run.
    
    See #62137.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59135 602fd350-edb4-49c9-b593-d223f7449a82

commit 967479355d7184ceeb4605044b30a955c6211b08
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Sep 30 18:22:36 2024 +0000

    Quick/Bulk Edit: Add notice if no items selected.
    
    Add an error notice if a user attempts to apply bulk edits with no items selected. Applies to post lists, comments, taxonomies, and plugins screens.
    
    Props garrett-eclipse, nrqsnchz, sumitsingh, nihar007, royho, sabernhardt, oglekler, quadthemes, ankit-k-gupta, fnpen, ukdrahul, joedolson.
    Fixes #45006, #58479.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59134 602fd350-edb4-49c9-b593-d223f7449a82

commit 1f40d422c23a2e3a35140c4b3856721b7eac70db
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Mon Sep 30 18:16:18 2024 +0000

    Canonical: Revert redirect when front page's paginated states not found.
    
    r59091 introduced a backward compatibility (BC) break for a static homepage that includes a shortcode's or block's with paginated content that uses the `'paged'` query var, e.g. bbPress.
    
    In this use case, attempting to navigate the shortcode / block's pagination causes a canonical redirect, rather than navigating to the next page of content within that shortcode or block.
    
    Follow-up to [59091].
    
    Props davidbinda, jjj.
    See #50163, #meta5184.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59133 602fd350-edb4-49c9-b593-d223f7449a82

commit 92fdeb486b8315505281329ad986f298538d3b38
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Sep 30 17:05:37 2024 +0000

    Editor: Allow registering PHP manifest file for block metadata collections for enhanced performance.
    
    Typically, when registering a new block type, its metadata is read from the provided `block.json` file. The more block types are registered on a site, the more costly becomes this process, as it involves filesystem reads and parsing JSON.
    
    WordPress Core's built-in blocks have in the past worked around that by having a auto-generated PHP manifest file that includes the already parsed JSON data for all blocks. This changeset effectively allows plugins to do the same, by introducing a new API function `wp_register_block_metadata_collection()`. The WordPress Core block manifest is now handled using this API as well, rather than custom logic baked into `register_block_type_from_metadata()`.
    
    The `wp_register_block_metadata_collection()` function requires two parameters:
    * `$path`: The base path in which block files for the collection reside.
    * `$manifest`: The path to the manifest file for the collection.
    
    Every `block.json` file that is supposed to be part of the collection must reside within the provided `$path`, within its own block-specific directory matching the block name (without the block namespace). For example, for a collection `$path` of `/wp-content/plugins/test-plugin` and a block `test-plugin/testimonial`, the block file could be `/wp-content/plugins/test-plugins/blocks/testimonial/block.json`.
    
    It is recommended that plugins use the new API function for enhanced performance, especially if they register several block types. However, the use of the function is entirely optional. Not using it will not result in any difference in user-facing behavior.
    
    Props mreishus, flixos90, gziolo, spacedmonkey, azaozz, mukesh27.
    Fixes #62002.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59132 602fd350-edb4-49c9-b593-d223f7449a82

commit 88df10b96a2c03ac878ff47aee3c85f0e1152288
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Mon Sep 30 17:05:24 2024 +0000

    Interactivity API: Add `wp_interactivity_get_element()` function.
    
    Introduces the `wp_interactivity_get_element()` function to the Interactivity API, analogous to the `getElement()` function in the `@wordpress/interactivity` JavaScript module. This function allows access to the current element being processed during directive processing.
    
    The function returns an array containing the `attributes` property, which includes only the originally defined attributes present on the element. Attributes added or modified by directive processing are not included. This is intended for use in derived state properties inside `wp_interactivity_state()`, similar to how `wp_interactivity_get_context()` is used.
    
    Example usage:
    
    ```php
    wp_interactivity_state( 'myPlugin', array(
        'buttonText' => function() {
            $context = wp_interactivity_get_context();
            $element = wp_interactivity_get_element();
            return isset( $context['buttonText'] )
              ? $context['buttonText']
              : $element['attributes']['data-default-button-text'];
        },
    ) );
    ```
    
    Includes unit tests to cover the new functionality.
    
    Props darerodz, swissspidy, cbravobernal, czapla.
    Fixes #62136.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59131 602fd350-edb4-49c9-b593-d223f7449a82

commit b12a1cfa4dce1c70469ead34a6fb53cf8998f57e
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Mon Sep 30 16:16:44 2024 +0000

    Interactivity API: Move interactivity-router i18n strings to Script Module data.
    
    Moves the 'loading' and 'loaded' i18n strings for the `interactivity-router` to the script module data via the `script_module_data_@wordpress/interactivity-router` filter.
    
    Key changes:
    
    - Add the `filter_script_module_interactivity_router_data()` method, hooked into the `script_module_data_@wordpress/interactivity-router` filter, to set the `i18n` data with the 'loading' and 'loaded' messages.
    - Rename the `print_router_loading_and_screen_reader_markup()` method to `print_router_markup()` and remove the screen reader markup from it because it's no longer needed.
    - Deprecate the `print_router_loading_and_screen_reader_markup()` method.
    - Remove the `loading` and `loaded` strings from the `core/router` store state because they're no longer needed.
    - Initialize the `core/router` store with a minimal navigation object to prevent errors in the interactivity-router script module when the store is not properly initialized.
    - Update corresponding unit tests to reflect these changes.
    
    This change ensures that the `interactivity-router` i18n messages are localized in a single place and removes the need to initialize them in the `core/router` store state.
    
    Props jonsurrell, swissspidy, czapla, gziolo.
    See #60647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59130 602fd350-edb4-49c9-b593-d223f7449a82

commit 048998344e6ce635fd1eb147166ed4caddbf41c2
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Mon Sep 30 16:12:04 2024 +0000

    External Libraries: Update the Moment library to version `2.30.1`.
    
    The Moment.js project is in maintenance mode, so the changes in this update are minor.
    
    Props manooweb, rishit30g.
    Fixes #60516.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59129 602fd350-edb4-49c9-b593-d223f7449a82

commit a1fae25abd86be9518e04292364feea9a70af225
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Sep 30 15:50:19 2024 +0000

    I18N: Switch locale to admin locale when sending admin notifications.
    
    If sending an email to the site administrator's email address, look up if a user with the same email exists and switch to that user's locale.
    If not, falls back to the site locale as usual.
    
    Props benniledl, swissspidy, mukesh27.
    Fixes #61518.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59128 602fd350-edb4-49c9-b593-d223f7449a82

commit c9a6a39f772775f5e95a85913029a91dfc0dd6ab
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Sep 30 15:28:26 2024 +0000

    I18N: Emit warnings if loading translations too early.
    
    Some plugins and themes load translations too early, before the current user is known.
    This happens either explicitly or through just-in-time translation loading.
    
    If the current user (and thus their locale) is not known, WordPress might attempt to load translations in the wrong locale.
    
    This change adds `_doing_it_wrong` messages to warn about such cases. It also helps avoiding accidentally trying to load translations twice (once just-in-time and once manually).
    
    Projects triggering such a message are encourage to load translations no earlier than the `after_setup_theme` hook.
    
    Props garrett-eclipse, Kau-Boy, swissspidy, johnbillion, alanfuller. rodelgc.
    Fixes #44937.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59127 602fd350-edb4-49c9-b593-d223f7449a82

commit f95e51d675ed779b16011d3ace318f94b1342c76
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Mon Sep 30 14:57:32 2024 +0000

    I18N: Fix script languages path for themes.
    
    Remove hardcoded path added in [57922] which ignored the fact that themes can also use script translations.
    They should not be affected even if plugins are installed outside the typical `wp-content/plugins` location.
    
    Props itapress, swissspidy.
    Fixes #62016.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59126 602fd350-edb4-49c9-b593-d223f7449a82

commit 5568273c2973e71f2fe9f05b8157eba57949b3f9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 30 13:46:20 2024 +0000

    Docs: Add a `@since` note to `map_meta_cap()` for `edit_block_binding` capability.
    
    Follow-up to [59122].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59125 602fd350-edb4-49c9-b593-d223f7449a82

commit b1121f1e7d75f078fa7a77241ca2ecde25678e5b
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Mon Sep 30 12:21:31 2024 +0000

    Block Hooks: Respect `"multiple": false` in hooked blocks.
    
    If a prospective hooked block has its `multiple` block-supports field set to `false` (thus allowing only one instance of the block to be present), ensure that:
    
    1. Only one instance of the block will be inserted if it's not yet present in the current context.
    2. The block will not be inserted at all if an instance of it is already present in the current context.
    
    As always in Block Hooks parlance, "context" denotes the containing template, template part, pattern, or navigation post that a hooked block is supposed to be inserted into.
    
    The markup of a webpage that uses a Block Theme typically comprises a number of such contexts -- one template and any number of template parts, patterns, and navigation posts. Note that the limitation imposed by this changeset only applies on a per-context basis, so it's still possible that the resulting page contains more than one instance of a hooked block with `"multiple": false` set, as each context could contribute up to one such instance.
    
    Props bernhard-reiter, jonsurrell, gziolo.
    Fixes #61902.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59124 602fd350-edb4-49c9-b593-d223f7449a82

commit 328284c0865be63b906042be0585a022c4f2f5e1
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Mon Sep 30 11:03:51 2024 +0000

    Role/Capability: Introduce the `user_can_for_blog()` function.
    
    This complements the existing user capability checking functions and enables checking a capability of any user on any site on a Multisite network.
    
    Props tmanoilov, rajinsharwar, n8finch, johnbillion
    
    Fixes #45197
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59123 602fd350-edb4-49c9-b593-d223f7449a82

commit 07804478141abddd9f533473c8b8d507e39ad73f
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Mon Sep 30 06:47:20 2024 +0000

    Block bindings: Add canUpdateBlockBindings editor setting.
    
    Adds a `canUpdateBlockBindings` editor setting that allows to decide if the user is able to create and modify bindings through the UI. By default, only admin users can do it, but it can be overridden with `block_editor_settings_all` filter.
    
    Props santosguillamot, gziolo, jorbin, noisysocks, matveb, cbravobernal, youknowriad, mamaduka, timothyblynjacobs, peterwilsoncc, drivingralle.
    Fixes #61945.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59122 602fd350-edb4-49c9-b593-d223f7449a82

commit e58c8e8259e6a8b005324228b93692a58be04734
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 05:27:06 2024 +0000

    General: Delete `tests/phpunit/tests/formatting/wpTargetedLinkRel.php`.
    
    Really delete `tests/phpunit/tests/formatting/wpTargetedLinkRel.php` this time rather than leaving it hanging around as an empty file.
    
    Follow up to [59120].
    
    Props noisysocks.
    See #53843
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59121 602fd350-edb4-49c9-b593-d223f7449a82

commit 4aeab33dc80d05265f620f9747ade2001ae59991
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 05:17:54 2024 +0000

    General: Remove `noopener` from links opening in a new tab.
    
    Removes the automatic addition of `rel="noopener noreferrer"` from links targeting a new tab or window, `target='_blank'`. Since this was introduced, supported browsers have changed their security policies and no longer allow the opened link to have JavaScript access to the previous tab.
    
    Deprecates:
    
    * `wp_targeted_link_rel()`
    * `wp_targeted_link_rel_callback()`
    * `wp_init_targeted_link_rel_filters()`: converted to a noop function
    * `wp_remove_targeted_link_rel_filters()`: converted to a noop function
    
    The deprecated functions are retained in `formatting.php` as in `SHORTINIT` mode the file is included while `deprecated.php` is not.
    
    This also removes the `noopener` from links hard coded within the WordPress dashboard linking to documentation and other resources.
    
    Props audrasjb, azaozz, dhruval04, dorzki, neo2k23, presskopp, sabernhardt, swissspidy, tobiasbg.
    Fixes #53843.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59120 602fd350-edb4-49c9-b593-d223f7449a82

commit 3a126e8e2d9bdb3fda157fbeb4ad356fcaee55f5
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Mon Sep 30 05:10:00 2024 +0000

    Editor: Update packages for 6.7 Beta 1.
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    See #61906.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59119 602fd350-edb4-49c9-b593-d223f7449a82

commit 7e0d4c671c68c6d83f719ae3a7c49496f488c983
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 03:17:31 2024 +0000

    Media: Add short-circuit filter to `attachment_url_to_postid()`.
    
    Introduces the filter `pre_attachment_url_to_postid` to allow developers to short-circuit the function `attachment_url_to_postid()`.
    
    The return values are expected to be an attachment ID, zero (`0`) to indicate no attachment was found or `null` to indicate the function should proceed as usual.
    
    The function performs an expensive database query so developers making use of the function frequently may wish to use a custom table with appropriate indexes to reduce the load on their database server.
    
    Props antpb, apermo, audrasjb, joedolson.
    Fixes #61383.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59118 602fd350-edb4-49c9-b593-d223f7449a82

commit 7e30d693ae42f805da1bd9cac6231db48129223c
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 01:54:44 2024 +0000

    Editor: Prevent direct access to `/wp-includes/blocks/index.php`.
    
    Adds a check for `ABSPATH` to the top of the `/wp-includes/blocks/index.php` file and prevents the file from loading if it is not defined.
    
    This prevents the file from throwing errors when accessed directly.
    
    Props khokansardar, mukesh27.
    Fixes #62108.
    See #60352.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59117 602fd350-edb4-49c9-b593-d223f7449a82

commit c1fe7393346ed2843d20d24916f3843e14c76705
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 01:29:32 2024 +0000

    Build/Test Tools: Re-order assertion parameters query block tests.
    
    Corrects the order of the expected and actual values in several tests of the `build_query_vars_from_query_block()` function.
    
    See #61530.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59116 602fd350-edb4-49c9-b593-d223f7449a82

commit b1db74a765cd6dab13b7d2a09ef3890abcc59e25
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 30 01:17:40 2024 +0000

    REST API/Editor: Support post formats in Query Block & Posts API.
    
    Introduces post format support for both the Query Block with the new parameter `format`. In the `build_query_vars_from_query_block()` function, this is converted to a `post_format` taxonomy query passed to `WP_Query`.
    
    Also introduces the `format` parameter to the REST API's Posts controller to support the feature in the Query block. The parameter type is an enumerated  string accepted the post formats supported by each post type.
    
    Props poena, mukesh27, mamaduka, noisysocks, TimothyBlynJacobs.
    Fixes #62014.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59115 602fd350-edb4-49c9-b593-d223f7449a82

commit 2cd811f6dc3abd820a541e73eecc81028f491861
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 29 22:47:03 2024 +0000

    Date/Time: Use numeric input for `touch_time()` fields.
    
    This aims to make it easier to enter digits in datetime text fields on mobile devices, instead of opening the full keyboard.
    
    Follow-up to [43], [1506], [2998], [3648], [6078], [6989], [7285], [7338], [20168], [20217], [28730], [32945], [49283].
    
    Props sabernhardt.
    Fixes #62109.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59114 602fd350-edb4-49c9-b593-d223f7449a82

commit ef03b7a378794d29e756577d88edacd8bdd6830b
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Sep 28 23:34:28 2024 +0000

    Accessibility: Clarify `aria-label` in pagination links.
    
    Change posts and comments pagination `nav` regions to have an aria-label of "Posts pagination" and "Comments pagination", respectively. This provides improved context for the numeric links contained within these regions and differentiates between posts navigation regions and posts pagination regions.
    
    Props michaelbourne, sabernhardt, afercia, xyulex, webmandesign, tirth03, joedolson.
    Fixes #54260.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59113 602fd350-edb4-49c9-b593-d223f7449a82

commit 2258edf95f5ce2d15147e341b06e30b47bd5dd4a
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Sep 28 23:18:34 2024 +0000

    Code Standards: Correct @since reference in `get_user()`.
    
    Change `@since` from 6.7 to 6.7.0, per coding standards. Follow-up to [59111].
    
    Props joedolson, peterwilsoncc.
    See #35124.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59112 602fd350-edb4-49c9-b593-d223f7449a82

commit c237a8125749ba1ef10fe4977567c85478852d3d
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Sat Sep 28 23:07:00 2024 +0000

    Users: Add `get_user()` alias.
    
    Add `get_user()` as an alias for `get_user_by( 'id', $user_id )`. Add `get_user()` to `user.php` so it is not a pluggable function. Bring parity with other standard `get_` functions for a more intuitive developer experience.
    
    Props sc0ttkclark, kushang78, joedolson, peterwilsoncc.
    Fixes #35124.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59111 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f05c9e73bcd3ab2afdade8f214947d08b5e69c4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 28 15:07:29 2024 +0000

    Twenty Fifteen: Document the `$more` parameter in `twentyfifteen_excerpt_more()`.
    
    Follow-up to [30237], [30569].
    
    Props pitamdey, sabernhardt.
    See #62079.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59110 602fd350-edb4-49c9-b593-d223f7449a82

commit a51f2e45c4a76878dbd0ab90782d44a07b29d13a
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Fri Sep 27 19:58:49 2024 +0000

    Code Modernization: Fix trigger_error() with E_USER_ERROR deprecation in TestXMLParser::parse().
    
    PHP 8.4 deprecates the use of `trigger_errror()` with `E_USER_ERROR` as the error level, as there are a number of gotchas to this way of creating a `Fatal Error` (`finally` blocks not executing, destructors not executing).
    The recommended replacements are either to use exceptions or to do a hard `exit`.
    
    As this is a test-only class, do not have to take BC-breaks into account.
    
    Also, as this is a test helper, throwing a exception is the most appropriate solution.
    
    Reference:
    * https://wiki.php.net/rfc/deprecations_php_8_4#deprecate_passing_e_user_error_to_trigger_error
    
    Follow-up to [25002].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59109 602fd350-edb4-49c9-b593-d223f7449a82

commit 004379e56b561dfe7ec669a88e6a5124faf36f40
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Fri Sep 27 19:51:31 2024 +0000

    Code Modernization: Fix trigger_error() with E_USER_ERROR deprecation in WP_Test_Stream::open().
    
    PHP 8.4 deprecates the use of `trigger_errror()` with `E_USER_ERROR` as the error level, as there are a number of gotchas to this way of creating a `Fatal Error` (`finally` blocks not executing, destructors not executing).
    The recommended replacements are either to use exceptions or to do a hard `exit`.
    
    As this is a test-only class, do not have to take BC-breaks into account.
    
    Also, as this is a test helper, throwing a exception is the most appropriate solution.
    
    Reference:
    * https://wiki.php.net/rfc/deprecations_php_8_4#deprecate_passing_e_user_error_to_trigger_error
    
    Follow-up to [49230].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59108 602fd350-edb4-49c9-b593-d223f7449a82

commit b0e35ecd28d8ed4290378607c69e70766627081a
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Fri Sep 27 19:26:15 2024 +0000

    Code Modernization: Fix trigger_error() with E_USER_ERROR deprecation in wp_trigger_error().
    
    PHP 8.4 deprecates the use of `trigger_errror()` with `E_USER_ERROR` as the error level, as there are a number of gotchas to this way of creating a `Fatal Error` (`finally` blocks not executing, destructors not executing). The recommended replacements are either to use exceptions or to do a hard `exit`.
    
    WP has its own `wp_trigger_error()` function, which under the hood calls `trigger_error()`. If passed `E_USER_ERROR` as the `$error_level`, this will hit the PHP 8.4 deprecation.
    
    Now, there were basically three options:
    * Silence the deprecation until PHP 9.0 and delay properly solving this until then. This would lead to an awkward solution, as prior to PHP 8.0, error silencing would apply to all errors, while, as of PHP 8.0, it will no longer apply to fatal errors. It also would only buy us some time and wouldn't actually solve anything.
    
    * Use `exit($status)` when `wp_trigger_error()` is called with `E_USER_ERROR`. This would make the code untestable and would disable handling of these errors via custom error handlers, which makes this an undesirable solution.
    
    * Throw an exception when `wp_trigger_error()` is called with `E_USER_ERROR`. This makes for the most elegant solution with the least BC-breaking impact, though it does open it up to the error potential being "caught" via a `try-catch`. That's not actually a bad thing and is likely to only happen for those errors which can be worked around, in which case, it's a bonus that that's now possible.
    
    The third option is implemented which:
    * Introduces a new `WP_Exception` class.
    * Starts using `WP_Exception` in the `wp_trigger_error()` function when the `$error_level` is set to `E_USER_ERROR`.
    
    This change is covered by pre-existing tests, which have been updated to expect the exception instead of a PHP error.
    
    Why not use `WP_Error`?
    
    Well, for one, this would lead to completely different behaviour (BC).
    
    As `WP_Error` doesn't extend `Exception`, the program would not be stopped, but would continue running, which would be a much bigger breaking change and carries security risks. `WP_Error` also doesn't natively trigger displaying/logging of the error message, so in that case, it would still need an `exit` with the error message, bringing us back to point 2 above.
    
    Introducing `WP_Exception` provides (essentially) the same behaviour in that it retains the fatal error and error message displaying/logging behaviors. It also introduces a base Exception class, from which future exception classes can extend.
    
    References:
    * https://wiki.php.net/rfc/deprecations_php_8_4#deprecate_passing_e_user_error_to_trigger_error
    * https://www.php.net/manual/en/migration80.incompatible.php
    
    Follow-up to [56530].
    
    Props jrf, hellofromTonya.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59107 602fd350-edb4-49c9-b593-d223f7449a82

commit d9fe74bbf86857d50b1d0f1e66c6c07ad4abc737
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Fri Sep 27 18:17:07 2024 +0000

    Code Modernization: Fix trigger_error() with E_USER_ERROR deprecation in Text_Diff_Op::reverse().
    
    PHP 8.4 deprecates the use of `trigger_errror()` with `E_USER_ERROR` as the error level, as there are a number of gotchas to this way of creating a `Fatal Error` (`finally` blocks not executing, destructors not executing).
    The recommended replacements are either to use exceptions or to do a hard `exit`.
    
    This is an unmaintained external dependency; thus, the fix is made in the WP specific copy of the dependency.
    
    As `trigger_error()` call looks to be a remnant of the PHP 4 era before a class could be declared as `abstract`, fixed by making both the method as well as the class `abstract` and removing the call to `trigger_error()`.
    
    Ref:
    * https://wiki.php.net/rfc/deprecations_php_8_4#deprecate_passing_e_user_error_to_trigger_error
    * https://www.php.net/manual/en/migration80.incompatible.php
    
    Follow-up to [7747].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59106 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a9ca41ddd3c4bd214d66421b5af9cd103cbdea2
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Fri Sep 27 17:51:49 2024 +0000

    Code Modernization: Fix trigger_error() with E_USER_ERROR deprecation in Text_Diff::_check().
    
    PHP 8.4 deprecates the use of `trigger_errror()` with `E_USER_ERROR` as the error level, as there are a number of gotchas to this way of creating a `Fatal Error` (`finally` blocks not executing, destructors not executing). The recommended replacements are either to use exceptions or to do a hard `exit`.
    
    This is an unmaintained external dependency; thus, the fix is made in the WP specific copy of the dependency.
    
    Now, there were basically three options:
    * Silence the deprecation until PHP 9.0 and delay properly solving this until then.
        This would lead to an awkward solution, as prior to PHP 8.0, error silencing would apply to all errors, while, as of PHP 8.0, it will no longer apply to fatal errors.
        It also would only buy us some time and wouldn't actually solve anything.
    * Use `exit($status)`.
        This would make the code untestable and would disable handling of these errors via custom error handlers, which makes this an undesirable solution.
    * Throw an exception.
        This makes for the most elegant solution with the least BC-breaking impact.
    
    The third option is implemented which:
    * Introduces a new `Text_Exception` class.
    * Starts using that in the `Text_Diff::_check()` method in all applicable places.
    * Adds tests for the first two error conditions.
    
    References:
    * https://wiki.php.net/rfc/deprecations_php_8_4#deprecate_passing_e_user_error_to_trigger_error
    * https://www.php.net/manual/en/migration80.incompatible.php
    
    Follow-up to [59070], [52978], [7747].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59105 602fd350-edb4-49c9-b593-d223f7449a82

commit 2550224a0c1c186fb0eb0e9fa1dbaced18c3279d
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Sep 27 16:35:16 2024 +0000

    WP_Debug_Data: Formatting update to code in `wp-dropins` method.
    
    Resolves an indentation issue introduced while extracting the `wp-dropins` data into a separate method from the main `debug_data()` method.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7446
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Follow-up to [59100].
    
    Props mukesh27.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59104 602fd350-edb4-49c9-b593-d223f7449a82

commit aa75e027cab8bd5ac0e4e7dadd94e12af828b59a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 27 16:23:34 2024 +0000

    Twenty Nineteen: Remove trailing spaces in DocBlocks.
    
    Follow-up to [59102].
    
    Props mukesh27.
    See #62112.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59103 602fd350-edb4-49c9-b593-d223f7449a82

commit 0edee27fe8c64e1452bb51ff4db02857fffb3a99
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 27 16:11:02 2024 +0000

    Twenty Nineteen: Add more missing documentation for helper function parameters.
    
    Follow-up to [59090].
    
    Props viralsampat.
    See #62112.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59102 602fd350-edb4-49c9-b593-d223f7449a82

commit 2952e563aae229fe497e723996cc5a58b92e1401
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Fri Sep 27 09:18:46 2024 +0000

    Block Hooks: `apply_block_hooks_to_content` in Patterns, Templates.
    
    In the Patterns registry, use `apply_block_hooks_to_content` (introduced in [58291])  instead of the `WP_Block_Patterns_Registry` class's private `get_content` method. (The latter is removed as part of this changeset.)
    
    In a similar vein, use `apply_block_hooks_to_content` in the `_build_block_template_result_from_file` and `_build_block_template_result_from_post` functions, respectively.
    
    For that to work, `apply_block_hooks_to_content` is amended to inject the `theme` attribute into Template Part blocks, even if no hooked blocks are present.
    
    This kind of centralization is required as a preparation for #61902.
    
    Props bernhard-reiter, jonsurrell.
    See #61902.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59101 602fd350-edb4-49c9-b593-d223f7449a82

commit 835f864d4ea376eb79844eb6a941250762de3c12
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Sep 27 05:56:50 2024 +0000

    WP_Debug_Data: Extract `wp-dropins` data into separate method.
    
    This is the seventh part in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the seventh of twelve groups, the `wp-dropins` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7418
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59100 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e21ecedf19f1b97360949a9e509a3c04ac1f34e
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Sep 27 00:42:47 2024 +0000

    HTML API: Switch to HTML namespace when entering Integration Points.
    
    When encountering inline SVG and MathML content in an HTML document, there are certain "integration points" which transition back into the HTML parsing ruleset. Previously, the HTML API was incorrectly switching into the namespace of the element transitioning into that ruleset.
    
    In this patch, the correct transition is made, where all integration points refer to HTML rules, while non-integration points refer to the rules of the namespace corresponding to the token itself.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7425
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59099 602fd350-edb4-49c9-b593-d223f7449a82

commit bbec266c74fc47ce2919faa4cf3c6d43044588cb
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Thu Sep 26 19:35:26 2024 +0000

    Revert [59097] because it was renaming a public method that should be deprecated instead.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59098 602fd350-edb4-49c9-b593-d223f7449a82

commit ad1fabe41719f853ec5cdbdde5a9fba97444ff03
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Thu Sep 26 17:53:11 2024 +0000

    Interactivity API: Move interactivity-router i18n strings to Script Module data.
    
    Moves the 'loading' and 'loaded' i18n strings for the `interactivity-router` to the script module data via the `script_module_data_@wordpress/interactivity-router` filter.
    
    Key changes:
    
    - Add the `filter_script_module_interactivity_router_data()` method, hooked into the `script_module_data_@wordpress/interactivity-router` filter, to set the `i18n` data with the 'loading' and 'loaded' messages.
    - Rename the `print_router_loading_and_screen_reader_markup()` method to `print_router_markup()` and remove the screen reader markup from it because it's no longer needed.
    - Remove the `loading` and `loaded` strings from the `core/router` store state because they're no longer needed.
    - Initialize the `core/router` store with a minimal navigation object to prevent errors in the interactivity-router script module when the store is not properly initialized.
    - Update corresponding unit tests to reflect these changes.
    
    This change ensures that the `interactivity-router` i18n messages are localized in a single place and removes the need to initialize them in the `core/router` store state.
    
    Props jonsurrell, swissspidy, czapla.
    See #60647.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59097 602fd350-edb4-49c9-b593-d223f7449a82

commit 66afbbdb519d4b21a2ed486de64e32eda3f5adde
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 26 15:39:06 2024 +0000

    Administration: Escape the WordPress.org URL in `wp-admin/admin-footer.php`.
    
    Follow-up to [5892], [5955], [10976], [17879], [21366], [27469], [45927].
    
    Props ramswarup, narenin, swissspidy.
    Fixes #62118.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59096 602fd350-edb4-49c9-b593-d223f7449a82

commit d9cb6e7e9de61e36ba286aafcacc5d6dba2fc559
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Thu Sep 26 14:49:13 2024 +0000

    Block bindings: Ensure block receives __default bindings when render.
    
    Fixes an issue with the image block when using pattern overrides, where the image block with overrides enabled was not outputting all the expected image attributes. Ensures that the `process_block_bindings` method returns any updates to the block's binding metadata along with other computed attributes.
    
    Props talldanwp, cbravobernal, santosguillamot, mukesh27, gziolo.
    
    Fixes #62069.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59095 602fd350-edb4-49c9-b593-d223f7449a82

commit 8dd9ca0402745af44c6f2d018a8a8251e63b9764
Author: Jb Audras <audrasjb@git.wordpress.org>
Date:   Thu Sep 26 13:48:06 2024 +0000

    Help/About: Add plugin dependencies help tab on Plugins screen.
    
    This changeset adds a help tab added about plugin dependencies on the Plugins screen.
    
    Follow-up to [57545].
    
    Fixes #60466.
    See #22316.
    Props desrosj, swissspidy, adarshposimyth, audrasjb, NekoJonez, DorZki, Boniu91, Ankit-K-Gupta, sigurdwatt.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59094 602fd350-edb4-49c9-b593-d223f7449a82

commit 7d0e751ffbea99583e2dda8518ff5cc915bf0bd9
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Thu Sep 26 12:45:41 2024 +0000

    Editor: Default attribute value not used with `get_block_wrapper_attributes`
    
    Ensures that the default values defined in the schema for block attributes are used when rendering the output of the block with `get_block_wrapper_attributes` helper.
    
    Props gziolo, jonsurrell, youknowriad, ryelle.
    Fixes #62114.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59093 602fd350-edb4-49c9-b593-d223f7449a82

commit b071c28f8b6be06e464ccf582877e66c02859679
Author: Andrew Ozz <azaozz@git.wordpress.org>
Date:   Wed Sep 25 20:49:21 2024 +0000

    Administration: Fix increasing of the frequency of Heartbeat API requests.
    
    Props peterwilsoncc, azaozz.
    Fixes #61960.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59092 602fd350-edb4-49c9-b593-d223f7449a82

commit 9e290835d6f006997d59ebaf063df113bb15a363
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 25 19:35:20 2024 +0000

    Canonical: Redirect when front page's paginated states not found.
    
    Perform a canonical redirect for an invalid pagination request of a static front page.
    
    When a site has a static front page assigned and that page has a `<!--nextpage-->` within its content, previously accessing non-existing pages (e.g. `example.com/page/3/`) did not redirect or return a 404 or 301. This changeset resolves that issue by performing a canonical redirect.
    
    Unit tests are also included for this specific use case and to ensure the fix does not affect a blog listing home page.
    
    Follow-up to [47738], [47727], [34492].
    
    Props dd32, audrasjb, chaion07, hellofromTonya, joemcgill, lukecarbis, Mte90, mukesh27, peterwilsoncc, rajinsharwar, SergeyBiryukov.
    Fixes #50163.
    See meta#5184.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59091 602fd350-edb4-49c9-b593-d223f7449a82

commit b275b38768fc2c2208e44bf6e9121a117c8ce119
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 25 18:06:27 2024 +0000

    Twenty Nineteen: Add missing documentation for helper function parameters.
    
    Follow-up to [43808], [44149], [47214], [47242].
    
    Props pitamdey.
    Fixes #62112.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59090 602fd350-edb4-49c9-b593-d223f7449a82

commit 34c861b6a53cb82721ce0e82a3e2024d91c6ef7e
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Wed Sep 25 16:49:01 2024 +0000

    Script Loader: Add `@wordpress/a11y` as a Script Module.
    
    The Script Module has the same API as the `wp-a11y` WP Script.
    
    Key changes:
    - Add `@wordpress/a11y` to the list of Script and Module dual packages.
    - Update `script-modules-packages.min.php` to include the a11y module.
    - Modify `WP_Script_Modules` class to track and handle a11y module availability.
    - Add method to print required HTML markup for a11y `speak()` functionality.
    
    See #60647.
    Props jonsurrell, gziolo, czapla.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59089 602fd350-edb4-49c9-b593-d223f7449a82

commit 9fc6fa134df8976b4144b0f67c22b23ed97b639a
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Wed Sep 25 16:32:23 2024 +0000

    Revert [59087] due to empty commit message
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59088 602fd350-edb4-49c9-b593-d223f7449a82

commit 6df7ce67ca2fa9a1058cf25a599b1007416973a2
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Wed Sep 25 15:55:56 2024 +0000

    git-svn-id: https://develop.svn.wordpress.org/trunk@59087 602fd350-edb4-49c9-b593-d223f7449a82

commit 7f4fd30dffdfe8d7d817c2cdb4ab98408f1c0add
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 24 19:15:33 2024 +0000

    Build/Test Tools: Only require the WordPress Importer plugin when running core tests.
    
    This allows other users of the WordPress unit test suite framework to run their own unit tests without needing the WordPress Importer plugin, which should only be a requirement if running core tests.
    
    Follow-up to [59085].
    
    Props bjorsch.
    Fixes #62106.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59086 602fd350-edb4-49c9-b593-d223f7449a82

commit 60a66de6ece69de829b12305f5d84b216a41b6b6
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 24 18:09:41 2024 +0000

    Build/Test Tools: Check if the WordPress Importer plugin is installed in test bootstrap.
    
    If a hard requirement for the test suite is not fulfilled, running the tests should be blocked from the test bootstrap. A test should only fail when it doesn't produce the expected result.
    
    Since the WordPress Importer plugin is considered a hard requirement for the test suite at this time, this commit moves the check whether the plugin is installed from individual tests to the test bootstrap.
    
    Includes defining a global constant for the path to the file for reuse in the tests.
    
    Reference: [https://make.wordpress.org/core/handbook/contribute/git/#unit-tests Core Contributor Handbook: The Code Repository (Git): Unit Tests].
    
    Follow-up to [40531], [40532], [41090], [41169], [48592], [49535], [49571].
    
    Props jrf, hellofromTonya.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59085 602fd350-edb4-49c9-b593-d223f7449a82

commit ec80646878bfe96cd14d9b5b49e2d51283206762
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Tue Sep 24 16:38:36 2024 +0000

    App Passwords: Don't prevent non-unique App Password names.
    
    In [50030] we enforced that Application Passwords have unique names. This was done with the assumption that applications would not connect to a user multiple times. However, in practice we've seen applications run into issues with the unique name constraint. Depending on the app, they may not know if they've been authorized before, or they may intentionally allow connecting multiple times. To prevent friction, App developers need to make their App Name unique, and in doing so often include things like the current date & time, which is already included in the App Passwords list table.
    
    This commit removes this requirement to simplify usage of the Authorize Application flow.
    
    Props mark-k, Boniu91, timothyblynjacobs, peterwilsoncc.
    Fixes #54213.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59084 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b8b80449fb25e0242ad53262fcbabc08ea3ecb9
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Tue Sep 24 07:33:55 2024 +0000

    Build: Prepare for more Script Modules
    
    This is a companion to https://github.com/WordPress/gutenberg/pull/65460 that requires syncing in WordPress Core. Namely, the block-library changes require registration with their updated script module IDs so that the blocks continue to work correctly.
    
    They key improvement is script modules registration is handled in one central place, and a combined asset file is used to improve the performance by avoiding multiple disk operations for every individual file.
    
    Props jonsurrell, gziolo, wildworks, noisysocks.
    See #60647, #59462.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59083 602fd350-edb4-49c9-b593-d223f7449a82

commit a39079946ae6388083885df0198ddb0aeb6b5141
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 23 22:15:11 2024 +0000

    Build/Test Tools: Prevent Composer lock file from being created.
    
    Composer 1.10.0 introduced a `lock` config option, which, when set to `false` will prevent a `composer.lock` file from being created and will ignore it when one exists.
    
    This is a useful option for packages like WordPress where the `lock` file has no meaning.
    
    It also makes life more straightforward for contributors as they don't have to remember that for this repo they should use `composer update` instead of `composer install`. Both will now work the same.
    
    Reference: [https://getcomposer.org/doc/06-config.md#lock Composer Documentation: Config: lock].
    
    Follow-up to [51543].
    
    Props jrf.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59082 602fd350-edb4-49c9-b593-d223f7449a82

commit fd104aed1427167a8273bc6dc8dc43c1dd66ae02
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Mon Sep 23 12:48:32 2024 +0000

    Comments: Pass $page as argument to comments functions
    
    Removes query alteration from `build_comment_query_vars_from_block` by introducing a new way to pass the `$page` as argument to functions handling pagination for the comments.
    
    Props cybr, santosguillamot, bernhard-reiter, gziolo.
    Fixes #60806.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59081 602fd350-edb4-49c9-b593-d223f7449a82

commit 805b9333f2de80c3db981e1a2a5755045d9e7782
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Mon Sep 23 12:33:14 2024 +0000

    Block Bindings: Adds context needed by sources during its processing
    
     Extends block context during block bindings processing. This implies that the context is extended ONLY for the blocks where bindings are defined and only when rendered on the page.
    
    Props santosguillamot, gziolo, artemiosans, cbravobernal.
    Fixes #61642.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59080 602fd350-edb4-49c9-b593-d223f7449a82

commit d2f4251fb1cd335f9ad91d295d7f35dca680e2e8
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Mon Sep 23 06:50:27 2024 +0000

    Editor: Update packages for 6.7 Beta 1.
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    See #61906.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59079 602fd350-edb4-49c9-b593-d223f7449a82

commit e2d9ffcf1e7d96e1e7b89db96b992cf0e6c8fcf7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 22 22:48:04 2024 +0000

    Editor: Respect `show_avatars` option in block editor and Customizer.
    
    This adds checks for the `show_avatars` option before setting the avatar for post lock modals in the block editor and the Customizer.
    
    Follow-up to [41839], [53070].
    
    Props ffffelix.
    Fixes #62081.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59078 602fd350-edb4-49c9-b593-d223f7449a82

commit f49909e97225f9b2aa4ab19b1c25037f2f35167d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 21 14:39:52 2024 +0000

    Editor: Optimize `is_callable()` checks in `traverse_and_serialize_blocks()`.
    
    This aims to improve performance by reducing the number of function calls.
    
    Follow-up to [56644].
    
    Props welcher, Cybr, mukesh27, aristath.
    Fixes #62063.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59077 602fd350-edb4-49c9-b593-d223f7449a82

commit 03b12dc3117737b8960bc4144102ef5cca346547
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Sep 20 22:30:04 2024 +0000

    HTML API: Add `normalize()` to give us the HTML we always wanted.
    
    HTML often appears in ways that are unexpected. It may be missing implicit tags, may have unquoted, single-quoted, or double-quoted attributes, may contain duplicate attributes, may contain unescaped text content, or any number of other possible invalid constructions. The HTML API understands all fo these inputs, but downline parsers may not, and HTML snippets which are safe on their own may introduce problems when joined with other HTML snippets.
    
    This patch introduces the `serialize()` method on the HTML Processor, which prints a fully-normative HTML output, eliminating invalid markup along the way. It produces a string which contains every missing tag, double-quoted attributes, and no duplicates. A `normalize()` static method on the HTML Processor provides a convenient wrapper for constructing a fragment parser and immediately serializing.
    
    Subclasses relying on the `serialize_token()` method may perform structural HTML modifications with as much security as the upcoming `\Dom\HTMLDocument()` parser will, though these are not
    able to provide the full safety that will eventually appear with `set_inner_html()`.
    
    Further work may explore serializing to XML (which involves a number of other important transformations) and adding constraints to serialization (such as only allowing inline/flow/formatting elements and text).
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7331
    Discussed in https://core.trac.wordpress.org/ticket/62036
    
    Props dmsnell, jonsurrell, westonruter.
    Fixes #62036.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59076 602fd350-edb4-49c9-b593-d223f7449a82

commit 675a1aa5e5583a465e452c13d4d631666a486b5f
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Sep 20 20:21:59 2024 +0000

    HTML API: Add `get_full_comment_text()` method.
    
    Previously, there were a few cases where the modifiable text read from an HTML comment differs slightly from the parsed value of its inner text in a browser. This is due to the specific way that invalid HTML syntax tokens become "bogus comments."
    
    This patch introduces a new method to the Tag Processor to allow differentiating these specific cases, such as when copying or serializing HTML from one source to another. Similar code has already been in use in the html5lib tests, and this patch simplifies the test runner, evidencing the fact that this method was already needed.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7342
    Discussed in https://core.trac.wordpress.org/ticket/62036
    
    Props dmsnell, jonsurrell.
    See #62036.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59075 602fd350-edb4-49c9-b593-d223f7449a82

commit 1eb5f61c9e5c36a5e587010bf8e4d1e811da56e0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 20 14:07:11 2024 +0000

    Editor: Restore the merging of TinyMCE settings in `wp_tinymce_inline_scripts()`.
    
    This ensures that the function applies the `wp_editor_settings` filter and merges the resulting array with the rest of TinyMCE init settings.
    
    Includes a unit test to verify that the settings are merged correctly after adding the assignment of `array_merge()` result that was missed in the initial commit.
    
    Follow-up to [44265], [59033].
    
    Props kkmuffme, akshat2802, davidbaumwald, SergeyBiryukov.
    Fixes #61754.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59074 602fd350-edb4-49c9-b593-d223f7449a82

commit 35907da95151b45d197102ea4d69e10ad019cab9
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Fri Sep 20 02:05:50 2024 +0000

    Editor: Add plugin template registration API and improve theme overrides for plugin-registered templates
    
    This commit introduces a new API to allow plugins to easily register block
    templates with `wp_register_block_template()` and the
    `WP_Block_Templates_Registry` class, addressing the complexity of hooking into
    multiple filters. It also ensures plugin-registered templates overridden by
    themes fall back to the plugin-provided title and description when the theme
    doesn't define them.
    
    See https://github.com/WordPress/gutenberg/pull/61577.
    See https://github.com/WordPress/gutenberg/pull/64610.
    
    Fixes #61804.
    Props aljullu, peterwilsoncc, antonvlasenko, azaozz, youknowriad, noisysocks.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59073 602fd350-edb4-49c9-b593-d223f7449a82

commit 1ad25bb1432c788c8084fe832a7f13e646a28b62
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Fri Sep 20 01:53:52 2024 +0000

    Editor: Update packages for 6.7 Beta 1.
    
    Syncs `@wordpress/*` packages to the `wp-6.7` npm tag.
    
    Fixes #61906.
    Props peterwilsoncc, gziolo, kevin940726.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59072 602fd350-edb4-49c9-b593-d223f7449a82

commit d46067a77628797897a8c853fabbefc4cc2b1790
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Sep 20 00:50:51 2024 +0000

    External Libraries: Test registered script versions match package.json.
    
    Expands tests to ensure the version number of packages updated via NPM matches the version number used for registering the script in the script loader.
    
    This adds tests for (by their registered name in WordPress):
    
    * backbone
    * clipboard
    * hoverIntent
    * hoverintent-js
    * imagesloaded
    * jquery-color
    * jquery-core
    * jquery-form
    * masonry
    * react-jsx-runtime
    * underscore
    * wp-polyfill-dom-rect
    * wp-polyfill-element-closest
    * wp-polyfill-fetch
    * wp-polyfill-formdata
    * wp-polyfill-inert
    * wp-polyfill-node-contains
    * wp-polyfill-object-fit
    * wp-polyfill-url
    
    
    This expands on the earlier tests introduced for:
    
    * lodash
    * moment
    * react
    * react-dom
    * regenerator-runtime
    
    An additional test is added to ensure that the data provider for these tests is maintained as libraries are added via package.json.
    
    `@wordpress/*` scripts are excluded from these tests as wp-scripts generates a version number automatically based on the file's contents.
    
    Additionally, the version of element-closest listed in package.json is updated to use a fixed version rather than a range. This reflects the current practice of WordPress to define the specific version in core. For the avoidance of doubt, this does not affect the version shipped in WordPress.
    
    Follow up to [57185].
    
    Props peterwilsoncc, jorbin.
    Fixes #61855.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59071 602fd350-edb4-49c9-b593-d223f7449a82

commit 951f887f8a874e9c183bb990b0aa767d3ebb835b
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Sep 19 20:20:30 2024 +0000

    External Libraries: Skip instanceof check when null in Text_Diff::_check().
    
    On the first `foreach` loop in Text_Diff::_check()`, `$prevtype` is `null`. As `instanceof` requires the class name term to be an object or string, a fatal error is thrown:
    
    >Fatal error: Uncaught Error: Class name must be a valid object or a string on line 279
    
    This change:
    * Adds a simple test for the `Text_Diff::_check()` method, which is how the bug was discovered as the test could never pass with the code as-is.
    
    * Adds a defensive guard to protect against the fatal. It checks if `$prevtype` is not `null` as a pre-condition to for checking the instance. This bugfix also resolves the failing test.
    
    Follow-up to [49194], [7747].
    
    Props jrf, hellofromTonya.
    See #62083.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59070 602fd350-edb4-49c9-b593-d223f7449a82

commit 1e608149f92886723d7d162df3014c7ba970030e
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Sep 19 18:55:00 2024 +0000

    Code Modernization: handle mysqli_ping() deprecation in wpdb::check_connection().
    
    The `mysqli_ping()` function is deprecated as of PHP 8.4, though, in reality, the function wasn't working according to spec anymore since PHP 8.2 when the `libmysql` driver was dropped in favour of `libmysqlnd`, which was already the default (and recommended) driver since PHP 5.4.
    
    The `mysqli_ping()` method was also not really correctly named as its functionality was to reconnect to the database, not just ping.
    
    The alternative is to "manually" ping the database by sending a `DO 1` query (the cheapest possible SQL query).
    
    Adding a PHP version based toggle was considered, but as mentioned above, the default driver has been `libmysqlnd` since PHP 5.4 and in that case, the function never worked anyway, so in reality `mysqli_ping()` was only really functional for the odd custom PHP compilation where `mysqli` was build against `libmysql` AND `reconnect` was not disabled.
    
    With this in mind, this change replaces the call to `mysqli_ping()` with the `DO 1` query completely. If that query succeeds, it concludes the database connection is still alive. This solution should be the most stable as it will work for both PHP 7.2 <= 8.1, independently of which driver `mysqli` was compiled with, as well as for PHP 8.2+.
    
    Note: It could also be considered to remove the function call to `mysqli_ping()` completely and rely on standard error handling in case the connection would have dropped, as after all, the fact that the connection existed at the moment the "ping" happened, is no guarantee that the connection will still exist when the next query is send.... this approach was not chosen so as WP has custom error handling and does not use the PHP native mysqli exceptions for this, which would make implementing this more awkward.
    
    Includes a test to verify that the connection check works when there is a valid connection (this was previously not covered by tests).
    
    Refs:
    * https://wiki.php.net/rfc/deprecations_php_8_4#mysqli_ping_and_mysqliping
    * https://github.com/php/php-src/pull/11912#issuecomment-1671762583
    * https://stackoverflow.com/questions/2546868/cheapest-way-to-determine-if-a-mysql-connection-is-still-alive/2546922#2546922
    * php/php-src#11945
    * https://wiki.php.net/rfc/mysqli_support_for_libmysql
    * https://www.php.net/mysqli_ping
    
    Follow-up to [56475], [27250], [27075].
    
    Props jrf, hellofromTonya.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59069 602fd350-edb4-49c9-b593-d223f7449a82

commit de346c606d9756bcaec8d0d69fe7aac3a86731fe
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Sep 19 18:12:36 2024 +0000

    Tests: Remove use of E_STRICT.
    
    The `E_STRICT` constant is deprecated as of PHP 8.4 and will be removed in PHP 9.0.
    
    The error level hasn't been in use since PHP 8.0 anyway, so removing the exclusion from the `error_reporting()` setting in the `install.php` script used in the tests should make no difference in practice.
    
    Ref:
    * https://wiki.php.net/rfc/deprecations_php_8_4#remove_e_strict_error_level_and_deprecate_e_strict_constant
    
    Follow-up to [25002].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59068 602fd350-edb4-49c9-b593-d223f7449a82

commit ceedcb5ae956b92288cd370a6e67789c196c95d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 19 12:38:35 2024 +0000

    Coding Standards: Update PHPCS to version 3.10.3.
    
    PHPCS has seen several new releases since the last update, which means more bugs have been fixed, syntax support for PHP 8.3 was added, more sniff documentation is available, performance improvements, a new Help screen, etc.
    
    References:
    * [https://github.com/PHPCSStandards/PHP_CodeSniffer/releases/tag/3.10.3 PHP_CodeSniffer 3.10.3 release notes]
    * [https://github.com/PHPCSStandards/PHP_CodeSniffer/releases/tag/3.10.2 PHP_CodeSniffer 3.10.2 release notes]
    * [https://github.com/PHPCSStandards/PHP_CodeSniffer/releases/tag/3.10.1 PHP_CodeSniffer 3.10.1 release notes]
    * [https://github.com/PHPCSStandards/PHP_CodeSniffer/releases/tag/3.10.0 PHP_CodeSniffer 3.10.0 release notes]
    * [https://github.com/PHPCSStandards/PHP_CodeSniffer/releases/tag/3.9.2 PHP_CodeSniffer 3.9.2 release notes]
    * [https://github.com/PHPCSStandards/PHP_CodeSniffer/releases/tag/3.9.1 PHP_CodeSniffer 3.9.1 release notes]
    
    Follow-up to [56695], [56799], [57378], [57986].
    
    Props jrf.
    Fixes #62076.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59067 602fd350-edb4-49c9-b593-d223f7449a82

commit e060ee3eb715d18e4a2cb8ce7eb29d1fd0a29842
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 19 12:10:19 2024 +0000

    Coding Standards: Remove unused return value for `WP_Object_Cache::__set()`.
    
    This resolves a WPCS warning:
    {{{
    Assignments must be the first block of code on a line
    }}}
    
    Note: This is enforced by PHPCS 3.10.3.
    
    Follow-up to [28521], [29146].
    
    Props jrf.
    See #62076, #61607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59066 602fd350-edb4-49c9-b593-d223f7449a82

commit b36055bef3c7e0359a3c4cf1760d17b259c3234d
Author: Carolina Nymark <poena@git.wordpress.org>
Date:   Thu Sep 19 10:32:34 2024 +0000

    Bundled Themes: Make text strings translatable.
    
    This changeset updates Twenty Twenty-Three and Twenty Twenty-Four and replaces text strings in HTML files with patterns to make the strings translatable.
    
    Follow-up to [58459].
    
    Props sabernhardt, karmatosed, iflairwebtechnologies, poena.
    Fixes #61951.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59065 602fd350-edb4-49c9-b593-d223f7449a82

commit bf09fe506620678fb82c3b872309edda0ed8ce61
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Sep 18 22:35:35 2024 +0000

    Date/Time, PHP Compat: Prevent type errors using GMT offset option.
    
    Prevents a potential type errors when making use of the `gmt_offset` option by casting the value to a float prior to performing calculations with the value.
    
    This mainly accounts for incorrect storage of values, such as an empty string or city name.
    
    Follow up to [58923].
    
    Props chaion07, hellofromtonya, kirasong, mhshohel, mukesh27, nicolefurlan, nihar007, nurielmeni, oglekler, peterwilsoncc, prionkor, rajinsharwar, rarst, rleeson, sabernhardt, SergeyBiryukov, swissspidy, toastercookie, verygoode.
    Fixes #56358, #58986, #60629.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59064 602fd350-edb4-49c9-b593-d223f7449a82

commit 3b248638618bcd40a315bee6027ea8b7dfc578e0
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 21:38:32 2024 +0000

    Code Modernization: Remove xml_set_object() in MagpieRSS::__construct().
    
    The XML Parser extension still supports a quite dated mechanism for method based callbacks, where the object is first set via `xml_set_object()` and the callbacks are then set by passing only the name of the method to the relevant parameters on any of the `xml_set_*_handler()` functions.
    
    {{{
    xml_set_object( $parser, $my_obj );
    xml_set_character_data_handler( $parser, 'method_name_on_my_obj' );
    }}}
    
    Passing proper callables to the `xml_set_*_handler()` functions has been supported for the longest time and is cross-version compatible. So the above code is 100% equivalent to:
    
    {{{
    xml_set_character_data_handler( $parser, [$my_obj, 'method_name_on_my_obj'] );
    }}}
    
    The mechanism of setting the callbacks with `xml_set_object()` has now been deprecated as of PHP 8.4, in favour of passing proper callables to the `xml_set_*_handler()` functions. This is also means that calling the `xml_set_object()` function is deprecated as well.
    
    This commit fixes this deprecation for the `MagpieRSS::__construct()` method.
    
    The change has not been not covered by tests. This class has been deprecated since WP 3.0.0 and is not covered by tests at all. Adding those now seems superfluous, all the more as the principle of the fix is no different than for the other files, so we can be sure it works anyway.
    
    Note: Though this is "officially" an external library, this package is no longer externally maintained. The code style of the fix in the source file is in line with the existing code style for the file.
    
    Refs:
    * https://wiki.php.net/rfc/deprecations_php_8_4#xml_set_object_and_xml_set_handler_with_string_method_names
    * https://www.php.net/manual/en/function.xml-set-object.php
    * https://www.php.net/manual/en/ref.xml.php
    
    Follow-up to [4399].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59063 602fd350-edb4-49c9-b593-d223f7449a82

commit ce571018a9d72fb513b803599cba21037fec68ed
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 21:18:54 2024 +0000

    Code Modernization: Remove xml_set_object() in AtomParser::parse().
    
    The XML Parser extension still supports a quite dated mechanism for method based callbacks, where the object is first set via `xml_set_object()` and the callbacks are then set by passing only the name of the method to the relevant parameters on any of the `xml_set_*_handler()` functions.
    
    {{{
    xml_set_object( $parser, $my_obj );
    xml_set_character_data_handler( $parser, 'method_name_on_my_obj' );
    }}}
    
    Passing proper callables to the `xml_set_*_handler()` functions has been supported for the longest time and is cross-version compatible. So the above code is 100% equivalent to:
    
    {{{
    xml_set_character_data_handler( $parser, [$my_obj, 'method_name_on_my_obj'] );
    }}}
    
    The mechanism of setting the callbacks with `xml_set_object()` has now been deprecated as of PHP 8.4, in favour of passing proper callables to the `xml_set_*_handler()` functions. This is also means that calling the `xml_set_object()` function is deprecated as well.
    
    This commit fixes this deprecation for the `AtomParser::parse()` method.
    
    This change is safeguarded via the new `AtomParser_Parse_Test` class.
    
    Notes:
    * Though this is "officially" an external library, this package is no longer externally maintained. The code style of the fix in the source file is in line with the existing code style for the file.
    * It appears that this class is not actually used by WP Core itself, so it could be considered to deprecate the class. However, as the class is not currently deprecated, safeguarding the change with a test seemed prudent.
    * The fixture used for the test reuses a fixture from the original package: https://code.google.com/archive/p/phpatomlib/source/default/source
    * The new test class follows the recommended test format (naming convention of the class, `@covers` tag at class level, only testing one method) as per Trac tickets 62004 / 53010.
    
    Refs:
    * https://wiki.php.net/rfc/deprecations_php_8_4#xml_set_object_and_xml_set_handler_with_string_method_names
    * https://www.php.net/manual/en/function.xml-set-object.php
    * https://www.php.net/manual/en/ref.xml.php
    
    Follow-up to [5951].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59062 602fd350-edb4-49c9-b593-d223f7449a82

commit f9f19c7e77bc5898b03a69a48871cd377320c378
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 21:04:48 2024 +0000

    Tests: Use file paths independent of OS-specifics assertion or helper.
    
    Use `WP_UnitTestCase_Base::assertSamePathIgnoringDirectorySeparators()` and `WP_UnitTestCase_Base::normalizeDirectorySeparatorsInPath()` in existing tests.
    
    Follow-up to [59057], [57753], [57215], [56635], [48937], [25002].
    
    Props jrf.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59061 602fd350-edb4-49c9-b593-d223f7449a82

commit 5168e1933af6e2e753b5fce4ed0f6fc29bd4fec1
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Sep 18 19:10:56 2024 +0000

    WP_Debug_Data: Extract `wp-media` data into separate method.
    
    This is the sixth part in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the sixth of twelve groups, the `wp-media` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7356
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59060 602fd350-edb4-49c9-b593-d223f7449a82

commit a543c31a1d0f6a86c664e5225f3befe03fb91807
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Wed Sep 18 19:06:45 2024 +0000

    Docs: The `$feedname` parameter in `add_feed()` should not start with an underscore.
    
    Props snehapatil02, hellofromtonya, narenin.
    Fixes #59945.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59059 602fd350-edb4-49c9-b593-d223f7449a82

commit 55aa76aa25e9f0f31a54f7bbe3e840b24427d314
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 18:44:15 2024 +0000

    Code Modernization: Explicitly declare all properties in AtomParser.
    
    Dynamic (non-explicitly declared) properties are deprecated as of PHP 8.2 and are expected to become a fatal error in PHP 9.0.
    
    There are a number of ways to mitigate this:
    * If it's an accidental typo for a declared property: fix the typo.
    * For known properties: declare them on the class.
    * For unknown properties: add the magic `__get()`, `__set()` et al methods to the class or let the class extend `stdClass` which has highly optimized versions of these magic methods build in.
    * For unknown _use of_ dynamic properties, the `#[AllowDynamicProperties]` attribute can be added to the class. The attribute will automatically be inherited by child classes.
    
    In this case, the property added are explicitly referenced in this class, so fall in the "known property" category.
    
    Refs:
    * https://wiki.php.net/rfc/deprecate_dynamic_properties
    
    Props jrf.
    See #56034.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59058 602fd350-edb4-49c9-b593-d223f7449a82

commit e6a8fdd754887ec5b2738013163552a0b8c0be76
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 18:20:43 2024 +0000

    Tests: Introduce assertion for comparing file paths independent of OS-specifics.
    
    Introduces `WP_UnitTestCase_Base::assertSamePathIgnoringDirectorySeparators()` and an associated helper method `WP_UnitTestCase_Base::normalizeDirectorySeparatorsInPath()` to allow for comparing two file path strings independently of OS-specific differences.
    
    The normalization is done in a separate method to also allow this method to be used for path normalization within test methods themselves, like for normalizing a group of paths in an array.
    
    The pretty specific method name for the helper (`normalizeDirectorySeparatorsInPath()`) is an attempt to prevent naming conflicts with methods which may exist in plugin test suites build on top of the WP Core test suite.
    
    Props jrf, hellofromTonya.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59057 602fd350-edb4-49c9-b593-d223f7449a82

commit baff405508b09c2fa165f60ffb2eec87515d6f1d
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 18:02:43 2024 +0000

    Code Modernization: Remove xml_set_object() in IXR_Message::parse().
    
    The XML Parser extension still supports a quite dated mechanism for method based callbacks, where the object is first set via `xml_set_object()` and the callbacks are then set by passing only the name of the method to the relevant parameters on any of the `xml_set_*_handler()` functions.
    
    {{{
    xml_set_object( $parser, $my_obj );
    xml_set_character_data_handler( $parser, 'method_name_on_my_obj' );
    }}}
    
    Passing proper callables to the `xml_set_*_handler()` functions has been supported for the longest time and is cross-version compatible. So the above code is 100% equivalent to:
    
    {{{
    xml_set_character_data_handler( $parser, [$my_obj, 'method_name_on_my_obj'] );
    }}}
    
    The mechanism of setting the callbacks with `xml_set_object()` has now been deprecated as of PHP 8.4, in favour of passing proper callables to the `xml_set_*_handler()` functions. This is also means that calling the `xml_set_object()` function is deprecated as well.
    
    This commit fixes this deprecation for the `IXR_Message::parse()` method.
    
    This change is safeguarded via the new`Tests_XMLRPC_Message::test_parse_sets_handlers()` test method.
    
    Note: Though this is "officially" an external library, this package is no longer externally maintained. The code style of the fix in the source file is in line with the existing code style for the file.
    
    Refs:
    * https://wiki.php.net/rfc/deprecations_php_8_4#xml_set_object_and_xml_set_handler_with_string_method_names
    * https://www.php.net/manual/en/function.xml-set-object.php
    * https://www.php.net/manual/en/ref.xml.php
    
    Follow-up to [15612], [1346].
    
    Props jrf, hellofromTonya.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59056 602fd350-edb4-49c9-b593-d223f7449a82

commit 224e2c17b26caff406a4f5d44fa53901b1b4de7f
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 17:24:30 2024 +0000

    Tests: Remove use of xml_set_object() in TestXMLParser.
    
    The XML Parser extension still supports a quite dated mechanism for method based callbacks, where the object is first set via `xml_set_object()` and the callbacks are then set by passing only the name of the method to the relevant parameters on any of the `xml_set_*_handler()` functions.
    
    {{{
    xml_set_object( $parser, $my_obj );
    xml_set_character_data_handler( $parser, 'method_name_on_my_obj' );
    }}}
    
    Passing proper callables to the `xml_set_*_handler()` functions has been supported for the longest time and is cross-version compatible. So the above code is 100% equivalent to:
    
    {{{
    xml_set_character_data_handler( $parser, [$my_obj, 'method_name_on_my_obj'] );
    }}}
    
    The mechanism of setting the callbacks with `xml_set_object()` has now been deprecated as of PHP 8.4, in favour of passing proper callables to the `xml_set_*_handler()` functions. This is also means that calling the `xml_set_object()` function is deprecated as well.
    
    This commit fixes this deprecation for the `TestXMLParser` helper utility. In this case, the callbacks were already using the recommended format and the call to `xml_set_object()` was completely redundant.
    
    As this is a test utility and was already causing pre-existing tests using the utility to fail, there is no need for dedicated tests to cover this change.
    
    Refs:
    * https://wiki.php.net/rfc/deprecations_php_8_4#xml_set_object_and_xml_set_handler_with_string_method_names
    * https://www.php.net/manual/en/function.xml-set-object.php
    * https://www.php.net/manual/en/ref.xml.php
    
    Follow-up to [25002].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59055 602fd350-edb4-49c9-b593-d223f7449a82

commit 1324176d519e02d969fb41c00de6b4d2751d0ad8
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 16:16:19 2024 +0000

    Tests: Fix Tests_Theme tests to run (and pass) cross-OS.
    
    Uses `DIRECTORY_SEPARATOR` in closures for cross-OS differences.
    
    Follow-up to [56635].
    
    Props jrf.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59054 602fd350-edb4-49c9-b593-d223f7449a82

commit 82171f503600c8fa89e298a7b3ae76710d4be44d
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 15:02:14 2024 +0000

    Code Modernization: Fix implicitly nullable parameter in WP_HTML_Processor.
    
    PHP 8.4 deprecates implicitly nullable parameters, i.e. typed parameters with a `null` default value, which are not explicitly declared as nullable.
    
    This commit the one instance of this in the `WP_HTML_Processor` class.
    
    Fixed by adding the nullability operator to the type, which is supported since PHP 7.1, so we can use it now the minimum supported PHP version is PHP 7.2.
    
    As this deprecation is thrown at compile time, it can be seen at the top of the test output when running on PHP 8.4 (which will be gone once this change has been committed). It is not possible to write a test to cover this.
    
    Ref: https://wiki.php.net/rfc/deprecate-implicitly-nullable-types
    
    Follow-up to [58867], [58769], [58304], [58192].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59053 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fc4a000fceb64668e7d3962d01f32d8cdc2c82e
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 18 14:53:32 2024 +0000

    Tests: Fix implicitly nullable parameters in Tests_HtmlApi_WpHtmlProcessorComments.
    
    PHP 8.4 deprecates implicitly nullable parameters, i.e. typed parameters with a `null` default value, which are not explicitly declared as nullable.
    
    The `Tests_HtmlApi_WpHtmlProcessorComments` test class contains one problematic parameter in the `test_comment_processing()` method declaration.
    
    While this could be fixed by adding the nullability operator, the type declarations in the test method is removed instead, including other type declarations for this method and the second test method, which were not affected by the deprecation.
    
    The reason for this is quite straight-forward: using type declarations in tests is bad practice and inhibits defense-in-depth type testing.
    
    Using type declarations in tests prevents being able to test the "code under test" with unexpected input types as the values with unexpected (scalar) types will be juggled to the expected type between the data provider and the test method and the _real_ data value would therefore never reach the method under test.
    
    The knock-on effects of this are:
    * That the input handling of the "code under test" can not be safeguarded, whether this input handling is done via in-function type checking or via a type declaration in the "code under test".
    * That if such "unexpected data type" tests are added to the data provider, they will silently pass (due to the type being juggled before reaching the "code under test"), giving a false sense of security, while in actual fact, these data sets would not be testing anything at all and if, for instance, the type declaration in the "code under test" would be removed, these tests would still pass, while by rights they should start failing.
    
    Also note that this problem would only be exacerbated if the file would be put under `strict_types`.
    
    Ref: https://wiki.php.net/rfc/deprecate-implicitly-nullable-types
    
    Follow-up to [58734].
    
    Props jrf.
    See #62061.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59052 602fd350-edb4-49c9-b593-d223f7449a82

commit 91f8e77b3e19dde884cd6a32a8799e8c71db9e92
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 18 14:22:27 2024 +0000

    Script Loader: Restore `user-profile.js` dependencies after an accidental revert.
    
    Follow-up to [59033], [59046], [59047].
    
    Props TobiasBg.
    See #61754.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59051 602fd350-edb4-49c9-b593-d223f7449a82

commit d8e05446b7d109f8b3c48cbeebf6241d3f6e3946
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Wed Sep 18 06:02:15 2024 +0000

    Docs: Add missing @since and @param annotations for the `edit_post_{$field}` hook doc.
    
    Props mukesh27
    See #50654
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59050 602fd350-edb4-49c9-b593-d223f7449a82

commit a6166f143444b48eb7250de76a5b8eeee3a7ee34
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Sep 18 05:42:16 2024 +0000

    Build/Test Tools: Submit host test results for each PHP version.
    
    The WordPress Hosting Test Results now supports multiple reports for the same commit from the same test bot. This updates the PHPUnit test workflow to submit results for each version of PHP running the tests.
    
    Props swissspidy, jorbin, crixu, kirasong, desrosj.
    See #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59049 602fd350-edb4-49c9-b593-d223f7449a82

commit 52d46a9cb3d808340f2d7b35a0120354bf8ecaf2
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Wed Sep 18 05:17:05 2024 +0000

    Global Styles: allow read access to users with `edit_posts` capabilities
    
    This patch any role that can edit a post, including custom post types, or edit theme options to read global styles from the API. This enables read-only access to global styles in the post editor. Test coverage in included.
    
    Props ramonopoly, peterwilsoncc, mukesh27, aaronrobertshaw, mamaduka, spacedmonkey, talldanwp, timothyblynjacobs.
    Fixes #62042.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59048 602fd350-edb4-49c9-b593-d223f7449a82

commit 6693c25c8a786925d16c466694d35c0ea3764e67
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Wed Sep 18 00:46:43 2024 +0000

    Script Loader: Revert removing unused array_merge.
    
    Code is poetry, until it isn’t.
    
    Unprops davidbaumwald.
    See #61754.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59047 602fd350-edb4-49c9-b593-d223f7449a82

commit 5d0753bb6e7c29adc8e6171ee21338cb5ade297b
Author: Jeremy Felt <jeremyfelt@git.wordpress.org>
Date:   Wed Sep 18 00:12:52 2024 +0000

    Application Passwords: Add copy button when adding new password.
    
    Props circlecube, dhruvang21, ironprogrammer, desrosj.
    Fixes #62019.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59046 602fd350-edb4-49c9-b593-d223f7449a82

commit b0809808e21827e4f6d0325695f37b67211067d5
Author: Drew Jaynes <drewapicture@git.wordpress.org>
Date:   Wed Sep 18 00:00:08 2024 +0000

    Docs: Add possible filter names to the hook docs for the following filters in `sanitize_post_field()`:
    
    - `edit_{$field}`
    - `{$field_no_prefix}_edit_pre`
    - `edit_post_{$field}`
    - `pre_{$field}`
    - `{$field_no_prefix}_save_pre`
    - `pre_post_{$field}`
    - `{$field}_pre`
    - `{$field}`
    - `post_{$field}`
    
    Props johnbillion, DrewAPicture.
    Fixes #50654
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59045 602fd350-edb4-49c9-b593-d223f7449a82

commit e9bb88d8c2da2c5ea1831ecbd7909ae19ba29708
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Sep 17 23:56:10 2024 +0000

    Bootstrap/Load: Add documentation warning about updating `$table_prefix`.
    
    Props bjerke-johannessen, swissspidy, SergeyBiryukov, morganestes, stevenlinx, jorbin.
    Fixes #34189.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59044 602fd350-edb4-49c9-b593-d223f7449a82

commit 36f6f6450175e9b5e2213aa9c4e44eb6e10f18c8
Author: Helen Hou-Sandi <helen@git.wordpress.org>
Date:   Tue Sep 17 23:48:26 2024 +0000

    Bootstrap/Load: Give more context and warning about editing compat.php.
    
    As indicated by name, this is a compatibility file which warrants more care to begin with, but it's still worth warning folks about how narrow function availability is in this file.
    
    Props jorbin, dmsnell, helen.
    See #61694.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59043 602fd350-edb4-49c9-b593-d223f7449a82

commit 8f6ec896348f83e63fa239f376d5010b85d24794
Author: Adam Silverstein <adamsilverstein@git.wordpress.org>
Date:   Tue Sep 17 23:26:22 2024 +0000

    Media: improve speed of AVIF image generation.
    
    Set the AVIF encoder to work faster by raising heic:speed to 7 from the default of 5. AVIF generation time is reduced by up to 20% with minimal impact on image size.
    
    Props: adamsilverstein, erikyo, mukesh27, yguyon, felixarntz, jzern.
    Fixes #61758.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59042 602fd350-edb4-49c9-b593-d223f7449a82

commit f9aeb0bdc14b251b7f1497771ce34fdeea7578a4
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Sep 17 23:26:03 2024 +0000

    Accessibility: Add border around menus and submenus in high contrast mode.
    
    Add outlines and borders to mark the boundaries between the admin navigation menu and content and around adminbar submenus that are visible when Windows High Contrast Mode is enabled. This clarifies the page structure and makes high contrast mode easier to use.
    
    Props wildworks, hbhalodia, sabernhardt, joedolson, rcreators.
    Fixes #61616.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59041 602fd350-edb4-49c9-b593-d223f7449a82

commit 71c69dad2e05fd51c508b1311805083943dc5398
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Tue Sep 17 23:22:43 2024 +0000

    REST API: Allow posts to be published with a publication date of midnight 1970-01-01.
    
    Explicitly checks date parsing return values for `false`, so that `0` (the value returned for the UNIX epoch of `1970-01-01 00:00:00`) is correctly treated as a valid timestamp.
    
    It should be valid to create a post dated to any point in history.
    
    Props emmanuel78, sabernhardt, siliconforks, drjosh07, antpb, TimothyBlynJacobs.
    Fixes #60184.
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59040 602fd350-edb4-49c9-b593-d223f7449a82

commit c1520f3684dcd4647ef789b2f47aa4850a4ce871
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Tue Sep 17 22:39:58 2024 +0000

    Bootstrap/Load: Ensure uses of set_time_limit are documented why.
    
    `set_time_limit` can cause unexpected behavior so it general should be avoided. There are instances though where they should be used so those instances should be properly documented.
    
    Props Rcrayno, ryan, kurtpayne, jorbin.
    Fixes #21521. See #19487.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59039 602fd350-edb4-49c9-b593-d223f7449a82

commit 3cd3a00c76102913590ade96a44003deb01664c3
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Tue Sep 17 22:25:03 2024 +0000

    Build Tools: Allow easier customization of the .env file.
    
    The .env file allows for configuring how the WordPress Local environment should be configured. However, because the file is version controlled, developers must be careful not to commit their modifications.
    
    This commit renames the .env file to be .env.example. During env start, the .env.example file is copied to .env if it does not exist. This allows for contributors to continue using the project without thinking about .env and to make changes when needed. This brings WordPress Core into the dotenv project guidelines.
    
    Props johnbillion, afragen, h71, desrosj.
    Fixes #52668.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59038 602fd350-edb4-49c9-b593-d223f7449a82

commit 98a9f6481afe3dc764f0ca5bb4f108cefe7203e0
Author: Anthony Burchell <antpb@git.wordpress.org>
Date:   Tue Sep 17 22:24:43 2024 +0000

    Coding Standards: Avoid using confusing `!` condition in Media Library selection check.
    
    Checks that value is now equal or less than or equal to 0 which has the same result as the previous confusing `!` usage.
    
    Props kadamwhite, drjosh07.
    See #60369.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59037 602fd350-edb4-49c9-b593-d223f7449a82

commit 15b7d2a86885a6c83b520277f97b1debe31048fb
Author: K. Adam White <kadamwhite@git.wordpress.org>
Date:   Tue Sep 17 22:17:41 2024 +0000

    REST API: Only check password value in query parameters while checking post permissions.
    
    The `password` property which gets sent as part of a request POST body while setting a post's password should not be checked when calculating post visibility permissions.
    
    That value in the request body is intended to update the post, not to authenticate, and may be malformed or an invalid non-string type which would cause a fatal when checking against the hashed post password value.
    
    Query parameter `?password=` values are the correct interface to check, and are also guaranteed to be strings.
    
    Props mlf20, devansh016, antonvlasenko, TimothyBlynJacobs, kadamwhite.
    Fixes #61837.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59036 602fd350-edb4-49c9-b593-d223f7449a82

commit d3d02c44ebdddc11b5c53b6fc6938e801b3d41f8
Author: Anthony Burchell <antpb@git.wordpress.org>
Date:   Tue Sep 17 21:56:43 2024 +0000

    Media: Add Ctrl/Command + Enter shortcut to insert selected Media Library items.
    
    Adds a Ctrl/Command + Enter keyboard shortcut to insert the currently selected single media or multiple media items when selecting in the Media Library modal.
    
    Props poena, hirschferkel, antpb, joedolson, skobe, rcreators, plaidharper.
    Fixes #60369.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59035 602fd350-edb4-49c9-b593-d223f7449a82

commit a9d76fab5641acdd3724a25989979cc51f22b953
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 17 21:56:18 2024 +0000

    REST API: Support exact search in the REST API posts endpoint.
    
    This changeset adds support for a new `search_semantics` enum query parameter that can be passed alongside the `search` string parameter. At this point, it only supports "exact" as possible value, but an enum is used for forward compatibility with potential enhancements like "sentence" search support. If `search_semantics=exact` is passed, it will look for an exact match rather than do a full text search, which for some use-cases is more appropriate and more performant.
    
    Props mehulkaklotar, timothyblynjacobs, jimmyh61, ironprogrammer, johnregan3, mukesh27, costdev.
    Fixes #56350.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59034 602fd350-edb4-49c9-b593-d223f7449a82

commit af0437b080a1c512816883728bde9a75f70081bf
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Tue Sep 17 21:52:54 2024 +0000

    Script Loader: Remove unused array_merge.
    
    This change removes an unused `array_merge` that was added in [44265].
    
    Props kkmuffme, SergeyBiryukov, akshat2802.
    Fixes #61754.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59033 602fd350-edb4-49c9-b593-d223f7449a82

commit 7b8e4451f4d28102585bdf9573ce0fb193a917f9
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Tue Sep 17 21:50:38 2024 +0000

    REST API: Automatically populate targetHints for the Allow header.
    
    The REST API uses the "Allow" header to communicate what methods a user is authorized to perform on a resource. This works great when operating on a single item route, but can break down when needing to determine authorization over a collection of items.
    
    This commit uses the "targetHints" property of JSON Hyper Schema to provide access to the "allow" header for "self" links. This alleviates needing to make a separate network request for each item in a collection.
    
    Props mamaduka, noisysocks, peterwilsoncc, spacedmonkey, swissspidy, timothyblynjacobs, tyxla, youknowriad.
    Fixes #61739.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59032 602fd350-edb4-49c9-b593-d223f7449a82

commit f79ad14e03162fe7c82bc63bc8137fa974ed87cc
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Tue Sep 17 21:31:14 2024 +0000

    Plugins: Correct the item schema for the plugins REST API endpoint.
    
    The `author` property contains the string name of the plugin author.
    
    Props narenin.
    
    Fixes #61920
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59031 602fd350-edb4-49c9-b593-d223f7449a82

commit cdd137e9977ee7a2c276e462b61d55c8cb60a58e
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Sep 17 21:06:30 2024 +0000

    External Libraries: Update PHPass library.
    
    This updates the PHPass library to version `0.5.4` while maintaining the adjustments introduced in [30466].
    
    Props jrf.
    Fixes #62058.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59030 602fd350-edb4-49c9-b593-d223f7449a82

commit 70c7962fee55cd10ffb2ab35c19c7d78359bef07
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Tue Sep 17 20:56:03 2024 +0000

    I18N: Add a new way to determine whether a translation is available.
    
    A new `has_translation()` function can be used to determine whether a translation exists for a given string.
    
    Props louiswol94, swissspidy, drzraf, ckanitz, tomhine, mchirag2002, samuelsilvapt.
    Fixes #52696.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59029 602fd350-edb4-49c9-b593-d223f7449a82

commit 4dafd584c91524f0cfd743f728d5f334df761e11
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 17 16:58:10 2024 +0000

    Taxonomy: Remove redundant `$taxonomies` value from cache keys used for `WP_Term_Query`.
    
    Props niravsherasiya7707, spacedmonkey.
    Fixes #59594.
    See #35381.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59028 602fd350-edb4-49c9-b593-d223f7449a82

commit 7dad836c7ff293879da0cdcce98472b5d85d3708
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 17 00:01:09 2024 +0000

    General: Add missing `initial-scale` value in viewport meta tags.
    
    The viewport meta should include `initial-scale=1.0` to ensure that high DPI/mobile display works as expected.
    
    References:
    * [https://css-tricks.com/probably-use-initial-scale1/ CSS-Tricks: Probably Use initial-scale=1]
    * [https://www.sitepoint.com/community/t/is-it-necessary-to-include-initial-scale-1-0-in-the-meta-viewport-tag/455119 SitePoint Forums: Is it necessary to include initial-scale=1.0 in the meta viewport tag?]
    
    Follow-up to [59026].
    
    Props dhruvang21, sabernhardt, kkmuffme, mukesh27, narenin, swissspidy, SergeyBiryukov.
    Fixes #61988.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59027 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b8fb62a066e34862a8bb30498d1e1b5e18290f0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 16 22:16:46 2024 +0000

    Bundled Themes: Add missing `initial-scale` value in viewport meta tag.
    
    The viewport meta should include `initial-scale=1.0` to ensure that high DPI/mobile display works as expected.
    
    Includes standardizing on `1.0` vs. `1` for consistency.
    
    References:
    * [https://css-tricks.com/probably-use-initial-scale1/ CSS-Tricks: Probably Use initial-scale=1]
    * [https://www.sitepoint.com/community/t/is-it-necessary-to-include-initial-scale-1-0-in-the-meta-viewport-tag/455119 SitePoint Forums: Is it necessary to include initial-scale=1.0 in the meta viewport tag?]
    
    Props dhruvang21, sabernhardt, kkmuffme, mukesh27, swissspidy, SergeyBiryukov.
    See #61988.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59026 602fd350-edb4-49c9-b593-d223f7449a82

commit ca64c851f7d73a48fa19a5d54467d45fc66a1098
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 16 20:15:17 2024 +0000

    HTML API: Update html5lib test runner to support new features.
    
    This patch updates the html5lib test runner following the merge of changes opening up a full HTML parser and additional fragment contents. It makes no Core code changes, but allows a more tests to complete which previously failed due to incomplete test runner support..
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7346
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Props jonsurrell.
    See #61646.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59025 602fd350-edb4-49c9-b593-d223f7449a82

commit 1637791aefdfa2a5169c5b81175655a7c540fcfa
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 16 17:54:08 2024 +0000

    HTML API: Prevent infinite loop in foreign content reprocessing step.
    
    An infinite loop was discovered in specific situations within foreign content inside the HTML Processor when a given node inside foreign content must be handled in the rules for the current insertion mode.
    
    This patch resolves the loop by handling those nodes directly instead of reprocessing the node, which previously was redirecting control flow back to where the loop started.
    
    Developed in https://github.com/wordpress/wordpress-develop/7347
    Discussed in https://core.trac.wordpress.org/ticket/61656
    
    Follow-up to [58868].
    
    Props jonsurrell.
    See #61576.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59024 602fd350-edb4-49c9-b593-d223f7449a82

commit d2ce8ddbe026ce33115c1bb6e60d3efbb96fa6ed
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Mon Sep 16 11:31:17 2024 +0000

    Meta: Add label argument to register_meta function
    
    With the introduction of Block Bindings, it became more common to see workflows where users need to see the custom fields that are available or connected. They were relying on the meta key, however it feelt too technical sometimes. The solution is adding a new label argument to include a human-readable name that can be used across the UI.
    
    Props santosguillamot, mamaduka, gziolo, timothyblynjacobs, peterwilsoncc.
    Fixes #61998.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59023 602fd350-edb4-49c9-b593-d223f7449a82

commit 6b81c17cb77ee1bd5fd672a689a1fec85b497161
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 15 13:47:36 2024 +0000

    Themes: Improve the alignment of feature filters and inputs on Add Themes screen.
    
    Follow-up to [35527], [38640], [40797].
    
    Props Benjamin_Zekavica, sabernhardt, sumitsingh, gauravtiwari, krupajnanda, audrasjb, SergeyBiryukov.
    Fixes #53314.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59022 602fd350-edb4-49c9-b593-d223f7449a82

commit dc60d05e4d7f4279b423cabea9d4b16217e77697
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 14 21:29:25 2024 +0000

    Tests: Add tests to ensure that the `WP_Network::$blog_id` property is a string.
    
    Follow-up to [34097], [36340], [37657], [37870], [37871], [59020].
    
    Fixes #62035.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59021 602fd350-edb4-49c9-b593-d223f7449a82

commit be75ea8e73a6d64616fea64e9ccf76ac1268a61e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 13 22:10:51 2024 +0000

    Networks and Sites: Set `WP_Network` properties via setters upon creation.
    
    This ensures that `WP_Network::$id` is stored internally as `int`, to match the documented type.
    
    Follow-up to [37870].
    
    Props ironprogrammer, scottculverhouse, spacedmonkey, SergeyBiryukov.
    See #62035.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59020 602fd350-edb4-49c9-b593-d223f7449a82

commit a78540b0881a195ec8488bb6bdf878114d75f8b8
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Sep 13 05:35:13 2024 +0000

    Editor: Deprecate "Social links with a shared background color" pattern.
    
    Removes the pattern from the inserter while retaining the related code to ensure the content renders for sites making use of the pattern.
    
    Props annezazu, talldanwp, richtabor, mikachan.
    Fixes #61708.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59019 602fd350-edb4-49c9-b593-d223f7449a82

commit 1730f7713f31674caab68607e01bb6d408ffa091
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Sep 13 05:21:45 2024 +0000

    Upgrade/Install: Indicate HEIC support when checking upgrades.
    
    Adds tracking of HEIC image type support alongside WebP and AVID image types when requesting upgrade from WordPress.org
    
    Props adamsilverstein, swissspidy, dd32, mukesh27.
    Fixes #61981.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59018 602fd350-edb4-49c9-b593-d223f7449a82

commit 8f90a7ebcd4d95a0b9f1aefd9f9ba4cf51d7d144
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 12 21:39:41 2024 +0000

    Tests: Restore the environment before performing assertions in some canonical tests.
    
    This aims to avoid affecting other tests in case of failure.
    
    Follow-up to [28704], [45133].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59017 602fd350-edb4-49c9-b593-d223f7449a82

commit 47122105f20624e5a6b8ed151d732157f2f2605c
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Sep 11 23:07:26 2024 +0000

    Administration: Increase frequency of heartbeat API requests.
    
    Increases the frequency of heartbeat API requests from once every 15 seconds to once every 10 seconds.
    
    The purpose of this change is to reduce the length of time before a post becomes unlocked as a user navigates around the WordPress Dashboard and ceases editing a post.
    
    `wp.heartbeat.interval()` has been modified to allow theme and plugin authors to set the heartbeat interval to any value between one second and one hour rather than limiting them to a fixed set of values.
    
    Props azaozz, annezazu, jorbin, kirasong.
    Fixes #61960.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59016 602fd350-edb4-49c9-b593-d223f7449a82

commit 1931906d94cb0322bea0c6d54792c27688778187
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Sep 11 22:39:45 2024 +0000

    Taxonomy: Test inserting a child term flushes queries by term ID.
    
    Adds a test to ensure that interting a child term invalidates the cache of a `get_terms()` query by the parent ID.
    
    Props Dekadinious, peterwilsoncc.
    See #62031, #61530.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59015 602fd350-edb4-49c9-b593-d223f7449a82

commit f7d9b1b12b67d328379965468145abf27316175c
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Sep 11 16:11:32 2024 +0000

    HTML API: Make WP_HTML_Processor::get_tag() namespace aware.
    
    The HTML specification indicates that an HTML tag with the name "IMAGE"
    should be renamed as "IMG" and handled as if it were an "IMG", but this
    only applies to elements in the HTML namespace.
    
    In this patch the HTML Processor is updated to ensure that it doesn't
    remap the tag name when processing foreign content, such as SVG and
    MathML markup.
    
    Developed in https://github.com/wordpress/wordpress-develop/7330
    Discussed in https://core.trac.wordpress.org/ticket/61656
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59014 602fd350-edb4-49c9-b593-d223f7449a82

commit 4dc49077dbe75f608be6857d19bd32d3c82fa6a4
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Sep 11 15:42:34 2024 +0000

    Comments: Reinstate original since annotation on `get_edit_comment_link` filter.
    
    This was accidentally removed in [58875].
    
    See #61727.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59013 602fd350-edb4-49c9-b593-d223f7449a82

commit b18e0e12bcd449868548d591104ce370ff0d0804
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Sep 11 15:38:20 2024 +0000

    Comments: Ensure `$comment_id` parameter on `get_edit_comment_link` filter is always a comment ID.
    
    Follow up to [58875].
    
    Props david.binda, peterwilsoncc, mukesh27, davidbaumwald.
    Fixes #61727.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59012 602fd350-edb4-49c9-b593-d223f7449a82

commit 38243be931f7e3829b8cae96cedfb61a0d9c34fe
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Sep 11 14:45:57 2024 +0000

    WP_Debug_Data: Extract `wp-mu-plugins` data into separate method.
    
    This is the part five in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the fifth of twelve groups, the `wp-mu-plugins` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/7305
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell.
    See #61648.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59011 602fd350-edb4-49c9-b593-d223f7449a82

commit 55352abccbe956ac11e1e095381c89b16fd6712d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 11 13:25:04 2024 +0000

    Docs: Remove the `@ignore` tag for `_wp_render_title_tag()`.
    
    The function is referenced in the `_block_template_render_title_tag()` DocBlock, and should therefore be included in the documentation.
    
    Follow-up to [30074], [30615], [31170], [35294], [51003].
    
    Props poena.
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59010 602fd350-edb4-49c9-b593-d223f7449a82

commit 3ba724aed86dbd9872e7a284f7b576952a1482bd
Author: John Blackbourn <johnbillion@git.wordpress.org>
Date:   Wed Sep 11 12:06:15 2024 +0000

    Docs: Various docblock improvements and corrections.
    
    See #61608
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59009 602fd350-edb4-49c9-b593-d223f7449a82

commit afeaf7e8ce7ad7e7030f1b95ef7d7515810a6429
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Tue Sep 10 23:59:54 2024 +0000

    Media: Add auto sizes for lazy-loaded images.
    
    This implements the HTML spec for applying auto sizes to lazy-loaded images by prepending `auto` to the `sizes` attribute generated by WordPress if the image has a `loading` attribute set to `lazy`. For browser that support this HTML spec, the image's size value will be set to the concrete object size of the image. For browsers that don't support the spec, the word "auto" will be ignored when parsing the sizes value.
    
    References:
    - https://html.spec.whatwg.org/multipage/images.html#sizes-attributes
    - https://github.com/whatwg/html/pull/8008
    
    Props mukesh27, flixos90, joemcgill, westonruter, peterwilsoncc.
    Fixes #61847.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59008 602fd350-edb4-49c9-b593-d223f7449a82

commit fc0d046b3fb12ca27174a9ab3024b16f5b8f359f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 10 09:45:38 2024 +0000

    Docs: Fix typo in a comment in `get_block_templates()`.
    
    Follow-up to [55687].
    
    Props dj.cowan, mukesh27.
    Fixes #62023.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59003 602fd350-edb4-49c9-b593-d223f7449a82

commit 19fc9c7aadcaf24b51b3479dd62121b74213a7d7
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Sep 10 00:02:08 2024 +0000

    WP_Debug_Data: Extract `wp-server` data into separate method.
    
    This is the part four in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the fourth of twelve groups, the `wp-server` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/7283
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, costdev, dmsnell, kebbet, mukesh27.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59002 602fd350-edb4-49c9-b593-d223f7449a82

commit ad1db1158c9e0ea1101e7e0e6077f8d73e5c0773
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 9 22:10:09 2024 +0000

    HTML API: Add sentinels for unreachable code.
    
    There are places in the HTML API code where some tools get confused and flag invalid types for the return of a function because they are unable to detect that the end of the function is unreachable.
    
    Since PHP doesn't provide a way to encode total matching in the source code, this patch adds a few extra lines in those unreachable locations to satisfy any tooling which isn't able to fully analyze the code.
    
    Additionally this serves as extra guarding in case someone changes these functions in a way which would break them and the existing test suite doesn't catch those breakages.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7315
    Discussed in https://core.trac.wordpress.org/ticket/62018
    
    Props dlh, dmsnell.
    Fixes #62018.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59001 602fd350-edb4-49c9-b593-d223f7449a82

commit 13e0e5095040900226b316ac5d5081e9b8b53b34
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 9 14:35:03 2024 +0000

    Docs: Correct parameter reference for `manage_posts_columns` and related filters.
    
    Follow-up to [27255], [42871].
    
    Props truptikanzariya.
    Fixes #62015.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@59000 602fd350-edb4-49c9-b593-d223f7449a82

commit a30b9b444fbdd30d711f7e597794eb958764ea56
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 9 10:15:24 2024 +0000

    Users: Remove obsolete conditional in `wp-admin/user-new.php`.
    
    Since `$username` is set to `$user_details->user_login`, it will never be `null` in this specific line.
    
    Follow-up to [https://mu.trac.wordpress.org/changeset/641 mu:641], [https://mu.trac.wordpress.org/changeset/1529 mu:1529], [12722], [16294].
    
    Props akshat2802, mukesh27, aristath, SergeyBiryukov.
    Fixes #62012.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58999 602fd350-edb4-49c9-b593-d223f7449a82

commit 857a1d34055a0941d4f6d36230d3b73d060516cd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 8 19:16:07 2024 +0000

    Coding Standards: Use strict comparison in `wp-includes/capabilities.php`.
    
    Follow-up to [2703], [3297], [3513], [6697], [14189], [25177], [27390], [38378], [38698], [39588], [48356], [48664].
    
    Props aristath, poena, afercia, SergeyBiryukov.
    See #61607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58998 602fd350-edb4-49c9-b593-d223f7449a82

commit bd107ac6f67e7c1b7308a87e07310e404af598a1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Sep 7 22:42:34 2024 +0000

    Administration: Remove old IE9 code from `wp-admin/js/svg-painter.js`.
    
    About half of the file's code was a back-compat polyfill of base64 functions for IE9.
    
    Since WordPress no longer supports IE9 as of version 4.8, and all modern browsers come with these functions, the polyfills can be removed.
    
    Follow-up to [26072], [26131], [26601], [47771].
    
    Props TobiasBg, sabernhardt.
    Fixes #61995.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58997 602fd350-edb4-49c9-b593-d223f7449a82

commit af239aee1bee6686c6eec5ee7b87e65ca9c00898
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Sep 6 19:48:54 2024 +0000

    Debug Data: Encode section ordering in debug info.
    
    During a refactor to modularize the debug data class, it came up that the ordering of the sections inside of the returned debug info is relevant to existing UIs, as they iterate the array, which happens in insertion order.
    
    This patch presets each section at the start to ensure that the ordering remains consistent even as code within the method is rearranged. As the mini-project progresses, this assignment will be the final place all the sections are referenced.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7289
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props apermo, dmsnell, sergeybiryukov.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58996 602fd350-edb4-49c9-b593-d223f7449a82

commit da1ea40d5359a072cc81ae52721d870c4ea28475
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Sep 6 14:34:33 2024 +0000

    Docs: Correct the order of `@since` and `@var` annotations.
    
    Follow-up to [4673], [8656], [13041], [13827], [13895], [31134], [34490], [34566].
    
    Props riddhipatel, shailu25.
    Fixes #61999.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58995 602fd350-edb4-49c9-b593-d223f7449a82

commit c8d4bc734fcf35c34f042b29d0897a955680ac0b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Sep 5 14:57:46 2024 +0000

    Coding Standards: Use strict comparison in `wp-admin/includes/upgrade.php`.
    
    Follow-up to [725], [1575], [1975], [2037], [2966], [3670], [4738], [11958], [12776], [14080], [14485], [32378].
    
    Props faisalahammad, mujuonly, aristath, poena, afercia, SergeyBiryukov.
    Fixes #58041, #61607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58994 602fd350-edb4-49c9-b593-d223f7449a82

commit 852848ac0ecebf67a92374d03ae86aae1bea9b1a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Sep 4 21:08:48 2024 +0000

    Docs: Correct the first parameter name for the `pre_site_option_{$option}` filter.
    
    Follow-up to [27365], [41013], [48193].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58993 602fd350-edb4-49c9-b593-d223f7449a82

commit b73edfb4afa12e8506d4c9e6696c66117fa70de9
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Sep 4 19:23:48 2024 +0000

    HTML API: Only examine HTML nodes in `pop_until()` instack of open elements.
    
    The `pop_until( $tag_name )` method in the stack of open elements should only be examining HTML elements, but it has only been checking the tag name. This has led to closing the wrong tags when run from inside foreign content. A very specific situation where this may arise is when a `TEMPLATE` closer is found inside foreign content, inside another template.
    
    {{{
    HTML:template   SVG:template                 HTML:/template
    <template><svg><template><foreignObject><div></template><div>
    ╰──< this outer TEMPLATE is closed by this one >───╯
    }}}
    
    This patch constains the method to checking for elements matching the tag name which are in the HTML namespace so that the proper detection occurs.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7286
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58867].
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58992 602fd350-edb4-49c9-b593-d223f7449a82

commit 769f0170f87acc22dca0289a042ae55148c3a35a
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Sep 4 16:23:11 2024 +0000

    Editor: Update packages for 6.6.2 RC1.
    
    Updates the versions from the [https://github.com/WordPress/gutenberg/commit/a74a70ed203bbcbb5f3d34335df9631178647acb released packages] for the following bugfixes:
    
    * [https://github.com/WordPress/gutenberg/pull/63980 Global Styles: Fix block custom CSS pseudo element selectors]
    * [https://github.com/WordPress/gutenberg/pull/64463 Featured Image Block: Reduce CSS specificity]
    * [https://github.com/WordPress/gutenberg/pull/64076 Fix bumped specificity for layout styles in non-iframed editor]
    * [https://github.com/WordPress/gutenberg/pull/64379 Don't allow duplicating template parts in non-block-based themes]
    * [https://github.com/WordPress/gutenberg/pull/64250 Data Views: Don't render action modal when there are no eligible items]
    * [https://github.com/WordPress/gutenberg/pull/63724 Fix canvas issues by removing VisualEditor’s height]
    * [https://github.com/WordPress/gutenberg/pull/64992 Post Editor: fix click space after post content to append]
    * [https://github.com/WordPress/gutenberg/pull/63939 Post Editor: Prevent popover from being hidden by metabox]
    * [https://github.com/WordPress/gutenberg/pull/64639 Post editor: apply space below content using a pseudo-element instead of padding-bottom]
    * [https://github.com/WordPress/gutenberg/pull/64015 Avoid errors for post types without a 'menu_icon']
    * [https://github.com/WordPress/gutenberg/pull/64458 Update postcss-prefixwrap dependency to 1.51.0 to fix prefixing in :where selectors]
    
    Props vcanales.
    Fixes #61982.
    See #61704, #61769, #61829.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58988 602fd350-edb4-49c9-b593-d223f7449a82

commit fb40fe915efab59d54d5bf812e2a4574ae525510
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Sep 4 04:32:37 2024 +0000

    HTML API: Respect document compat mode when handling CSS class names.
    
    The HTML API has been behaving as if CSS class name selectors matched class names in an ASCII case-insensitive manner. This is only true if the document in question is set to quirks mode. Unfortunately most documents processed will be set to no-quirks mode, meaning that some CSS behaviors have been matching incorrectly when provided with case variants of class names.
    
    In this patch, the CSS methods have been audited and updated to adhere to the rules governing ASCII case sensitivity when matching classes. This includes `add_class()`, `remove_class()`, `has_class()`, and `class_list()`. Now, it is assumed that a document is in no-quirks mode unless a full HTML parser infers quirks mode, and these methods will treat class names in a byte-for-byte manner. Otherwise, when a document is in quirks mode, the methods will compare the provided class names against existing class names for the tag in an ASCII case insensitive way, while `class_list()` will return a lower-cased version of the existing class names.
    
    The lower-casing in `class_list()` is performed for consistency, since it's possible that multiple case variants of the same comparable class name exists on a tag in the input HTML.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7169
    Discussed in https://core.trac.wordpress.org/ticket/61531
    
    Props dmsnell, jonsurrell.
    See #61531.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58985 602fd350-edb4-49c9-b593-d223f7449a82

commit e13b7cb6dba1543b4d492d23369a99d640c1159b
Author: George Mamadashvili <mamaduka@git.wordpress.org>
Date:   Wed Sep 4 04:15:16 2024 +0000

    Editor: Update preloaded paths for the site editor
    
    Add the `OPTIONS /wp/v2/pages` route to the list. The request is made via the `useBlockEditorSettings` hook at the top of the editor React tree. Preloading should improve the editor's loading time.
    
    Avoid hardcoding paths for the 'attachment' post type; use the `rest_get_route_for_post_type_items` helper method instead.
    
    Props mamaduka, noisysocks.
    See #61884.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58984 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ad162e53ee9732c8ed63150650f7f9d3067a9d7
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Sep 3 22:41:06 2024 +0000

    Posts, Post Types: Check if the post type exists in `_admin_notice_post_locked()`.
    
    This adds a guard to verify the result of `get_post_type_object()` before retrieving the `all_items` label, as the function returns `null` if the post type does not exist.
    
    Follow-up to [24527].
    
    Props pcarvalho, akshat280, mukesh27, SergeyBiryukov.
    Fixes #60947.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58983 602fd350-edb4-49c9-b593-d223f7449a82

commit 583bbce947f2c7a036ff6690d8d572714daca5ad
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Tue Sep 3 20:34:35 2024 +0000

    Comments: Limit comments shortcut to not execute on links.
    
    Exclude links from activating the comment submission shortcut.
    
    [45790] introduced a shortcut to submit comment forms using `Ctrl/Cmd + Enter`. This keyboard combination is also the combination for opening a link in a new tab, which resulted in submitting the form when using the Log Out or Edit Profile links.
    
    Props greentreefrog, sabernhardt, narenin.
    Fixes #61919.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58981 602fd350-edb4-49c9-b593-d223f7449a82

commit c5a5c20445f48ef5e45e0940315655143c588a23
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Sep 3 19:56:16 2024 +0000

    Docs: Add changing existing items recommendations to 'admin_bar_menu' action.
    
    Improves the `'admin_bar_menu'` docblock by adding recommendations for customizing / changing existing items.
    
    It also improves the `wp_admin_bar_render()` function's docblock by removing the "most optimal point" sentence.
    
    The [58748] changeset moved the user menu to a higher priority level (of `9991`) to achieve:
    
    >so nodes added with higher priorities will still be shown visually before the user and recovery menu items, as they were prior to [58215].
    
    When hooking into `'admin_bar_menu'` with a priority level less than 9991 and attempting to get the `'my-account'` node, `null` is returned. While the preferred approach is to hook into `'wp_before_admin_bar_render'`, the documentation of the `'admin_bar_menu'` action was previously misleading.
    
    Follow-up to [58748], [58759].
    
    Props michaelwp85, narenin, sabernhardt, joedolson, costdev, jorbin, hellofromTonya, mukesh27, pbiron.
    Fixes #61738.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58978 602fd350-edb4-49c9-b593-d223f7449a82

commit 79c1047af3d0f3b3ff77f955543ce8159fef0d99
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Sep 3 19:48:57 2024 +0000

    HTML API: Ensure that NULL and whitespace-only CDATA sections don't forbid FRAMESET.
    
    When CDATA sections (which can only occur inside SVG and MathML content) consist only of NULL bytes or whitespace characters they should not clear the "frameset ok" flag. Previously they have always been clearing this flag, but in this patch the logic is updated to detect these sequences properly.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7230
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58867].
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58977 602fd350-edb4-49c9-b593-d223f7449a82

commit 37d896a6901867018b412fe39a0c92498ef7e996
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Sep 3 18:49:16 2024 +0000

    Help/About: Fix text wrapping on non-English locales.
    
    In [57715], headings on the About pages were given `text-wrap: balance`. This rule causes unexpected breaks in non-latin langauges, e.g., Japanese, Korean. This fix sets the text-wrap to `pretty` for browsers that support it, and uses `balance` for English-only.
    
    Props akshat2802, wildworks, ryelle, sabernhardt, hellofromTonya.
    Fixes #60892.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58976 602fd350-edb4-49c9-b593-d223f7449a82

commit 13a4d4acebd3af88ef8b2a27c986456a8042016e
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 3 18:17:19 2024 +0000

    Options, Meta APIs: Explicitly pass `$autoload` parameter to when potentially adding new options.
    
    It is recommended that for every option it is explicitly set whether to autoload it or not. This changeset updates relevant `update_option()` and `add_option()` calls.
    
    Note that the `$autoload` parameter is only needed for `update_option()` if the option is potentially not present yet, i.e. the call will pass through to `add_option()`. Since WordPress core adds the majority of its options to the database during installation, only `update_option()` calls for dynamically added options need to be modified, which is what this changeset does.
    
    As part of revisiting the autoload values for dynamically added WordPress core options, this changeset modifies some options to no longer be autoloaded, since they are only accessed in a few specific places that are not relevant for a regular request. These options are:
    * `recently_activated`
    * `_wp_suggested_policy_text_has_changed`
    * `{upgradeLock}.lock`
    * `dashboard_widget_options`
    * `ftp_credentials`
    * `adminhash`
    * `nav_menu_options`
    * `wp_force_deactivated_plugins`
    * `delete_blog_hash`
    * `allowedthemes`
    * `{sessionId}_paused_extensions`
    * `recovery_keys`
    * `https_detection_errors`
    * `fresh_site`
    
    An upgrade routine is present as well that sets those options to no longer autoload for existing sites.
    
    Props pbearne, flixos90, mukesh27, swissspidy, SergeyBiryukov, joemcgill, adamsilverstein.
    Fixes #61103.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58975 602fd350-edb4-49c9-b593-d223f7449a82

commit d525818f76607c7bfabaded787cf98e97268ed67
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Tue Sep 3 17:05:33 2024 +0000

    Media: Consistently pass 'src' attribute to `wp_get_loading_optimization_attributes()`.
    
    A common use-case for the 'wp_get_loading_optimization_attributes' filter is to modify attributes based on the 'src' attribute. However, the `wp_img_tag_add_loading_optimization_attrs()` was not passing that attribute to the function as expected, which would make such usage of the filter unreliable. This changeset ensures the 'src' attribute is also passed in this scenario. All other calls to `wp_get_loading_optimization_attributes()` already included the attribute.
    
    Props deepakrohilla, prestonwordsworth, mukesh27, adamsilverstein, joemcgill, flixos90.
    Fixes #61436.
    See #58893.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58974 602fd350-edb4-49c9-b593-d223f7449a82

commit 9e4c2ee7cf603db9ae1481c532e1fb641a4c0466
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Tue Sep 3 16:31:44 2024 +0000

    Block bindings: Adds a filter to customize the output of a block bindings source.
    
    Introduces a filter to the `block_bindings_source_value` to allow developers to
    modify the value returned by any block binding source.
    
    Props snehapatil02, cbravobernal, gziolo, santosguillamot, bacoords, codersantosh.
    Fixes #61181.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58972 602fd350-edb4-49c9-b593-d223f7449a82

commit f79de00cce676c15efcd311b2a6635e16b40e9ec
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Sep 3 16:25:16 2024 +0000

    HTML API: Improve skipped test reporting with unsupported exception.
    
    The `html5lib-tests` suite skips a number of tests due to unsupported markup. At the moment, these tests all report "Test includes unsupported markup." This patch calls the `get_unsupported_exception()` method in these skipped cases to improve the messages reported to PHPUnit so they're more informative: e.g. "Unsupported markup: Foster parenting is not supported."
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7285
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Follow-up to [58714].
    
    Props dmsnell, jonsurrell.
    See #61646.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58971 602fd350-edb4-49c9-b593-d223f7449a82

commit 95eb879c47c52413f33c3a62f3006262cc2b0062
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 2 23:19:08 2024 +0000

    HTML API: Allow subdividing text nodes by meaningful prefixes.
    
    HTML parsing rules at times differentiate character tokens that are all null bytes, all whitespace, or other content. This patch introduces a new function which may be used to classify text node sub-regions and lead to more efficient application of these parsing rules.
    
    Further, when classified in this way, application code may skip some rules and decoding entirely, improving performance. For example, this can be used to ease the implementation of skipping inter-element whitespace, which is usually not rendered.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7236
    Discussed in https://core.trac.wordpress.org/ticket/61974
    
    Props dmsnell, jonsurrell.
    Fixes #61974.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58970 602fd350-edb4-49c9-b593-d223f7449a82

commit b37cbf952ffac9f2fef0a3770e7ad574711c5a3d
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 2 22:26:22 2024 +0000

    HTML API: Replace null-bytes in class_list class names
    
    As part of an audit of HTML API CSS behaviors, this patch resolves an issue with how the HTML API reports class names containing the NULL byte. NULL bytes should be replaced by the Unicode replacement character, U+FFFD, but previously weren't. This patch performs that replacement.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7187
    Discussed in https://core.trac.wordpress.org/ticket/61531
    
    Follow-up to [56703].
    
    Props dmsnell, jonsurrell.
    See #61531.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58969 602fd350-edb4-49c9-b593-d223f7449a82

commit 54c35ced9d950deef3bbc9ae6725acd8712e722d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Sep 2 22:16:24 2024 +0000

    Tests: Add a unit test for `get_metadata()` with a non-existing object ID.
    
    Follow-up to [48658], [50641], [58962].
    
    Props rodrigosprimo, jrf.
    See #61530, #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58968 602fd350-edb4-49c9-b593-d223f7449a82

commit d46466f3d5ba6da773df56434e27fb6d6e5ac0bb
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 2 22:01:34 2024 +0000

    HTML API: Add missing NOBR end tag handling to HTML Processor.
    
    When the HTML Processor was introduced, an oversight led to a missing case for handling a closing `NOBR` tag. The `NOBR` element is a deprecated tag and should not be used.
    
    This patch adds the missing case so that the deprecated `NOBR` end tag is appropriately handled.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7282
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [56274].
    
    Props jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58967 602fd350-edb4-49c9-b593-d223f7449a82

commit 9bf044813b837f274d84ca704fec51c36340b9f9
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 2 21:52:34 2024 +0000

    HTML API: Fix logic bug in HTML Processor when opening A element.
    
    A mistake in the original code handling opening A elements in the HTML Processor led to mistakes in parsing where the Processor would bail in situations when it could have proceeded. While this was errant behavior, it didn't violate the public contract since it would bail in these situations.
    
    This patch fixes the mistake, which was to only break out of the innermost loop instead of breaking from the containing loop, which resolves the issue.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7281
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [56274].
    
    Props jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58966 602fd350-edb4-49c9-b593-d223f7449a82

commit 59e07af497ff6d3bf01d6397a9611815b126c38d
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 2 20:53:32 2024 +0000

    HTML API: Add missing `@global` tag on HTML Decoder.
    
    The `@global` documentation has been missing in the `class-wp-html-decoder.php` file, and this patch adds it.
    
    Discussed in https://core.trac.wordpress.org/ticket/61968
    
    Props dmsnell, jonsurrell, shailu25.
    Resolves #61968.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58965 602fd350-edb4-49c9-b593-d223f7449a82

commit 68805bfe3d05c0789fbe62f6bdb21230c945d295
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Sep 2 20:43:00 2024 +0000

    WP_Debug_Data: Extract `wp-database` data into separate method.
    
    This is the part three in a larger modularization of the data in `WP_Debug_Data`. Previously this was a single massive method drawing in debug data from various groups of related data, where the groups were independent from each other.
    
    This patch separates the third of twelve groups, the `wp-database` info, into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/7143
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props dmsnell, kebbet, apermo.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58964 602fd350-edb4-49c9-b593-d223f7449a82

commit 0ac256d5fb63f8f1187d37a067168132390a10ab
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Sep 2 00:11:39 2024 +0000

    Options, Meta APIs: Prevent mail options triggering a deprecation warning.
    
    Prevents a deprecation warning saving options when the post by email feature is turned off in code using the `enable_post_by_email_configuration` filter.
    
    Props ironprogrammer, manbo, narenin, sebastienserre, siliconforks.
    Fixes #61144.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58963 602fd350-edb4-49c9-b593-d223f7449a82

commit ab523eb7f01963cf21ca85646fa213b3fcdfb689
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Sep 1 18:28:22 2024 +0000

    Docs: Further clarify return results for a non-existing ID in metadata functions.
    
    This adds a note that the functions return either an empty array or an empty string for a valid but non-existing ID, depending on the `$single` parameter.
    
    Follow-up to [48658], [50641].
    
    Props rodrigosprimo, jrf.
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58962 602fd350-edb4-49c9-b593-d223f7449a82

commit ac9dc92d5b2d529fa939e25d37bd412e2cfbad55
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 31 14:44:50 2024 +0000

    Docs: Correct comment formatting in `wp_autosave_post_revisioned_meta_fields()`.
    
    Follow-up to [56714].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58961 602fd350-edb4-49c9-b593-d223f7449a82

commit bc09d6a2ea720606965db0e3c1701513abe8a890
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Aug 31 10:52:04 2024 +0000

    Twenty Twenty: Correct font-size for Code block and other preformatted elements.
    
    The code block font-size was not the same in the editor and front. This sets it to 1em and corrects the value for preformatted elements along with adding border and padding in the editor for pre elements.
    
    Props viralsampat, mi5t4n, brobken, sabernhardt.
    Fixes #61845.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58960 602fd350-edb4-49c9-b593-d223f7449a82

commit 4486c0ae31655d081e64fad4999f783539bfec4a
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Aug 31 10:37:02 2024 +0000

    Twenty Nineteen: Reduce bottom margin for Audio block.
    
    The audio block was lacking a bottom margin in some editors. This resolves both non-framed and framed changes.
    
    Props PGeorgiev, desrosj, sabernhardt, hmbashar.
    Fixes #53681.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58959 602fd350-edb4-49c9-b593-d223f7449a82

commit 99907eec4b25b12f9f0605750266ce28d423218e
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Aug 30 23:08:00 2024 +0000

    Bundled Themes: Add contributors to copyright notices.
    
    One of the benefits of contributing to WordPress is that contributors license their code under the GPL rather than assign copyright to the WordPress Foundation or another entity.
    
    This updates the copyright notices in each of the bundled themes to acknowledge contributors own a portion of the copyright. For themes with a significant contribution from Automattic, the copyright notice is updated from Automattic.com to the legal entity Automattic Inc.
    
    Props peterwilsoncc, desrosj, sabernhardt, jorbin, chanthaboune.
    Fixes #61943.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58958 602fd350-edb4-49c9-b593-d223f7449a82

commit 0244d18dcdc892181b4a8f366bcb0344f5fdc1f2
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Fri Aug 30 22:15:59 2024 +0000

    Plugins: Delay AJAX search until after 2 characters.
    
    Prevent the AJAX search results from firing until after at least 2 characters have been typed into the search boxes. Toggle `autocomplete` value once AJAX is firing. Add a changeable minimum character threshold.
    
    Props armandsdz, adamsilverstein, afercia, mklusak, finalwebsites, joedolson.
    Fixes #38211.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58957 602fd350-edb4-49c9-b593-d223f7449a82

commit c6ab7b2915cb0e0e1c0cd87fce872095a2f56caa
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Aug 30 17:38:38 2024 +0000

    External Libraries: Update jQuery Color to version `3.0.0`.
    
    This update most notably drops support for jQuery `< 1.12` and `< 2.2`. WordPress has not shipped with a version that matches these ranges since version 4.4 (see [36285]/#35380).
    
    The update also changes the library’s browser support policy to only support the latest Chrome, Firefox, Safari, and Edge. This closely matches Core’s current policy to support the last 2 versions of these browsers. The library’s README notes that other versions nay “also work correctly with this plugin but support is not guaranteed”, which is reasonably similar.
    
    Props vipulgupta003.
    Fixes #61835.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58956 602fd350-edb4-49c9-b593-d223f7449a82

commit 93f16921901eea9e030beff5c18b5e073c8576bc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 30 17:29:56 2024 +0000

    Docs: Clarify the description for `wp_dropdown_users()`.
    
    Follow-up to [8873].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58955 602fd350-edb4-49c9-b593-d223f7449a82

commit 30523ee4b6a0d33b1c2bd8c9ca4021b6256a96c3
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 29 23:26:35 2024 +0000

    Tests: Clarify description for `unregister_setting()` test with an unknown setting.
    
    Follow-up to [56817].
    
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58954 602fd350-edb4-49c9-b593-d223f7449a82

commit b20e852a56c0970684a44166fcffa3d041f05eb8
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Aug 29 06:14:29 2024 +0000

    Docs: Remove `@global` annotation after [58952].
    
    Props mukesh27.
    See #60970.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58953 602fd350-edb4-49c9-b593-d223f7449a82

commit 35f82135f1e7b1bd5486960a369f8896e48ebb33
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Aug 29 06:04:02 2024 +0000

    Script Loader: Remove `importmap` polyfill.
    
    The polyfill was added in [57492], but all browsers supported by WordPress already support import maps.
    
    This not only disables the polyfill, but completely removes it as it was only added recently and there is no usage outside of core.
    
    Props swissspidy, desrosj, luisherranz, gziolo.
    Fixes #60970.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58952 602fd350-edb4-49c9-b593-d223f7449a82

commit 0a9dcb4bfcdd9d01373e4396c209c1b88d384375
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Thu Aug 29 05:39:22 2024 +0000

    Block Styles: Ensure unique classname generation for variations
    
    This commit simplifies block style variation class name generation to ensure unique class names by replacing the hashing of block attributes in the block style variation class names with a call to `wp_unique_id`.
    
    Doing so avoids potential for non-unique class names and conflicting styles when exact copies of a block are inserted via a repeated pattern.
    
    
    Props aaronrobertshaw, martinkrcho, mukesh27, peterwilsoncc, ramonopoly.
    
    Fixes #61877.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58951 602fd350-edb4-49c9-b593-d223f7449a82

commit e2c4f64c1e7d56d8562fd2600bf252f6554ce1c2
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Thu Aug 29 05:20:51 2024 +0000

    Fluid typography: allow individual preset overrides
    
    In theme.json, individual font sizes may opt out of fluid typography if it is turned on globally.
    
    This commit ensures that individual font size presets can also opt in to fluid typography if it is not turned on globally.
    
    Props aaronrobertshaw, mmaattiiaass, ramonopoly, wildworks.
    
    Fixes #61932.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58950 602fd350-edb4-49c9-b593-d223f7449a82

commit e39470564e569a6639abb8e41ef23fe16bb2fd60
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Aug 28 22:46:27 2024 +0000

    Options, Meta APIs: Soft-deprecate use of 'yes' and 'no' as `$autoload` parameter.
    
    WordPress 6.6 option autoload enhancements included discouraging the use of 'yes' and 'no' to indicate whether to autoload an option when calling `add_option()` or `update_option()`. Instead, a boolean should be used.
    
    This changeset brings the newer autoload related functions `wp_set_option_autoload_values()`, `wp_set_options_autoload()`, and `wp_set_option_autoload()` in line with those changes. Additionally, it soft-deprecates the values more formally, as they should no longer be used. No PHP warnings will be emitted though as this is not a hard deprecation. This change is purely about documentation.
    
    Props flixos90, joemcgill, jrf, mukesh27.
    Fixes #61929.
    See #61103, #61939.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58949 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b07767d87fc38b2b6eafc70ef3e41078508de2c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 28 21:51:14 2024 +0000

    Docs: Remove obsolete `@todo` entry in REST API post meta tests.
    
    Follow-up to [56714].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58948 602fd350-edb4-49c9-b593-d223f7449a82

commit c544498c4cbdd083b7d6a053d60f96e9f512e907
Author: Anthony Burchell <antpb@git.wordpress.org>
Date:   Wed Aug 28 16:59:07 2024 +0000

    Media: Implement fallback to full-size thumbnails for PDFs in Media Library.
    
    When medium-size thumbnails are disabled, PDF previews in the Media Library grid view now fall back to displaying full-size thumbnails instead of a generic document icon.
    
    Props daleharrison, kushang78, mukesh27, sudipatel007, mai21, antpb.
    Fixes #39630.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58947 602fd350-edb4-49c9-b593-d223f7449a82

commit 3e21d185d256c864675f2919fe03fd0c4cbcec00
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Aug 28 16:43:52 2024 +0000

    Media: Fix viewport scrolling and code style in image rotation.
    
    Change `browsePopup` to use `onkeydown`, pass the `event` parameter from the calling control, and adjust variable naming style.
    
    The `browsePopup` method used for the image rotation menu used `onkeyup` to trigger events, which prevented capturing browser scroll actions with arrows occurring on `onkeydown`.
    
    Props afercia, deepakvijayan, nirajgirixd, joedolson, antpb.
    Fixes #60548.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58946 602fd350-edb4-49c9-b593-d223f7449a82

commit d60e80ae602396d2a45a9dd7c0939dd362d59df0
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Aug 28 16:39:30 2024 +0000

    Options, Meta APIs: Stop using 'yes' and 'no' for autoload parameter in favor of recommended boolean.
    
    This changeset does not modify any behavior, it only updates the code to use the recommended type for the `$autoload` parameter as of WordPress 6.6. The old values 'yes' and 'no' are only maintained in certain tests that are explicitly about these backward compatibility values.
    
    Props flixos90, joemcgill, mukesh27.
    Fixes #61939.
    See #61103, #61929.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58945 602fd350-edb4-49c9-b593-d223f7449a82

commit 324aeb7485b800aef96d4c68b9f1ca36dbca1b7c
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Wed Aug 28 14:34:54 2024 +0000

    Bootstrap/Load: Add Words of warning about load order.
    
    Since this file is loaded incredibly early, many functions are not available. Those deeply familiar with how load works might have some idea as to what's safe and what isn't, but it's generally confusing and a little opaque so let's warn people there be dragons.
    
    Props helen, DrewAPicture, jorbin.
    Fixes #38650.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58944 602fd350-edb4-49c9-b593-d223f7449a82

commit e569967ee45e23186f6aa7f479fcb48a7511436b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 27 19:34:49 2024 +0000

    Twenty Nineteen: Remove the use of empty rulesets.
    
    Follow-up to [43808].
    
    Props pitamdey, mukesh27, narenin.
    Fixes #61933.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58943 602fd350-edb4-49c9-b593-d223f7449a82

commit 575b321c84e976080b03cbb8cd61e339b3a4c3f5
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Tue Aug 27 15:27:43 2024 +0000

    Docs: Fix typo in `wp_show_heic_upload_error` docblock.
    
    Follow-up to [58849].
    See #53645.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58942 602fd350-edb4-49c9-b593-d223f7449a82

commit f4761a3f8c5aa6920d4407e3af271ef70db5f305
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Aug 27 03:42:55 2024 +0000

    Add Adam Zieliński to the mailmap file.
    
    Adds Adam Zieliński's display name to the `.mailmap` file.
    
    Developed in https://github.com/wordpress/wordpress-develop/7204
    Discussed in https://core.trac.wordpress.org/ticket/61864
    
    Follow-up to [58899].
    
    Props dmsnell, zieladam.
    See #61864.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58941 602fd350-edb4-49c9-b593-d223f7449a82

commit 19e54cc5ea7e54c5335b1afac880e8243ea8abd4
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Aug 27 03:35:35 2024 +0000

    HTML API: Fix a bug where the namespace was forced to 'html'
    
    While working on other reviews and audits, a bug was discovered in the HTML API where the wrong namespace was being assigned to a token because the default value of 'html' was used. This patch fixes the bug by calling the `parent::get_namespace()` method instead of assuming 'html'.
    
    Developed in https://github.com/wordpress/wordpress-develop/7232
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58868].
    
    Props jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58940 602fd350-edb4-49c9-b593-d223f7449a82

commit 66febebdb966728a978a1b7ac4b4926ad544e72a
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Aug 26 23:14:06 2024 +0000

    Build/test tools: Remove prompt for trac ticket referenced with ticket: prefix.
    
    Prevents the GitHub bot from posting a comment on pull requests requesting a trac ticket link if the ticket description includes a link via the ticket: prefix, eg ticket:61865.
    
    The WordPress/WordPress-Develop repository is configured to automatically convert the text to a trac ticket link.
    
    Props dd32, peterwilsoncc.
    Fixes #61865.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58939 602fd350-edb4-49c9-b593-d223f7449a82

commit f2e5e93b5bbf154f214569aa714a481f6b6ad9dc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 26 20:55:29 2024 +0000

    Coding Standards: Use a human-readable constant in the check for max memory limit.
    
    Follow-up to [35286], [38011], [38015], [58937].
    
    See #61607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58938 602fd350-edb4-49c9-b593-d223f7449a82

commit a88dab1033daddabe3a16ffc51986218d4807073
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Mon Aug 26 20:12:24 2024 +0000

    Administration: Avoid using `WP_MAX_MEMORY_LIMIT` default that is smaller than `WP_MEMORY_LIMIT`.
    
    Props eclare, dd32, pbearne.
    Fixes #36426.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58937 602fd350-edb4-49c9-b593-d223f7449a82

commit 830d66c55cdb5afcaa8c0137d0c0f991258565ee
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Mon Aug 26 05:38:05 2024 +0000

    Background images: resolve theme.json dynamic ref values and ensure appropriate style default values
    
    The commit syncs the following changes from Gutenberg:
    
    - Background images: add support for theme.json ref value resolution gutenberg#64128
    - Background images: ensure appropriate default values gutenberg#64192
    - Background image: ensure consistency with defaults and fix reset/remove functionality gutenberg#64328
    
    These changes brings consistency to the default background image styles WordPress applies to user uploaded images, and adds support for ref resolution to "background" style properties.
    
    Props andrewserong, aaronrobertshaw.
    
    Fixes #61858
    
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58936 602fd350-edb4-49c9-b593-d223f7449a82

commit a3520d2720f6d434b78346dd53cb38ec88c74bcb
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sun Aug 25 23:47:01 2024 +0000

    Script Loader: Refactor Etag generation for concatenated assets.
    
    Move Etag HTTP header generation in `load-scripts.php` and `load-styles.php` to `WP_Dependencies`.
    
    Introduces the method `WP_Dependencies::get_etag()` and associated unit tests.
    
    Follow up to [57943].
    
    Props vrajadas, martinkrcho, mukesh27.
    Fixes #61485.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58935 602fd350-edb4-49c9-b593-d223f7449a82

commit 24e87757cd068b29df98c9f6ae464baaf4659670
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sun Aug 25 23:11:02 2024 +0000

    HTTP API: Update `wp_http_supports()` to use Requests.
    
    Update the capabilities check in `wp_http_supports` to use `WpOrg\Requests\Requests::has_capabilities` rather than the deprecated `WP_HTTP::_get_first_available_transport()`.
    
    Props dd32, mukesh27, costdev, desrosj, johnbillion, jorbin, jrf, chaion07.
    Fixes #37708.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58934 602fd350-edb4-49c9-b593-d223f7449a82

commit 717ee4e3318c95d47ea6ca26229b32e01e2680cb
Author: Timothy Jacobs <timothyblynjacobs@git.wordpress.org>
Date:   Sun Aug 25 22:49:05 2024 +0000

    REST API: Improve error messages when registering an invalid route.
    
    The error messages now include the REST API namespace and route to help identify the offending code.
    
    Props lwangaman, timothyblynjacobs.
    Fixes #50493.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58933 602fd350-edb4-49c9-b593-d223f7449a82

commit 4905653882a32dbf3c7f33f706f830547df36040
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 25 22:46:43 2024 +0000

    Script Loader: Do not normalize absolute paths in inline block styles CSS.
    
    `_wp_normalize_relative_css_links()` used to normalize all non-absolute URLs regardless of whether it's a relative path or an absolute path. The normalization should only happen for relative paths (paths without a leading `/`) and not for absolute paths.
    
    Reference: [https://www.rfc-editor.org/rfc/rfc1808#section-4 RFC 1808, Section 4, Step 4].
    
    Follow-up to [52036], [52695], [52754], [55658], [55669].
    
    Props scholdstrom.
    Fixes #61909.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58932 602fd350-edb4-49c9-b593-d223f7449a82

commit 0687800e091d6e0c34a9e3d44d649814cec05385
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sun Aug 25 22:35:31 2024 +0000

    Comments: Announce reply notices to screen reader users.
    
    Improve experience for screen reader users by calling `wp.a11y.speak()` with the results of comment reply submissions within the WordPress dashboard.
    
    Props joedolson, khokansardar.
    Fixes #61480.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58931 602fd350-edb4-49c9-b593-d223f7449a82

commit c353d8b5a9748b982a6e47b96dee5b6a0d26cc49
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Aug 24 12:19:13 2024 +0000

    Twenty Seventeen: Fixes search block button styling variations.
    
    The search block button was not the same back and front for background, text and font weight. This is an additional patch solving the previous issue of styles being in wrong section and also differences..
    
    Props sabernhardt.
    Fixes #61888.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58930 602fd350-edb4-49c9-b593-d223f7449a82

commit 8fc21aed149297ad4ec8e2c20036763a35e5b04f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 24 00:03:40 2024 +0000

    Toolbar: Use CSS variable for the admin bar height in `wp-admin/css/common.css`.
    
    Follow-up to [16600], [21025], [26072].
    
    Props tdrayson, niravsherasiya7707, mukesh27.
    See #61898.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58929 602fd350-edb4-49c9-b593-d223f7449a82

commit 82e9606557aa15443c1e43c8238e58d93bfbf777
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 23 23:15:26 2024 +0000

    Upgrade/Install: Use an empty string for the default “Post via email” password.
    
    This aims to avoid a security warning in Chrome, which could previously be triggered even if the default value is not actually used as a password.
    
    Follow-up to [208], [230], [233], [662], [1599], [1601]
    
    Props adamkheckler, sabernhardt, peterwilsoncc, psykro, petitphp.
    Fixes #61332.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58928 602fd350-edb4-49c9-b593-d223f7449a82

commit 3da83600189bc98661110b32dc488e753c8d622d
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Aug 23 22:45:54 2024 +0000

    Administration: Modernize Site Icon UI in settings, customizer.
    
    Updates the UI for previewing a site icon in general settings and the customizer to account for changes to browser designs over the past years.
    
    Props joedolson, joen, kebbet, nhrrob, swissspidy, mukesh27, afercia, jorbin.
    Fixes #60625.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58927 602fd350-edb4-49c9-b593-d223f7449a82

commit 15dca4effa8f1786176aa7acd6f3076c48f4a1fa
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Aug 23 15:40:15 2024 +0000

    HTML API: Add support for missing FRAMESET and "after" insertion modes.
    
    As part of work to add more spec support to the HTML API, this patch adds support for the FRAMESET-related insertion modes, as well as the set of missing after insertion modes. These modes run at the end of parsing a document, closing it and taking care of any lingering tags.
    
    Developed in https://github.com/wordpress/wordpress-develop/7165
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58926 602fd350-edb4-49c9-b593-d223f7449a82

commit 1139a51e9c6608dc235938d9d234ed185c5d5706
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Aug 23 14:53:59 2024 +0000

    HTML API: Parse DOCTYPE tokens and set HTML parser mode accordingly.
    
    This patch adds until-now missing code to parse the structure of HTML DOCTYPE declarations. The DOCTYPE is mostly unused but can dictate the document compatability mode, which governs whether CSS class names match in a ASCII-case-insensitive way or not, and whether TABLE elements close an open P element.
    
    The DOCTYPE information is made available through a new method on the Tag Processor, `get_doctype_info()`.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7195
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58925 602fd350-edb4-49c9-b593-d223f7449a82

commit b515d2223a24cba7990dfeda31fbf2d2e8f62ceb
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 22 23:45:49 2024 +0000

    Docs: Correct inline comment formatting in `redirect_canonical()`.
    
    Follow-up to [57357].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58924 602fd350-edb4-49c9-b593-d223f7449a82

commit 6e7b1243f30af7b85d7dff44df4c86d852dec7df
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Aug 22 23:25:17 2024 +0000

    Date/Time: Prevent type errors in `current_time()`.
    
    Prevents a potential type error when calling `current_time( 'timestamp' )` by casting `get_option( 'gmt_offset' )` to a float prior to performing calculations with the value.
    
    This mainly accounts for incorrect storage of values, such as an empty string or city name.
    
    Follow up to [45856], [55054], [55598].
    
    Props hellofromtonya, peterwilsoncc, rarst, costdev, Nick_theGeek, SergeyBiryukov, johnbillion, desrosj, reputeinfosystems, audrasjb, oglekler.
    Fixes #57035.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58923 602fd350-edb4-49c9-b593-d223f7449a82

commit 06f7c825842f0e55fea3b82f694b43e45d1c66df
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Thu Aug 22 08:06:05 2024 +0000

    I18N: Add hardening for invalid meta lines in MO files.
    
    Props swissspidy, pander.
    Fixes #61794.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58922 602fd350-edb4-49c9-b593-d223f7449a82

commit 84332c97af7633bb7144dfb2447c817882e1dd30
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 21 22:21:54 2024 +0000

    Site Health: Check if the directories are allowed when testing for a VCS checkout.
    
    As part of determining whether to perform automatic updates, WordPress checks if it is running within a version-controlled environment, recursively looking up the filesystem to the top of the drive, looking for a Subversion, Git, Mercurial, or Bazaar directory, erring on the side of detecting a VCS checkout somewhere.
    
    This commit reuses `WP_Automatic_Updater::is_allowed_dir()` in the Site Health test to avoid a PHP warning if the `open_basedir` directive is in use and any of the directories checked in the process are not allowed:
    {{{
    is_dir(): open_basedir restriction in effect. File(/.git) is not within the allowed path(s)
    }}}
    
    Follow-up to [44986], [55425].
    
    Props Keffr3n, narenin.
    Fixes #61834.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58921 602fd350-edb4-49c9-b593-d223f7449a82

commit 04eec0ca9e44b4a6c9c118581f4e269d07b981dd
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Aug 21 21:04:15 2024 +0000

    Tests: Remove 'errors' assertion when not WP_Error in Tests_Term_WpInsertTerm.
    
    Removes the assertion for 'errors' being empty when the instance is `WP_Term` and not `WP_Error`. This property exists on `WP_Error`.
    
    This assertion always passed because it was checking a dynamic property on `WP_Term` that does not exist and is not added within Core. Thus, this assertion is not needed and fails with dynamic property deprecations.
    
    Follow-up to [51403], [34646], [29830].
    
    See #61890, #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58920 602fd350-edb4-49c9-b593-d223f7449a82

commit 5c19fa13699e409fd11b37db3af9b4bc440bcf7e
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Aug 20 20:05:21 2024 +0000

    Tests: Remove WP_Term::$filter property unset() within term tests.
    
    Removes the `unset()` of the `WP_Term::$filter` property within the term tests.
    
    Why?
    
    Prior to the introduction of WP_Term, the term was added to the cache when its filter property was empty. To test the cache, the tests unset this property to trigger `wp_cache_add()` in `get_term()`. [34997] changed that behavior to trigger `wp_cache_add()` when the term was not found after `wp_cache_get()` (i.e. happened in `WP_Term::get_instance()`).
    
    Unsetting the filter property is and was not needed. Prior to `WP_Term`, the condition was an empty value. With `WP_Term`, the filter property is no longer part of the conditional logic for caching.
    
    Follow-up to [34997], [30954], [34035].
    
    See #61890, #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58919 602fd350-edb4-49c9-b593-d223f7449a82

commit 6189d05ded9a2f39b05df2a9e653747704bd8c3c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 20 17:48:07 2024 +0000

    Taxonomy: Correct the check for error messages in `wp-admin/edit-tag-form.php`.
    
    Instead of checking for a specific message, e.g. “Item not updated”, the `$_REQUEST['error']` variable is now checked. This allows for custom messages added via the `term_updated_messages` filter to be considered an error when appropriate, and displayed with the correct CSS class.
    
    This also brings consistency with a similar check in `wp-admin/edit-tags.php`.
    
    Follow-up to [31823], [44663].
    
    Props xipasduarte.
    Fixes #61896.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58918 602fd350-edb4-49c9-b593-d223f7449a82

commit 605c0560280b83154047aa4d85179c047e3a7761
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Aug 20 16:55:43 2024 +0000

    Media: Fix Media Library "Upload files" tab focus outline.
    
    Adds a z-index to `.media-menu .media-menu-item:focus` to fix the "Upload files" tab's outline on the side next to the other tab.
    
    Follow-up to [57553], [46363].
    
    Props wildworks, antpb, huzaifaalmesbah, krupajnanda, nhrrob, oglekler, rajinsharwar, sabernhardt.
    Fixes #60632.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58917 602fd350-edb4-49c9-b593-d223f7449a82

commit c8b744d12b2af5bc8eb01b2e8782c20d681fdadd
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Aug 19 20:45:33 2024 +0000

    Media: Fix admin image cropping calculations.
    
    The admin image editor crop function introduced rounding errors by using a scaled image to calculate values. Fix uses the image at 100% scale for calculations. Also avoid recalculating selection when the selection position is changed, and prevent incorrect values after scaling or restoration.
    
    Previously committed in [58456] and reverted in [58571]. The revert was due to a misattributed test failure.
    
    Props Jossnaz, johnillo, shailu25, rachelbaker, sudipatel007, joedolson, kevin940726 , andrewserong, hmbashar.
    Fixes #32282.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58915 602fd350-edb4-49c9-b593-d223f7449a82

commit 913ef22dd0f07fc4a2cf2a373096ae1a1cd5d2ce
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Mon Aug 19 19:17:42 2024 +0000

    Themes: Fix themes search event not firing on enter.
    
    Attach the submit event to the parent search form in the installed and add new theme screen. Following [58405], the submit event was no longer attached to an object that was able to handle form submissions.
    
    Props nithi22, nithins53, josklever, the-ank, debarghyabanerjee, sabernhardt, jeherve, hellofromtonya.
    Fixes #61578.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58914 602fd350-edb4-49c9-b593-d223f7449a82

commit 04694fbf545bacadc7ff733b1465524f9934864e
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 19 15:19:27 2024 +0000

    Site Health: Correct the check for disk space available to safely perform updates.
    
    The `wp-content/upgrade` directory does not exist initially after installation, so the Site Health check could not determine the available disk space until the directory was subsequently created during an update.
    
    By testing `WP_CONTENT_DIR` instead, the check can complete successfully.
    
    This also brings consistency with similar checks in `_unzip_file_ziparchive()` and `_unzip_file_pclzip()`.
    
    Follow-up to [55720], [56401].
    
    Props wbdv, khokansardar, mi5t4n, SergeyBiryukov.
    Fixes #61602.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58913 602fd350-edb4-49c9-b593-d223f7449a82

commit be4fe649e58bb578785c888a80a0d14faaffb5e4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 18 23:43:37 2024 +0000

    Tests: Bring some consistency to personal data email notification tests.
    
    Includes:
    * Adding a test for `wp_privacy_send_personal_data_export_email()` to verify the `user_request` post type.
    * Reordering some pre-existing tests to check the request ID and post type first.
    
    Follow-up to [43291], [43499], [44535].
    
    Props garrett-eclipse, berubenic.
    See #46560.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58912 602fd350-edb4-49c9-b593-d223f7449a82

commit 34aef313b3da5f23daa55f3401b6ce6319af65c0
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sun Aug 18 11:25:49 2024 +0000

    Twenty Seventeen Fixes search block button styles not being the same.
    
    The search block button was not the same back and front for background, text and font weight. This also reflects in editor-blocks stylesheet.
    
    Props viralsampat, pamprn, sabernhardt, shailu25.
    Fixes #61888.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58911 602fd350-edb4-49c9-b593-d223f7449a82

commit 12f25b3604b35559ce5ac259aaf6977b65628c83
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sun Aug 18 09:28:40 2024 +0000

    Twenty Fifteen: Fixes hover effect being different in editors for link.
    
    The link hover effect was different between the editor and front. As links are rarely focusable in the editor this patch does not set the outline color also.
    
    Props pitamdey, sabernhardt, mi5t4n.
    Fixes #61844.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58910 602fd350-edb4-49c9-b593-d223f7449a82

commit fe3fa337cf97ed48d8b1f35f257d538e60f16aec
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sun Aug 18 09:13:31 2024 +0000

    Twenty Twenty: Fixes image block caption alignment not being centered on mobile.
    
    The image block caption was not being centered on mobile. This was set to start at 1000 pixels and wider. This might have been intended to prevent wrapping, but you can resolve this by unselecting alignment.
    
    Props spanglishwebs, sabernhardt, sudipatel007, shailu25.
    Fixes #50317.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58909 602fd350-edb4-49c9-b593-d223f7449a82

commit 0412c7b5e48f04ae5cd5c612830b14c383e5b0c7
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Aug 17 20:10:38 2024 +0000

    Twenty Twenty: Fixes pullquote block font size not changing.
    
    The pullquote block was not reflecting the size changes. This also accounts for letter spacing in the editor.
    
    Props kmadhak, SergeyBiryukov, nidhidhandhukiya, harshvaishnav, sabernhardt, shailu25.
    Fixes #55975.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58908 602fd350-edb4-49c9-b593-d223f7449a82

commit 487907150f5cbba7747be308f6dca2a5ebbc9522
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Aug 17 20:04:15 2024 +0000

    Twenty Sixteen: Fixes pullquote block typography not working.
    
    The pullquote block was not reflecting the typography changes. This updated patch keeps the size and also fixes the line height.
    
    Props pranitdugad, nidhidhandhukiya, jorbin, darshitrayaguru97, yurajsinj2211, ankit-k-gupta, poena, sabernhardt, shailu25.
    Fixes #59919.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58907 602fd350-edb4-49c9-b593-d223f7449a82

commit 39ce3bcae0a414d71922d2a0faf165433998b6cc
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 17 19:52:46 2024 +0000

    Upgrade/Install: Remove the return value of `_wp_delete_all_temp_backups()`.
    
    This function is only utilized as a `shutdown` action callback, so the return value is not used anywhere.
    
    `wp_trigger_error()` is now used instead under the same conditions.
    
    Follow-up to [55720], [56342].
    
    Props johnbillion, amitraj2203, narenin.
    Fixes #61116.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58906 602fd350-edb4-49c9-b593-d223f7449a82

commit 4d8ac8b13cb2b233ce723789a920ec26c750458d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 16 14:27:03 2024 +0000

    Script Loader: Check if `error_reporting()` exists in `load-(scripts|styles).php`.
    
    This avoids a fatal error on PHP 8 if `error_reporting()` is disabled in `php.ini`.
    
    On systems with this function disabled, it's best to add a dummy function to the `wp-config.php` file, as there are multiple other calls in core or plugins.
    
    However, as this call to the function is run prior to `wp-config.php` loading, it is now wrapped in a `function_exists()` check.
    
    Follow-up to [50447].
    
    Props gansbrest, sabernhardt, jrf, martin.krcho, SergeyBiryukov.
    Fixes #61873.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58905 602fd350-edb4-49c9-b593-d223f7449a82

commit 13d3c5ee0821ab6b8a8c91ff88f79a829e85de7f
Author: George Mamadashvili <mamaduka@git.wordpress.org>
Date:   Fri Aug 16 06:21:43 2024 +0000

    Editor: Fix preloaded REST API paths
    
    When providing an incorrect path to preload, the `rest_preload_api_request` will silently fail, and nothing will be preloaded.
    
    * Fix typo for `wp_template_part` post type preload path for the Site Editor.
    * Do not preload the `wp_block` post type for post editors. The endpoint doesn't support unbound queries, and the data is no longer needed during editor initialization.
    
    Props kirasong, tyxla, mamaduka.
    Fixes #61884.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58904 602fd350-edb4-49c9-b593-d223f7449a82

commit aa9fd3315cf1d8627ddebaba96ee45b5b6be2f06
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Aug 15 17:46:07 2024 +0000

    Build/Test: update Props Bot to correct event type
    
    The proper name is the plural `types`. This will cause the action to run only when necessary. Very Demure. Very mindful.
    
    Ref: https://docs.github.com/en/actions/writing-workflows/choosing-when-your-workflow-runs/events-that-trigger-workflows#issue_comment
    
    Props jeherve.
    Fixes #61883
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58903 602fd350-edb4-49c9-b593-d223f7449a82

commit 31d53f831cd617f0905e6b4105ecd1acc64d3998
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 15 14:56:43 2024 +0000

    Script Loader: Remove redundant check in `wp_register_tinymce_scripts()`.
    
    Since removing the build steps for a gzipped version of TinyMCE, the check whether gzip is supported on the server is superfluous. It may also result in the uncompressed files being used when the compressed files are available and could be used.
    
    Follow-up to [44114], [44651].
    
    Props MattyRob, hbhalodia.
    Fixes #61862.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58902 602fd350-edb4-49c9-b593-d223f7449a82

commit efee9258317fda297e11be7c5c418816fdd1f6bb
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Aug 15 04:56:24 2024 +0000

    Build/test tools: Remove prompt for trac ticket referenced with `Core-` prefix.
    
    Prevents the GitHub bot from posting a comment on pull requests requesting a trac ticket link if the ticket description includes a link via the Core- prefix, eg Core-61865.
    
    The WordPress/WordPress-Develop repository is configured to automatically convert the text to a trac ticket link.
    
    Props martinkrcho, peterwilsoncc.
    Fixes #61865.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58901 602fd350-edb4-49c9-b593-d223f7449a82

commit ed53fedf05ba50b512b075ef7b9aef9daeb18222
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Aug 15 04:23:56 2024 +0000

    Meta: Tidy up and update `.mailmap`.
    
    Updates the name mappings to sort display names ascii-alphabetically and to ascribe commits to updated usernames.
    
    Accounts without a seperate display name remain listed in the footer of the file.
    
    Props dmsnell, jorbin.
    See #61864.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58900 602fd350-edb4-49c9-b593-d223f7449a82

commit dcb1fb5d860026b5a24d94965bdb192b38aeec18
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Aug 14 22:55:54 2024 +0000

    Meta: Add .mailmap to ascribe git commits to proper author.
    
    From time to time a new commit will appear from an existing commit which has a different name or email address (or both) than an existing name or email address. This occurs because of changing names and changing emails and because of mistakes. Additionally, the `svg`-to-`git` process double-encodes names from `profiles.wordpress.org` causing corruption in names with non-US-ASCII characters.
    
    This patch introduces a `.mailmap` file to alias committers so that:
    
     - All contributions for a given person are shown for that person.
     - Committers will be able to control or fix the display of their own name.
    
    The `.mailmap` file is a standard `git` configuration.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7180
    Discussed in https://core.trac.wordpress.org/ticket/61864
    
    Fixes #61864.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58899 602fd350-edb4-49c9-b593-d223f7449a82

commit 1b48ae62d9eb3743f6ecfbfdc0cc81b9d835c394
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Aug 14 21:17:22 2024 +0000

    HTML API: Make "reset insertion mode appropriately" algorithm private.
    
    The algorithm is described and referred to in the specification as
    "reset the insertion mode appropriately." This patch renames it to
    more accurately reflect the specification, and it turns the public
    method private. As an internal algorithm from the HTML specification
    it should not be open to extension.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7194
    Discussed in https://core.trac.wordpress.org/ticket/61549
    
    Follow-up to [28656].
    Props jonsurrell.
    See #61549.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58898 602fd350-edb4-49c9-b593-d223f7449a82

commit 064f75e12b650f6e689fe2e2dcdbe42fffd75328
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Aug 14 19:49:03 2024 +0000

    HTML API: Use strict in_array comparison for checking URI attributes.
    
    This patch modifies the URL-escaping code in the HTML API to rely on strict comparisons. This prevents accidental matching via type-coercion.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7196
    
    Follow-up to [58473].
    Props jonsurrell.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58897 602fd350-edb4-49c9-b593-d223f7449a82

commit b90fe46a6e435d7194602dbb465473ff9452d0c1
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Aug 14 18:55:26 2024 +0000

    Editor: Fix block custom CSS pseudo element selectors in global styles.
    
    Fixes a regression introduced in [58241] where selectors with pseudo elements are wrapped within `:where()` causing malformed CSS and the CSS rule(s) not being applied.
    
    When processing custom CSS for blocks, this changeset:
    
    * Strips the pseudo-elements from the original nested selector, performs the required wrapping in `:root :where`, then re-appends the pseudo-element selector with its leading combinators if present.
    * Removes empty CSS rules.
    
    It includes the PHP changes.
    
    Reference:
    * PHP changes from [https://github.com/WordPress/gutenberg/pull/63980 Gutenberg PR 63980].
    
    Follow-up to [58241], [56812], [55216].
    
    Props aaronrobertshaw, wongjn, harlet7, dballari, ramonopoly, andrewserong, aristath, hellofromTonya.
    Fixes #61769.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58896 602fd350-edb4-49c9-b593-d223f7449a82

commit 656e87bab960a9e8ed4616476519eda4199511d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Aug 14 16:03:07 2024 +0000

    Network Admin: Improve button alignment in Right Now dashboard widget.
    
    Follow-up to [16237].
    
    Props sabernhardt.
    Fixes #61869.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58895 602fd350-edb4-49c9-b593-d223f7449a82

commit 2061a52da3d9d6d3994b0a60b2df07037d95e3d8
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Aug 13 23:35:51 2024 +0000

    Bulk/Quick Edit: Remove duplicate HTML IDs from post list tables.
    
    Removes duplicate IDs on the post list admin pages affecting various list items, selects and checkboxes:
    
    * JavaScript duplication of the inline editing HTML for bulk editing renames various IDs to include the prefix `bulk-edit-`,
    * IDs in the Category Checkbox Walker make use of `wp_unique_prefixed_id()` to avoid duplicates, resulting in a numeric suffix, and,
    * the post parent dropdown for the bulk editor is given a custom ID `bulk_edit_post_parent`.
    
    Props peterwilsoncc, sergeybiryukov, azaozz, joedolson, siliconforks, zodiac1978, rcreators.
    Fixes #61014.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58894 602fd350-edb4-49c9-b593-d223f7449a82

commit c20224beaec66dd302616391df1890eba2c697f6
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Aug 13 22:12:01 2024 +0000

    HTML API: Only stop on full matches for requested tag name.
    
    An optimization pass on the HTML API left a bug in the `matches()`
    method, whereby it would falsely detect a tag name match if the
    found tag were a lexical subset of the requested tag. This occurred
    because of the use of `substr_compare()` without checking that the
    outer lengths matched.
    
    This patch resolves the bug by adding the length check.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7189
    Discussed in https://core.trac.wordpress.org/ticket/61545
    
    Follow-up to [58613].
    Props dmsnell, westonruter.
    See #61545.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58893 602fd350-edb4-49c9-b593-d223f7449a82

commit 7bf49470297fb9b2e1c24c0e8bcbac18c7e6acaa
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Aug 13 21:42:07 2024 +0000

    HTML API: Remove unnecessary skips in tests for unsupported markup.
    
    The HTML API allowed tests to be skipped for unsupported HTML, for example tags that had not yet been implemented. This provided stability to the test suite while primary support was being added.
    
    In many places, the tags are now fully supported and the test skips can be removed.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7186
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Props jonsurrell.
    See #61646.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58892 602fd350-edb4-49c9-b593-d223f7449a82

commit fa417fc14a8b2e7504d09b4b45f91d956367ef1f
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Aug 13 17:43:18 2024 +0000

    Editor: Fix bumped specificity for layout styles in non-iframed editor.
    
    Fixes a regression introduced in [58241] which inadvertently bumped the specificity in a non-iframed editor for `.editor-styles-wrapper .is-layout-flow > *` from (0,1,0) to (0,2,0). This fix restores theme.json spacing rules taking precedence over the implicit spacing rules in a non-iframed editor.
    
    **The What**
    
    When the block editor is not iframed (which can happen when Custom Fields are active, or blocks that use and older `apiVersion` are present), style rules are processed using post css to append the `.editor-styles-wrapper` class name. This has the effect of scoping the the style rules to ensure they don't affect the editor chrome or admin.
    
    With [58241], one of the rules was changed to `.is-layout-flow > *`. In a iframed editor, the specificity of this rule is okay (0,1,0), but in a non-iframed editor it becomes `.editor-styles-wrapper .is-layout-flow > *`, a specificity of (0,2,0). Comparing this to before [58241], the same rule was `.editor-styles-wrapper :where(body .is-layout-flow) > *` (specificity 0,1,0). This is a regression in specificity that has caused some issues. Notably themes can no longer properly override the spacing for blocks using theme.json and have the results correctly shown in the non-iframed editor.
    
    **The How**
    
    This changeset modifies the selector to `:root :where(.is-layout-flow) > *` (still specificity 0,1,0). `transformStyles` handles 'root' selectors a little differently, it'll instead replace the `:root` part so it becomes `.editor-styles-wrapper where(.is-layout-flow) > *` (keeping the specificity at 0,1,0).
    
    The other layout selector that this affects is the `:first-child` `:last-child` selectors that are responsible for resetting margin at the start and end of a block list. They traditionally have a 0,2,0 specificity so that they can override both the above rule and any rules in the theme.json. Those selectors are also maintained at 0,2,0 with this change, they become something like `:root :where(.is-layout-flow) > :first-child`.
    
    **References:**
    * PHP changes from [https://github.com/WordPress/gutenberg/pull/64076 Gutenberg PR 64076].
    
    Follow-up to [58241], [58228], [55956], [54162].
    
    Props talldanwp, aaronrobertshaw, andrewserong, markhowellsmead, ramonopoly, hellofromTonya.
    Fixes #61829.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58890 602fd350-edb4-49c9-b593-d223f7449a82

commit 3476790c2ed47c5d98347955b8e32f4dba708f5b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 13 16:27:32 2024 +0000

    Coding Standards: Replace an empty `foreach` loop in `wp_replace_in_html_tags()`.
    
    This aims to clarify the intention of the code and improve readability.
    
    Follow-up to [33359].
    
    Props jrf, TobiasBg, mi5t4n, dhruvang21, mayura8991, nadimcse, Presskopp, SergeyBiryukov.
    Fixes #61860.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58889 602fd350-edb4-49c9-b593-d223f7449a82

commit 5f8f3789d16e28923772f1675e371baaea3e71ec
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 12 21:26:27 2024 +0000

    Coding Standards: Bring some consistency to setting up comment moderation links.
    
    Follow-up to [7082], [7175], [9103], [10102], [11749], [12008], [12286], [32516].
    
    Props kebbet.
    See #61607.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58888 602fd350-edb4-49c9-b593-d223f7449a82

commit 802e069d05f83db905932eebd87c87a33b37164e
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Aug 12 15:17:27 2024 +0000

    Twenty Twelve: Fixes navigation block submenus being cut off.
    
    The navigation block submenus were being cut off. This is the simpler method proposed in patches.
    
    Props poena, sabernhardt.
    Fixes #61672.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58887 602fd350-edb4-49c9-b593-d223f7449a82

commit ac7045cedfa00e57516768551727967974c56090
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Aug 12 13:42:09 2024 +0000

    Twenty Seventeen: Fixes Pullquote block text color not changing on front.
    
    The Pullquote block text color was not changing on the front. This overrides the inlined styles.
    
    Props iamjaydip, laurelfulford, sabernhardt.
    Fixes #46080.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58886 602fd350-edb4-49c9-b593-d223f7449a82

commit ddc5d6aba43b85b072b442d99badb06d84373048
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Aug 12 10:54:43 2024 +0000

    Twenty Twelve: Fixes Button block outline style having wrong text color on front.
    
    The Button block has a different text color on the front to the editor when you apply text color. This resolves it without changing other styles.
    
    Props pitamdey, ugyensupport, sabernhardt.
    Fixes #61846.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58885 602fd350-edb4-49c9-b593-d223f7449a82

commit ac5fdb4660caa95d78867c6615de8e329e0e18f1
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Aug 12 04:52:55 2024 +0000

    Site Health: Check if directories exist before checking size.
    
    Prevents the Site Health Debug tab from stalling when reporting directory sizes if the directory does not exist.
    
    Props clorith, aristath, narenin, kowsar89, hellofromTonya, ironprogrammer, shailu25.
    Fixes #61638.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58884 602fd350-edb4-49c9-b593-d223f7449a82

commit 6cfec3b825adfb3c61a11093b1f76fa27a2e3a1f
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 11 21:08:06 2024 +0000

    Docs: Switch canonical location for the `comment_row_actions` filter.
    
    This aims to bring consistency with the other `*_row_actions` filters.
    
    Follow-up to [6705], [8217], [9103], [15491], [26138], [27669].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58883 602fd350-edb4-49c9-b593-d223f7449a82

commit 0cbfd5b22c11384c9f2970c61fe7dda5386d1c5e
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sun Aug 11 14:24:10 2024 +0000

    Twenty Twelve: Fixes Code block font family difference in editors.
    
    The Code block font family was different in the front-end and the editor. This resolves the overruling in the iframe editor.
    
    Props pitamdey, sabernhardt.
    Fixes #61808.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58882 602fd350-edb4-49c9-b593-d223f7449a82

commit d80e18cc2d4fe6450ab6b023f2822b575ed5f5b5
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sun Aug 11 09:43:14 2024 +0000

    Twenty Nineteen: Fixes translatable strings with HTML code not appearing.
    
    Only the translatable part not HTML, should appear for translators to avoid issues. This resolves one string that was not appearing. This only fixed for one theme although discussion on the ticket was for multiples. Other tickets should be open for those if desireable.
    
    Props Presskopp, SergeyBiryukov, pratikkry, pento, mukesh27, laurelfulford, kjellr, desrosj, sabernhardt.
    Fixes #45473.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58881 602fd350-edb4-49c9-b593-d223f7449a82

commit faf75b7925b3dfcb7c711bd060fac8a3d2b9cdf2
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sat Aug 10 23:55:22 2024 +0000

    External Libraries: Update the Underscore.js library to version 1.13.7.
    
    This updates the Underscore library from version 1.13.6 to 1.13.7. This is a minor bug fix release.
    
    The full list of changes can be found in the Underscore.js change log: https://underscorejs.org/#changelog.
    
    Props hbhalodia, aristath, desrosj, mcrisp1972.
    Fixes #61836.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58880 602fd350-edb4-49c9-b593-d223f7449a82

commit 76256bd975ff8ad2b210df68b60cb3d3c818de82
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 10 23:00:19 2024 +0000

    Administration: Replace contracted verb forms for better consistency.
    
    Follow-up to [14951], [37221], [52979], [52978], [55977].
    
    Props kebbet, sabernhardt.
    Fixes #58639.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58879 602fd350-edb4-49c9-b593-d223f7449a82

commit e0ee668d0dc17748be036e0583add30b02f0f2f9
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sat Aug 10 22:58:07 2024 +0000

    Code Quality: Clarify variable names in dependency classes.
    
    Renames several variables in the `WP_Scripts` and `WP_Styles` classes to clarify their purpose for developers reading the code.
    
    Props peterwilsoncc, sergeybiryukov.
    See #61607.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58878 602fd350-edb4-49c9-b593-d223f7449a82

commit 29348dfc9a9fbddb4adcef4b8353ef695b8639ce
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Sat Aug 10 04:58:16 2024 +0000

    HTML API: Remove completed TODO comments.
    
    This patch removes TODO comments indicating the need to verify certain behaviors and algorithms. Those verifications have taken place and the comments are no longer needed.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7174
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Follow-up to [58867], [58870].
    
    Props jonsurrell.
    See #64646.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58877 602fd350-edb4-49c9-b593-d223f7449a82

commit 433397998a542d236c19de6c08b20b03a628738e
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Aug 9 18:29:47 2024 +0000

    Build/Test Tools: Avoid using `wp_delete_user()` in PHPUnit tests unless explicitly acknowledging or ignoring Multisite.
    
    `wp_delete_user()` does not actually delete the entire user when using WordPress Multisite. Therefore tests should typically use the test helper method to fully delete the user, unless explicitly ignoring Multisite or testing the `wp_delete_user()` function while taking Multisite behavior into account.
    
    Fixes #61851.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58876 602fd350-edb4-49c9-b593-d223f7449a82

commit defaa761959a500ffb8a37d5dbf06316787a73bf
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Fri Aug 9 17:59:41 2024 +0000

    Comments: Add optional `$context` parameter to `get_edit_comment_link()` to get the URL without HTML entities.
    
    This brings the function in line with the similar `get_edit_post_link()` parameter. The 'get_edit_comment_link' filter now additionally receives the `$comment_id` and `$context` as parameters.
    
    Additionally, as a minor enhancement, the capability check is now more defensive, as it will no longer cause an error if the given comment ID is invalid.
    
    As part of the changeset, comprehensive test coverage for the `get_edit_comment_link()` including the new behavior is added.
    
    Props deepakrohilla.
    Fixes #61727.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58875 602fd350-edb4-49c9-b593-d223f7449a82

commit 9f09c574c0ac64041c81760f10646994d21ce49d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 9 00:16:33 2024 +0000

    Docs: Remove unsupported values in `plugins_api()` DocBlocks.
    
    The `group` field and the `hot_categories` action were never actually implemented on the WordPress.org side.
    
    Follow-up to [34596], [meta3227].
    
    Props lopo, milana_cap.
    See #55645.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58873 602fd350-edb4-49c9-b593-d223f7449a82

commit ec58d38eef3f4387177e4bfca90df5b3a34f96be
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Aug 8 19:35:24 2024 +0000

    External Libraries: Update the Backbone.js library to version `1.6.0`.
    
    This updates the `backbone` library from version `1.5.0` to `1.6.0`. This is a minor bug fix release.
    
    The full list of changes can be found in the Backbone.js change log: https://backbonejs.org/#changelog.
    
    Props manooweb mardroid.
    Fixes #60512.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58872 602fd350-edb4-49c9-b593-d223f7449a82

commit 7ceb8394c75d52c9c263b0cf201527fda8935bf8
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 8 17:02:46 2024 +0000

    HTML API: Test and fix SVG script handling.
    
    When support was added for foreign content, an ambiguity in the HTML specification led to code that followed the wrong path when encountering a self-closing SCRIPT element in the SVG namespace. Further, a fallthrough was discovered during manual testing.
    
    This patch adds a new test to assert the proper behaviors and fixes these issues. In the case of the SCRIPT element, the outcome was the same with the wrong code path, making the defect benign. In the case of the fallthrough, the wrong behavior would occur.
    
    The updates in this patch also resolves a todo relating to the spec ambiguity.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7164
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58868].
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58871 602fd350-edb4-49c9-b593-d223f7449a82

commit b9014d69e3b34db9e4ec792fd48651241ae4a4f9
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 8 16:13:25 2024 +0000

    HTML API: `expect_closer()` should report false for self-closing foreign elements.
    
    Previously, `WP_HTML_Processor::expects_closer()` would report `true` for self-closing foreign elements when called without supplying a node in question, but it should have been reporting `true` just as it does for HTML elements.
    
    This patch adds a test case demonstrating the issue and a bugfix.
    
    The `html5lib` test runner was relying on the incorrect behavior, accidentally working. This is also corrected and the `html5lib` test now relies on the correct behavior of `expects_closer()`.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7162
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58868].
    
    Props: dmsnell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58870 602fd350-edb4-49c9-b593-d223f7449a82

commit fe9aa7c48d4c72bda6c55273015bd01cd24aa603
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 8 07:31:15 2024 +0000

    HTML API: Add support for SVG and MathML (Foreign content) (remove file)
    
    As part of work to add more spec support to the HTML API, this patch adds support for SVG and MathML elements, or more generally, "foreign content."
    
    The rules in foreign content are a mix of XML and HTML parsing rules and introduce additional complexity into the processor, but is important in order to avoid getting lost when inside these elements.
    
    This patch follows the first by deleting the empty files, which were mistakenly left in during the initial merge.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/6006
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58867].
    
    Props: dmsnell, jonsurrell, westonruter.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58868 602fd350-edb4-49c9-b593-d223f7449a82

commit de084d7d0e302027fb8f0a99bbeedf88e079efee
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 8 07:23:53 2024 +0000

    HTML API: Add support for SVG and MathML (Foreign content)
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for SVG and MathML elements, or more generally, "foreign content."
    
    The rules in foreign content are a mix of XML and HTML parsing rules and
    introduce additional complexity into the processor, but is important in
    order to avoid getting lost when inside these elements.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/6006
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell, westonruter.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58867 602fd350-edb4-49c9-b593-d223f7449a82

commit 4026237dadd2f4c1f11ba4a89605e8f394c11f38
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 8 04:24:03 2024 +0000

    HTML API: Ensure that `get_modifiable_text()` reads enqueued updates.
    
    When `set_modifiable_text()` was added to the Tag Processor, it was considered that the same information could be queried after setting its value and before proceeding to the next token, but unfortunately overlooked that if the starting modifiable text length was zero, then the read in `get_modifiable_text()` would ignore enqueued updates.
    
    In this patch, `get_modifiable_text()` will read any enqueued values before reading from the input HTML document to ensure consistency.
    
    Follow-up to [58829].
    Props dmsnell, jonsurrell, ramonopoly.
    Fixes #61617.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58866 602fd350-edb4-49c9-b593-d223f7449a82

commit f9af91cfa550fe94b60160e6ed44f7d8cad2b183
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 8 02:25:32 2024 +0000

    Docs: Correct alignment for `rest_insert_attachment` action DocBlock.
    
    Follow-up to [39348].
    
    Props krupalpanchal.
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58865 602fd350-edb4-49c9-b593-d223f7449a82

commit 20cb3098c825cef99371f72447aa4986426c331f
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Aug 7 19:56:43 2024 +0000

    Docs: Remove bugfix since annotations from WP_Theme_JSON::get_block_nodes().
    
    Removes the `@since` bugfix annotations from `WP_Theme_JSON::get_block_nodes()` docblock. Bugfixes are not annotated in docblocks.
    
    Follow-up to [58856].
    See #61704.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58864 602fd350-edb4-49c9-b593-d223f7449a82

commit 2ca1069a83158cb6fcaf4e273fb7c6b66f6c661b
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Aug 7 15:50:33 2024 +0000

    External Libraries: Update the `whatwg-fetch` polyfill library.
    
    This updates the `whatwg-fetch` library from version `3.6.17` to `3.6.20`, the latest current version.
    
    This library is included and registered within WordPress as the `wp-polyfill-fetch` script but is no longer used by WordPress itself. Updates are provided as a courtesy, and all projects using this polyfill should reevaluate usage.
    
    Props manooweb.
    Fixes #60514.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58860 602fd350-edb4-49c9-b593-d223f7449a82

commit 9928cd6bcb35d14a700e3930355b6703f0cb4dc8
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Aug 6 22:05:47 2024 +0000

    HTML API: Use full parser in html5lib tests.
    
    Previously the `html5lib` tests have only run in the fragment parser mode,
    assuming IN BODY context. This limited the number of tests which could run
    and was a result of the HTML Processor only supporting the IN BODY fragment
    parser. In [58836], however, a full parser was added to the HTML Processor.
    
    In this patch the full parser is utilized in order to run more of the
    previously-skipped tests, asserting more behaviors in the HTML parsing.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7117
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Props: dmsnell, jonsurrell.
    See #61646.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58859 602fd350-edb4-49c9-b593-d223f7449a82

commit 534b830b371644cdd177f79317b9d28b0dcbbc85
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Aug 6 20:41:58 2024 +0000

    HTML API: Truncated funky comments should cause the Tag Processor to pause.
    
    A state change was missing in the Tag Processor when the input is too short to
    find a comment closer after an opened funky comment. This patch fixes a issue
    where `</#` does not correctly report incomplete input, but `</# ` does.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7146
    Discussed in https://core.trac.wordpress.org/ticket/61831
    
    Props: jonsurrell.
    Fixes #61831.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58858 602fd350-edb4-49c9-b593-d223f7449a82

commit 96c2a46863340a8964cc95ed1d3a484d5d89412b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Aug 6 13:20:49 2024 +0000

    Site Health: Clarify the description for `max_file_uploads` in Site Health Info.
    
    Follow-up to [48535].
    
    Props iflairwebtechnologies, hbhalodia, mukesh27, SergeyBiryukov.
    Fixes #61814.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58857 602fd350-edb4-49c9-b593-d223f7449a82

commit a39a35c8e6164afd44f1f92b07cf4cb25710b929
Author: Daniel Richards <talldanwp@git.wordpress.org>
Date:   Tue Aug 6 08:24:14 2024 +0000

    Theme JSON: Ensure root selector (body) is not wrapped in :root :where().
    
    Pre-WordPress 6.6, the `body` selector was used for styles associated with the body.
    
    In 6.6, this was mistakenly changed to `:root :where(body)`, an increase in specificity, causing some issues for themes.
    
    This change reverts the specificity increase, styles again use the `body` selector.
    
    Syncs PHP changes from https://github.com/WordPress/gutenberg/pull/63726.
    
    Props talldanwp, andrewserong, aaronrobertshaw, mukesh27, hellofromtonya.
    Fixes #61704.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58856 602fd350-edb4-49c9-b593-d223f7449a82

commit 8aca1cf6bc78a4e9a32dd47e37e74ea8e24d0a62
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Aug 5 21:37:05 2024 +0000

    WP_Debug_Data: Extract `wp-constants` data into separate method.
    
    This is the part two in a larger modularization of the data in `WP_Debug_Data`.
    Previously this was a single massive method drawing in debug data from various
    groups of related data, where the groups were independent from each other.
    
    This patch separates the second of twelve groups, the `wp-constants` info,
    into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible
    for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7106
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props: apermo, costdev, dmsnell.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58855 602fd350-edb4-49c9-b593-d223f7449a82

commit 8e7035fd81eb5d55161e91f112a1fcf59c75d3d1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Aug 5 18:58:49 2024 +0000

    Menus: Check if taxonomy term exists in `wp_update_nav_menu_item()`.
    
    When inserting a term from a non-existing taxonomy as a nav item, the `post_title` property should be empty, and the function should not throw a fatal error for `wp_specialchars_decode()`.
    
    Includes bringing some consistency to similar checks for post types and post type archives in the same code fragment.
    
    Follow-up to [14283], [14450], [35382], [36095].
    
    Props dd32, narenin, mukesh27, SergeyBiryukov.
    Fixes #61799.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58854 602fd350-edb4-49c9-b593-d223f7449a82

commit b17b5d18548b7d9a1083425f2398322e0b82d613
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Aug 5 10:07:32 2024 +0000

    Twenty Twenty-One: Fixes float clearing elements being visible in Row and Grid blocks.
    
    The grid layout looks different between front and back end due to the float clearing elements being visible in Row and Grid blocks. This moves the hack rather than deletes it.
    
    Props up1512001, sabernhardt, poena.
    Fixes #61611.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58853 602fd350-edb4-49c9-b593-d223f7449a82

commit ddd53c27adc562d508dd200511bc763ecd427cb2
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Aug 5 09:49:14 2024 +0000

    Twenty Sixteen: Fixes Code block not showing same line-height and padding on front and in editor.
    
    The Code block had a difference in line-height and padding in the editor and front end. This does not fix font-family which has another ticket.
    
    Props viralsampat, sabernhardt.
    Fixes #61700.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58852 602fd350-edb4-49c9-b593-d223f7449a82

commit 8b2ff8636fc90e9126431a9f0a408d0964f0b119
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Aug 5 08:55:08 2024 +0000

    Twenty Nineteen: Fixes Button block not changing appearance settings.
    
    The Button block isn't reflecting appearance settings. This fix keeps the default as font-weight bold but also adds support for other weights.
    
    Props pranitdugad, pitamdey, sabernhardt.
    Fixes #61437.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58851 602fd350-edb4-49c9-b593-d223f7449a82

commit d842ee459835d28771078c91784a1738a28a4d3c
Author: Daniel Richards <talldanwp@git.wordpress.org>
Date:   Mon Aug 5 06:39:21 2024 +0000

    Block Styles: Fix ordering of stylesheets when a style variation is applied.
    
    Adjusts the dependency order to ensure stylesheets are output in the correct order.
    
    Syncs the PHP changes from https://github.com/WordPress/gutenberg/pull/63918.
    
    Props talldanwp, aaronrobertshaw, andrewserong, aristath, mukesh27, ramonopoly, ytfeldrawkcab.
    Fixes #61748.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58850 602fd350-edb4-49c9-b593-d223f7449a82

commit 471a6195d0197ae90fc565406f7d441111c9a92a
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Mon Aug 5 04:11:40 2024 +0000

    Media: Automatically convert HEIC images to JPEG
    
    Automatically create a JPEG version of uploaded HEIC images if the server has
    a version of Imagick that supports HEIC. Conversion is done silently through
    the existing `WP_Image_Editor` infrastructure that creates multiple sizes of
    uploaded images.
    
    This allows users to view HEIC images in WP Admin and use them in their posts
    and pages regardless of whether their browser supports HEIC. Browser support
    for HEIC is relatively low (only Safari) while the occurrence of HEIC images is
    relatively common. The original HEIC image can be downloaded via a link on
    the attachment page.
    
    Props adamsilverstein, noisysocks, swissspidy, spacedmonkey, peterwilsoncc.
    Fixes #53645.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58849 602fd350-edb4-49c9-b593-d223f7449a82

commit 0a12ad2890ec258febb4b65e3840e94008a99cbe
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sun Aug 4 22:07:06 2024 +0000

    General: Removing static from `wp_get_wp_version()`.
    
    Removes the static storing the version number in `wp_get_wp_version()` to ensure the version number is reported correctly after a WordPress upgrade is completed.
    
    Reverts [58827].
    
    Props costdev, SergeyBiryukov, Cybr.
    See #61782.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58848 602fd350-edb4-49c9-b593-d223f7449a82

commit 54e2272b9505ad1732a6564eb985626f5779ed84
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Aug 4 22:01:28 2024 +0000

    Site Health: Display raw value for `max_file_uploads` on Site Health Info screen.
    
    This resolves a fatal error if `strict_types` PHP setting is enabled:
    {{{
    Argument #1 ($num) must be of type float, string given
    }}}
    
    Since the goal of the Site Health Info screen is to display raw values where possible, the `number_format()` call here does not seem to provide any benefit.
    
    Props krishneup, sabernhardt, audrasjb, SergeyBiryukov.
    Fixes #60364.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58847 602fd350-edb4-49c9-b593-d223f7449a82

commit e4b3f44306ab79cc374936d6c00bb8afa5baa5b9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Aug 3 18:30:51 2024 +0000

    Docs: Correct documentation for `the_password_form` hook.
    
    This replaces an outdated note about the 20 characters limit on the password field in the WordPress database schema.
    
    The `post_password` column was increased to 255 characters in WordPress 4.7.
    
    Follow-up to [27676], [38590].
    
    Props debarghyabanerjee, peterwilsoncc, dd32, mukesh27.
    Fixes #61703.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58846 602fd350-edb4-49c9-b593-d223f7449a82

commit bdef9de86c7dfe4193fd9188c28fe637f64b6bd5
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Aug 2 23:46:45 2024 +0000

    HTML API: Fix an infinite loop in certain unclosed SCRIPT tags.
    
    When the Tag Processor (or HTML Processor) attempts to parse certain
    incomplete script tags, the parser enters an infinite loop and will
    hang indefinitely. The conditions to reach this situation are:
    
    - Input HTML ends with an open script tag.
    - The final character of input is `-` or `<`.
    
    The infinite loop was caused by the parser-advancing increment not being
    called when two `||` OR conditions short-circuited. If the first
    condition was true, the `$at++` code was never reached.
    
    This path resolves the issue.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7128
    Discussed in https://core.trac.wordpress.org/ticket/61810
    
    Follow-up to [55203].
    
    Props: dmsnell, jonsurrell.
    Fixes #61810.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58845 602fd350-edb4-49c9-b593-d223f7449a82

commit 0c46e2a0b4803a0a7e7c9b0abf1cbb7811019a1f
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Aug 2 22:57:46 2024 +0000

    HTML API: Indicate when WordPress rejects attribute updates.
    
    When setting an an attribute value in the HTML API, WordPress may reject
    an update based on rules in `kses`. In these cases, the return value from
    an escaping function will be an empty string, and the HTML API should
    reject the update. Unfortunately, it currently reports that it updates the
    attribute but sets an empty string value, which is misleading.
    
    In this patch, the HTML API will refuse the attribute update and return
    false to indicate as much when WordPress rejects the updates.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7114
    Discussed in https://core.trac.wordpress.org/ticket/61719
    
    Follow-up to [58472].
    
    Props: amitraj2203, dmsnell, mukesh27.
    Fixes #61719.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58844 602fd350-edb4-49c9-b593-d223f7449a82

commit 0e06e2b522e812e0d62193eb7ad21f9b38dde7bb
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Fri Aug 2 22:36:27 2024 +0000

    General: Use clean WordPress version in `is_wp_version_compatible()`.
    
    Update `is_wp_version_compatible()` to use `wp_get_wp_version()` introduced in [58813] to ensure the value of `$wp_version` has not been modified by a theme or plugin.
    
    Props costdev, mukesh27, Cybr, sergeybiryukov.
    Fixes #61781.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58843 602fd350-edb4-49c9-b593-d223f7449a82

commit da0f44fdff1f9ac47f606440593ee977881f2734
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Aug 2 19:38:44 2024 +0000

    Docs: Improve the wording for `cron_reschedule_event_error` action description.
    
    Follow-up to [54258].
    
    Props NekoJonez, audrasjb.
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58842 602fd350-edb4-49c9-b593-d223f7449a82

commit a799101e46ef0a042814c189a6331c23a52a100c
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 1 22:51:11 2024 +0000

    HTML API: Add support for IN SELECT IN TABLE parsing.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for the IN SELECT IN TABLE insertion mode. This small section of the
    spec handles rules for the `<select>` element and its children when found
    inside of a `<table>`.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7044
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58841 602fd350-edb4-49c9-b593-d223f7449a82

commit 6afe6bc178e729459ddbda4720fbcced3299f375
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 1 22:34:29 2024 +0000

    HTML API: Add support for IN CAPTION parsing.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for the IN CAPTION insertion mode. This small section of the
    spec handles rules for the `<caption>` element.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7041
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58840 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b8e0ec00bde2ca14d2d06fa6a411b3871cd191a
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Aug 1 22:04:44 2024 +0000

    HTML API: Add support for IN COLUMN GROUP parsing.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for the IN COLUMN GROUP insertion mode. This small section of the
    spec handles rules for the `<colgroup>` element.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7042
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58839 602fd350-edb4-49c9-b593-d223f7449a82

commit d0566719b39b1ccc88eac525e936b1e29fef5860
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Aug 1 20:30:48 2024 +0000

    Docs: Correct some typos in a comment in `wp_salt()`.
    
    Follow-up to [58837].
    
    Props kebbet.
    Fixes #59871.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58838 602fd350-edb4-49c9-b593-d223f7449a82

commit 74e03e3cbef2f2565028f446c76acb2dabf749bd
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Wed Jul 31 22:56:32 2024 +0000

    Options, Meta APIs: Prime salts when stored in database.
    
    For salts generated and stored in the database, use `wp_prime_site_option_caches()` within `wp_salt()` to prime the options in a single database query, down from up to nine database queries.
    
    The options are primed when the corresponding constant is either undefined or uses the default string `put your unique phrase here`.
    
    Props joemcgill, spacedmonkey, peterwilsoncc.
    Fixes #59871.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58837 602fd350-edb4-49c9-b593-d223f7449a82

commit 883146e8a5b79f3accf6a171a6c53a4716a2b61c
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Jul 31 16:54:23 2024 +0000

    HTML API: Introduce full parsing mode in HTML Processor.
    
    The HTML Processor has only supported a specific kind of parsing mode
    called _the fragment parsing mode_, where it behaves in the same way
    that `node.innerHTML = html` does in the DOM. This mode assumes a
    context node and doesn't support parsing an entire document.
    
    As part of work to add more spec support to the HTML API, this patch
    introduces a full parsing mode, which can parse a full HTML document
    from start to end, including the doctype declaration and head tags.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/6977
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58836 602fd350-edb4-49c9-b593-d223f7449a82

commit 489b840cfd40ce310ba53fdc5d957d6f69bd4408
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 31 14:03:24 2024 +0000

    Bundled Themes: Update schema version in style variation files.
    
    This ensures that settings and styles are properly handled by code editors that support schema.
    
    Reference: [https://developer.wordpress.org/block-editor/reference-guides/theme-json-reference/theme-json-v2/#json-schema Theme.json Version 2 Reference: JSON Schema].
    
    Follow-up to [58403].
    
    Props poena, umeshsinghin.
    Fixes #61789.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58835 602fd350-edb4-49c9-b593-d223f7449a82

commit c3e1d3a8b8c2393ce8d6d50cededbea479516b8e
Author: ramonopoly <ramonopoly@git.wordpress.org>
Date:   Wed Jul 31 02:39:46 2024 +0000

    Background: add background attachment support to theme.json styles
    
    Introduces the ability to specify a value for `background.backgroundAttachment` in theme.json styles.
    
    The theme.json value determines the CSS value for the `background-attachment` property.
    
    This feature was introduced into the Gutenberg plugin in version 18.9.
    
    Props andrewserong, mukesh27, noisysocks, ramonopoly.
    
    Fixes #61720
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58834 602fd350-edb4-49c9-b593-d223f7449a82

commit dfd1de09afbb5b3c4c7a959b20a1f5fa7011aa46
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Jul 30 18:44:45 2024 +0000

    HTML API: Add TEMPLATE and related support in HTML Processor.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for the IN TEMPLATE and IN HEAD insertion modes. These changes are
    primarily about adding support for TEMPLATE elements in the HTML Processor,
    but include support for other tags commonly found in the document head, such
    as LINK, META, SCRIPT, STYLE, and TITLE.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7046
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell, westonruter.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58833 602fd350-edb4-49c9-b593-d223f7449a82

commit a16d9eea5445126582476b608ace91f8efd58eb8
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 30 12:23:06 2024 +0000

    Site Health: Improve the wording for PHP version check.
    
    This aims to make the message more accurate by referring to the version of PHP currently recommended by WordPress, not the current version of PHP.
    
    Follow-up to [44986], [46267], [47254].
    
    Props swb1192, psykro, swissspidy, joemcgill, mukesh27, aristath.
    See #61623.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58832 602fd350-edb4-49c9-b593-d223f7449a82

commit 9ed3553da6a61a38a1d4c5585e5ac3c9d13d351a
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 29 18:47:21 2024 +0000

    REST API, Meta: Store updates in database when they are equal to the defaults.
    
    This patch fixes an oversight from when default metadata values were introduced
    in #43941 in WordPress 5.5: metadata updates should persist in the database
    even if they match the registered default value (because the default values
    can change over time).
    
    Previously, the REST API code was comparing updated values against the value
    returned by the default-aware `get_metadata()` method. This meant that if no
    value existed in the database, and the default value was supplied to the update,
    WordPress would think that the updated value was already persisted and skip
    the database call.
    
    Now, the `get_metadata_raw()` method is called for comparing whether or not
    a database update is required, fixing the bug.
    
    In this patch both issues are resolved.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/6782
    Discussed in https://core.trac.wordpress.org/ticket/55600
    
    Follow-up to [48402].
    
    Props: dmsnell, kraftner, ramon-fincken.
    Fixes #55600.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58831 602fd350-edb4-49c9-b593-d223f7449a82

commit 345699c0711d00dc15a1f3090694c2c8a114a29b
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 29 18:20:11 2024 +0000

    WP_Debug_Data: Extract `wp-filesystem` data into separate method.
    
    This is the first part in a larger modularization of the data in `WP_Debug_Data`.
    Previously this was a single massive method drawing in debug data from various
    groups of related data, where the groups were independent from each other.
    
    This patch separates the first of twelve groups, the `wp-filesystem` info,
    into a separate method focused on that data.
    
    This work precedes changes to make the `WP_Debug_Data` class more extensible
    for better use by plugin and theme code.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7065
    Discussed in https://core.trac.wordpress.org/ticket/61648
    
    Props: afragen, apermo, costdev, dmsnell.
    See #61648.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58830 602fd350-edb4-49c9-b593-d223f7449a82

commit c6aaf0a7db6e0555ac61b96cecb699b850fb3187
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 29 17:57:12 2024 +0000

    HTML API: Add set_modifiable_text() for replacing text nodes.
    
    This patch introduces a new method, `set_modifiable_text()` to the
    Tag Processor, which makes it possible and safe to replace text nodes
    within an HTML document, performing the appropriate escaping.
    
    This method can be used in conjunction with other code to modify the
    text content of a document, and can be used for transforming HTML
    in a streaming fashion.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7007
    Discussed in https://core.trac.wordpress.org/ticket/61617
    
    Props: dmsnell, gziolo, zieladam.
    Fixes #61617.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58829 602fd350-edb4-49c9-b593-d223f7449a82

commit c73d8a441521d3fe792c3f1ea4cff048fc358dcd
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 29 17:37:48 2024 +0000

    HTML API: Close all elements at the end of a document.
    
    When the model of breadcrumb generation in the HTML Processor and node
    traversal was simplified, the change introduced a bug whereby unclosed
    nodes at the end of a document would remain unvisited and unclosed.
    
    In this patch, a fix is applied to ensure that all open elements close
    while traversing a document. A couple of minor documentation typos are
    fixed in the patch as well.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7085
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58713].
    
    Props: dmsnell, gziolo, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58828 602fd350-edb4-49c9-b593-d223f7449a82

commit 883d9b673185e9f0b40ac9929a59f4725af379d9
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 29 15:00:44 2024 +0000

    General: Memoize the return value in `wp_get_wp_version()`.
    
    This aims to optimize performance by saving the return value to a static variable, so that the `version.php` file is not unnecessarily required on each function call.
    
    Follow-up to [58813].
    
    Props Cybr, debarghyabanerjee, mukesh27.
    Fixes #61782. See #61627.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58827 602fd350-edb4-49c9-b593-d223f7449a82

commit 3977e6281df1c1c60fa4fce2496f31408f29fb04
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 29 14:50:44 2024 +0000

    General: Move `wp_get_wp_version()` to a more appropriate place.
    
    This places the function in a more predictable location, next to the `is_wp_version_compatible()` and `is_php_version_compatible()` functions.
    
    Follow-up to [58813].
    
    See #61627.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58826 602fd350-edb4-49c9-b593-d223f7449a82

commit 679cc0c4a261a77bd8fdb140cd9b0b2ff80ebf37
Author: luisherranz <luisherranz@git.wordpress.org>
Date:   Mon Jul 29 11:08:18 2024 +0000

    Interactivity API: Allow server derived state to appear in non-final position
    
    In some cases, derived state returns an associative array. Directives may wish to continue to access properties of the associative array, when using the syntax `state.arrayReturnedByClosure.property`. This patch continues evaluating the path after the associative array has been returned by the Closure.
    
    Props jonsurrell, luisherranz.
    
    Fixes #61741.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58825 602fd350-edb4-49c9-b593-d223f7449a82

commit 907412bf9867dd20265f27721baad3241ab39699
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 29 10:08:22 2024 +0000

    Twenty Twenty: Fixes Table font size when custom showing on front.
    
    The Table block was not reflecting the custom font size on the front. This solution now brings custom font sizes in for front the same as back in the editor.
    
    Props umesh84, SergeyBiryukov, sabernhardt, shailu25.
    Fixes #56157.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58824 602fd350-edb4-49c9-b593-d223f7449a82

commit bc87db7201e690d85c48e08409a38fc20f78fcea
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 29 09:30:34 2024 +0000

    Twenty Seventeen: Fixes floated images having an extra space when the first image.
    
    The first image when floated in content had extra spacing. This was only for the first image in testing so the solution focuses on that.
    
    Props kjellr, sabernhardt, hmbashar, shailu25.
    Fixes #46785.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58823 602fd350-edb4-49c9-b593-d223f7449a82

commit c1ffe3309abbda7abecdd292ad43309f3ea59495
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Mon Jul 29 01:57:11 2024 +0000

    Users: Always use HTTPS URLs for Gravatar links.
    
    Modifies gravatar image URLs to always use the HTTPS version from secure.gravatar.com.
    
    Gravatar now redirects HTTP image requests to their HTTPS equivalent, resulting in redirects for sites running over an HTTP connection (`is_ssl() === false`). Since the introduction of HTTP/2 the use of sub-domains for different hashes ([1-3].gravatar.com) now represents a performance hinderance rather than improvement.
    
    The scheme passed to `get_avatar_data()` is now ignored for the generation of Gravatar URLs but the setting retained to avoid introducing bugs for sites using either local avatars or third party providers.
    
    Props neoxx, SergeyBiryukov, sippis, peterwilsoncc, mukesh27, costdev, dd32.
    Fixes #37454.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58822 602fd350-edb4-49c9-b593-d223f7449a82

commit a3173b65060a2dd6c4c2cdcbc6dd81ed693f4c41
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 28 18:25:13 2024 +0000

    Feeds: Introduce `feed_links_args` and `feed_links_extra_args` filters.
    
    This allows for more flexibility in modifying how feed links are displayed by the `feed_links()` and `feed_links_extra()` functions, including, for example, a way to change the `&raquo;` separator to something else.
    
    Follow-up to [10377], [33838], [33839], [53125], [54161].
    
    Props topdownjimmy, tw2113, williampatton.
    Fixes #43225.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58821 602fd350-edb4-49c9-b593-d223f7449a82

commit b59bc83af44b5895b9e2d790c8ead43a1b91a281
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sat Jul 27 23:04:51 2024 +0000

    Application Passwords: Open documentation link in same window.
    
    Removes the `target` to to documentation for [https://developer.wordpress.org/apis/wp-config-php/#wp-environment-type setting the environment type] for applications passwords so the tabs open in the same window.
    
    This follows [58137] which added a confirmation prompt for users navigating away from the profile edit screen if they have changed data without saving it.
    
    Props sabernhardt, joedolson.
    Fixes #60100.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58820 602fd350-edb4-49c9-b593-d223f7449a82

commit defe4b0ec5395ecc2e56ba02b802f5b8e47223c2
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 27 16:41:08 2024 +0000

    Twenty Twenty: Calendar and Table blocks do not apply custom font size.
    
    This fixes adding a custom font size to a Calendar and Table block. This was only an issue for custom font size entering.
    
    Props nidhidhandhukiya, yurajsinj2211, ankit-k-gupta, anveshika, sabernhardt, darshitrajyaguru97, shailu25, umesh84, SergeyBiryukov.
    Fixes #59996, #56157.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58819 602fd350-edb4-49c9-b593-d223f7449a82

commit 859263db0657a7f536fdeefe60a1225ceb6fd4f7
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 27 12:32:21 2024 +0000

    Twenty Twenty-Three: Fixes unnecessary borders for links images in Whisper variation.
    
    This fixes the Whisper variation having borders for links images. Other styles did not have this.
    
    Props colorful-tones, sabernhardt.
    Fixes #57368.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58818 602fd350-edb4-49c9-b593-d223f7449a82

commit 5159e54b10503da0562c1f4e2ffa3611b28bebf8
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 27 10:12:31 2024 +0000

    Twenty Twenty: Adds Plain Style into Quote block.
    
    Plan style was missing for the Quote block. This brings it in as should have been originally.
    
    Props kajalgohel, devtanbir, costdev, sabernhardt.
    Fixes #56011.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58817 602fd350-edb4-49c9-b593-d223f7449a82

commit a3e07a2ec026aebc520385dc781cb10936e93d97
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 27 09:35:19 2024 +0000

    Multiple themes: Fixes Code block not adjusting to font size changes.
    
    This resolves the Code block not changing when the font sizes are switched in Twenty Eleven and Twenty Twelve. The solution is the same as used for other code block adjustments for font sizes.
    
    Props viralsampat, sabernhardt.
    Fixes #61753.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58816 602fd350-edb4-49c9-b593-d223f7449a82

commit 916a9925306c4f315a22a499c3624fb923d227fd
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 27 09:22:35 2024 +0000

    Twenty Thirteen: Fixes Code block not adjusting to font size changes.
    
    This resolves the Code block not changing when the font sizes are switched. This theme uses a 14 px size for both and this uses inherit when nested inside pre tag.
    
    Props viralsampat, sabernhardt.
    Fixes #61697.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58815 602fd350-edb4-49c9-b593-d223f7449a82

commit d497e92424a70cd999f8ca5956aa70ccb32ed976
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 27 07:50:32 2024 +0000

    Docs: Clarify the description for `wp_strip_all_tags()`.
    
    Follow-up to [11929], [27042].
    
    Props coffee2code, krupalpanchal, mukesh27.
    Fixes #61759.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58814 602fd350-edb4-49c9-b593-d223f7449a82

commit c41304d73c32c968056abd2b1ffa19e83e9833a9
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Sat Jul 27 00:25:44 2024 +0000

    General: Introduce `wp_get_wp_version()` to get unmodified version.
    
    Introduces `wp_get_wp_version()` to get an unmodified value of `$wp_version` from `wp-includes/version.php`. Some plugins modify the global in an attempt to improve security through obscurity. This practice can cause errors in WordPress so the ability to get an unmodified version is needed.
    
    Replaces instances within the code base in which `version.php` was required in order to get an unmodified value. `script-loader.php` is intentionally excluded from the replacements as the function is not always available to the file.
    
    Props debarghyabanerjee, afragen, costdev.
    See #61627.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58813 602fd350-edb4-49c9-b593-d223f7449a82

commit ed59f778ba7e275c7f34f3f8dd5795abcb07ca91
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 26 07:54:26 2024 +0000

    General: Cast `$max_depth` and `$depth` to an integer in the `Walker` class.
    
    This ensures that the arguments are correctly interpreted when passed as a query string, i.e. when `wp_parse_args()` is involved. For example, `wp_list_pages( 'depth=0' )` should display a list of all pages to the maximum depth.
    
    Follow-up to [57848].
    
    Props freibergergarcia, peterwilsoncc, ahortin.
    Fixes #61749.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58812 602fd350-edb4-49c9-b593-d223f7449a82

commit b38541de39c5e3ccb75ff76b49ab930846c878b6
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jul 25 23:02:47 2024 +0000

    Options, Meta APIs: Prevent Single Site installs using network notoptions cache.
    
    Modifies the caching of `notoptions` in `delete_network_option()` to ensure that the network cache is bypassed on single site installs.
    
    On single site installs the incorrect caching was causing the `notoptions` cache to remain populated once a deleted option was subsequently added or updated.
    
    Follow up to [58782].
    
    Props bjorsch, pbearne.
    Fixes #61730.
    See #61484.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58811 602fd350-edb4-49c9-b593-d223f7449a82

commit 4de5282f235f02605ffd86356c23d19c0a6b5ee7
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jul 25 22:38:01 2024 +0000

    General: Update English Gravatar links.
    
    Replace links to en.gravatar.com with links to gravatar.com as the english site now uses the base domain. This avoids an unnecessary redirect for english language sites.
    
    The links remain translatable for non-english versions of WordPress.
    
    Props narenin, knutsp.
    Fixes #61424.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58810 602fd350-edb4-49c9-b593-d223f7449a82

commit 5ea8ba0bf041e3148548dc9d2dc1a1d16eb3674a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 25 22:36:13 2024 +0000

    Comments: Only type cast a scalar `$comment_id` in `get_comment_author_link()`.
    
    This aims to resolve a fatal error when the incoming `$comment_id` is an instance of `WP_Comment` (or any object) without a `comment_ID` property defined, or if it's empty:
    {{{
    Object of class WP_Comment could not be converted to string
    }}}
    
    This commit mirrors the changes previously made for a similar code fragment in `get_comment_author()`.
    
    Includes:
    * Unit tests to demonstrate the fatal error and validate the fix.
    * Changing the default value for a non-existent comment ID in `get_comment_author()` from an empty string to zero as a numeric string, for consistency with `get_comment_ID()`.
    
    Follow-up to [52818], [55289], [58335], [58755].
    
    Props narenin, mukesh27, iflairwebtechnologies, umeshsinghin, SergeyBiryukov.
    Fixes #61715.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58809 602fd350-edb4-49c9-b593-d223f7449a82

commit 4acefacbf6f7c956f1cf30e406d3c9c04bc855f9
Author: Felix Arntz <flixos90@git.wordpress.org>
Date:   Wed Jul 24 21:40:59 2024 +0000

    Taxonomy: Ensure `get_edit_term_link()` produces the correct result when called without taxonomy.
    
    This fixes an oversight missed in [36646].
    
    Props debarghyabanerjee.
    Fixes #61726.
    See #35922.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58807 602fd350-edb4-49c9-b593-d223f7449a82

commit 5351cd20f3d5eb890cb7b53270d01b626ce02f7d
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Jul 24 18:39:46 2024 +0000

    HTML API: Add TABLE support in HTML Processor.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for various table-related insertion modes. This includes support
    for tables, table rows, table cells, table column groups, etc...
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/6040
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58806 602fd350-edb4-49c9-b593-d223f7449a82

commit 881ac87847e69baa63bbc62668837b4d66580d20
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Jul 24 16:21:59 2024 +0000

    Customize: Sanitize autofocus URL parameter as an array.
    
    [58069] introduced calling `sanitize_text_field()` with `$_REQUEST['autofocus']` (which is an array) and setting its default to a `string`. This fix restores the `array` data type for `autofocus`.
    
    The fix also relocates the unsplash for `url`, `return`, and `autofocus` before sanitizing.
    
    Follow-up to [58069], [34269], [29026], [21028].
    
    Props jamesros161, swissspidy, dlh, audrasjb, hellofromTonya, ironprogrammer.
    Fixes #61561.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58804 602fd350-edb4-49c9-b593-d223f7449a82

commit edcd7d285f89c4633b6c20fd09b709c0a649f4d5
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 24 15:08:08 2024 +0000

    Tests: Use more specific assertions in `get_comment_author()` tests.
    
    Follow-up to [58335].
    
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58803 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a76260c3cd22d4688b91620ad7a00a42300c707
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Jul 24 14:09:58 2024 +0000

    block.json: Allow passing PHP filename as `variations` field.
    
    Previously, the `variations` field in a block.json file could be used to provide a static list of the block's variations (i.e., an array). Alternatively, the block's `variation_callback` could be set during server-side block registration to point to a PHP function to generate those variations.
    
    This changeset makes it so that the block.json `variations` field can be alternatively set to a string, which will be interpreted as the filename of a PHP file that generates the variations.
    
    It is loosely modeled after [54132], which introduced the `render` field for `block.json`, as a way to point to a PHP file instead of providing a `render_callback`.
    
    Props bernhard-reiter, gziolo.
    Fixes #61280.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58801 602fd350-edb4-49c9-b593-d223f7449a82

commit caa38c4faa7942836385c0655504816258330005
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Jul 24 14:05:18 2024 +0000

    External Libraries: Update the `regenerator-runtime` library.
    
    This updates the `regenerator-runtime` library to version `0.14.1`.
    
    This library has not been used by Core itself in quite a while and only maintained as a courtesy. Any projects relying on `regenerator-runtime` should reevaluate their usage.
    
    Props manooweb.
    Fixes #60515.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58800 602fd350-edb4-49c9-b593-d223f7449a82

commit ef71a9ed3917d11cf0daec94bc8f3201959af1b8
Author: Michal Czaplinski <czapla@git.wordpress.org>
Date:   Wed Jul 24 11:29:58 2024 +0000

    Tests: Removes the obsolete Block Binding unregistration
    
    Follow-up to [58798].
    Props santosguillamot, cbravobernal, gziolo.
    See #61641.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58799 602fd350-edb4-49c9-b593-d223f7449a82

commit e0ed30f1c802cda3c709b621746b420e300ecede
Author: Carlos Bravo <cbravobernal@git.wordpress.org>
Date:   Wed Jul 24 10:57:27 2024 +0000

    Block Bindings: Adds sources in the editor settings to consume them in the client
    
    Adds a new property `blockBindingsSources` to the editor settings to expose the block bindings sources registered in the server.
    
    Props santosguillamot, cbravobernal, gziolo, artemiosans.
    Fixes #61641.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58798 602fd350-edb4-49c9-b593-d223f7449a82

commit a8915f8893e4a945355491fd68273d88dbaa76fd
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Wed Jul 24 00:24:31 2024 +0000

    Block themes: Enable block-level background image styles
    
    Allows defining background images for blocks in theme.json.
    
    Syncs PHP changes from https://github.com/WordPress/gutenberg/pull/60100.
    
    Props ramonopoly, aaronrobertshaw.
    Fixes #61588.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58797 602fd350-edb4-49c9-b593-d223f7449a82

commit 15c34f5490f0bad3ca7e1469e7520a6120be3492
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 23 21:50:23 2024 +0000

    Twenty Twenty: Fixes Quote block border not reflecting alignment.
    
    This resolves the border not also aligning with the quote block. When this theme was built the editor used style attributes for text alignment. This patch updates existing rules for center and right aligned quote blocks.
    
    Props viralsampat, poena, sabernhardt.
    Fixes #61132.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58796 602fd350-edb4-49c9-b593-d223f7449a82

commit d713251cf3b2f4d5314366f92dd9ce3919a8ecfa
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Tue Jul 23 18:37:03 2024 +0000

    Build/Test Tools: Update third-party GitHub Actions.
    
    The following third-party actions have been updated to their latest versions.
    
    - `shivammathur/setup-php` from `2.30.0` to `2.31.1`.
    - `actions/setup-node` from `4.0.2` to `4.0.3`.
    - `actions/cache` from `4.0.1` to `4.0.2`.
    - `actions/upload-artifact` from `4.3.1` to `4.3.4`.
    - `slackapi/slack-github-action` from `1.25.0` to `1.26.0`.
    - `codecov/codecov-action` from `4.1.0` to `4.5.0`.
    
    See #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58789 602fd350-edb4-49c9-b593-d223f7449a82

commit ddd78e3851ebcac3bfdbeac0fbf22b051403e610
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jul 23 13:41:15 2024 +0000

    Block Hooks: Don't erase post content if it isn't changed by client.
    
    The `inject_ignored_hooked_blocks_metadata_attributes` filter that is attached to both the `rest_pre_insert_wp_template` and `rest_pre_insert_wp_template_part` hooks receives a `stdClass` object from the Templates REST API controller that contains all fields that the client would like to modify when making a `POST` request (plus the `id` to identify the relevant template or template part, respectively).
    
    There are cases when the `post_content` field is not set, e.g. when the client would like to rename an existing template (in which case it would only set the `title` field).
    
    Prior to this changeset, the filter would erroneously apply the Block Hooks algorithm to the non-existent `post_content` field regardless, which would result in it being set to the empty string `''`. As a consequence, renaming a template would have the unwanted side effect of wiping its contents.
    
    This changeset fixes the issue by returning early from the filter if the `post_content` field is not set.
    
    Props alshakero, bernhard-reiter.
    Fixes #61550.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58785 602fd350-edb4-49c9-b593-d223f7449a82

commit d6d1437f1ccb6f3cf225e712e3c18703e584cfbc
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 23 09:57:09 2024 +0000

    Twenty Twenty: Fixes incorrect colour in editor for seperator block.
    
    This resolves the seperator block color settings ordering. They were displaying incorrectly due to ruleset problems. This edits the order for the front end also.
    
    Props bhaveshdesai13, aniketpatel, miguelaxcar, nidhidhandhukiya, poena, pavanpatil1, sabernhardr.
    Fixes #57544.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58784 602fd350-edb4-49c9-b593-d223f7449a82

commit edfc2b0d89eeff4c5ffdea2fea0946cd00b66bac
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Tue Jul 23 07:49:54 2024 +0000

    REST API: Remove post status prefix from REST API responses.
    
    When using the /posts or /pages endpoints, for private posts or pages, you get the following title property: { raw: "Some title", rendered: "Private: Some title" }
    this commit removes the prefix from rendered private posts titles (just like what we do for protected posts)
    
    Props youknowriad, swissspidy, timothyblynjacobs, sergeybiryukov, ramonopoly.
    Fixes #61639.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58783 602fd350-edb4-49c9-b593-d223f7449a82

commit fc33ab699972a6ff1893707f852abd4e15f4dc65
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Jul 23 00:25:19 2024 +0000

    Options, Meta APIs: Prime `notoptions` cache when deleting options.
    
    Prime the `notoptions` cache within `delete_option` and `delete_network_option` to avoid the need for a database query if `get_option` or `get_network_option` is subsequently called.
    
    Adds some associated tests to ensure that an option is cleared from the notoptions cache when an option is added either via `add_option`, `update_option` or their network option equivalent.
    
    Props pbearne, mukesh27.
    Fixes #61484.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58782 602fd350-edb4-49c9-b593-d223f7449a82

commit 954d561216c2f4f256b35f515d70a16247d1cee7
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 22 23:19:20 2024 +0000

    HTML API: Fix unsupported insertion mode messages.
    
    Insertion modes in an HTML parser may include instructions like "process
    the token in the IN HEAD insertion mode." The rules do not change the
    insertion mode of the parser, but the errors are triggered outside of the
    rules for the current insertion mode. These will be misleading when
    bailing on these instructions, because it will point someone to the wrong
    place in the code to find the source of the error.
    
    In this patch all of the bail-points due to lacking insertion mode support
    are hard-coded to better orient someone to the section of the code lacking
    support for handling the input HTML.
    
    Developed in https://github.com/wordpress/wordpress-develop/pull/7043
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58679].
    
    Props: dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58781 602fd350-edb4-49c9-b593-d223f7449a82

commit 7c6c0d7ee503e78f6a4bdd18988552b06f3cabe8
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 22 22:49:52 2024 +0000

    HTML API: Remove empty test file after adding support for missing elements.
    
    When support was added for the remaining tags in the IN BODY insertion mode, a test
    file indicating that support was necessary for certain parts of the parser was
    removed, but it wasn't removed from SVN when sending over the patch from `git`.
    
    This patch removes that empty file so that the WPCS workflows pass.
    
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58779].
    
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58780 602fd350-edb4-49c9-b593-d223f7449a82

commit db30ce9c8c1c6ed0c39a3e16b22a82e7a7307c24
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 22 22:22:03 2024 +0000

    HTML API: Add missing tags in IN BODY insertion mode to HTML Processor.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for the remaining missing tags in the IN BODY insertion mode. Not
    all of the added tags are supported, because in some cases they reset the
    insertion mode and are reprocessed where they will be rejected.
    
    This patch also improves the support of `get_modifiable_text()`, removing
    a leading newline inside a LISTING, PRE, or TEXTAREA element.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6972
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell, westonruter.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58779 602fd350-edb4-49c9-b593-d223f7449a82

commit 485fdca9589ee816fe3b2df448e204d3f689a30a
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 22 17:50:53 2024 +0000

    Twenty Twenty: Fixes Customizer widget edit buttons being obstructed on smaller screens.
    
    When the screen is smaller the edit buttons are obscured. This resolves that problem for the smaller screens and only targets the container for footer navigation and widgets.
    
    Props sumitsingh, SergeyBiryukov, sabernhardt.
    Fixes #49008.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58778 602fd350-edb4-49c9-b593-d223f7449a82

commit 011709f47abf364ccd772b74a4aa85003c30f7d1
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 22 16:28:28 2024 +0000

    Twenty Sixteen: Fixes Quote block border width changes depending on font size.
    
    When the font size is changed the border on the front was changing in width. This fix resolves that to make sure the width does not adjust.
    
    Props nidhidhandhukiya, sabernhardt, kamran8176, pitamdey, shailu25.
    Fixes #60239.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58777 602fd350-edb4-49c9-b593-d223f7449a82

commit 9a65808c719609323e2315c9e6f21dc55bc531b6
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 22 15:34:51 2024 +0000

    Twenty Twelve: Fixes submenu hiding under slideshow block.
    
    Whilst initially this could be thought to be solved in Jetpack due to submenus only having a z-index of 1 a fix is desirable. This brings in the suggested value.
    
    Props robertghetau, SergeyBiryukov, sabernhardt, poena, narenin.
    Fixes #55892.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58776 602fd350-edb4-49c9-b593-d223f7449a82

commit f003fd07ba5da8dd0266715d3874250040eab605
Author: Riad Benguella <youknowriad@git.wordpress.org>
Date:   Mon Jul 22 10:00:09 2024 +0000

    Build Tools: Use umd builds provided by React instead of bundling our own builds.
    
    We tried moving away from the deprecated React UMD builds previously,
    the problem we faced is that there's a warning that is triggered on the console because we're not using a separate impact for `createRoot`.
    
    This warning has been removed in React 19 along with the removal of the UMD builds, so we should be able to revert this commit when we upgrade to React 19 but for now, we need to restore the usage of the umd builds.
    
    Props mamaduka.
    See #61324.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58775 602fd350-edb4-49c9-b593-d223f7449a82

commit 308271cd35c3c71548f6bece6746e67fc4aa6d89
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 21 18:56:45 2024 +0000

    I18N: Correctly output the `None` translatable strings.
    
    Includes updating the context to match the pre-existing block editor translations.
    
    Follow-up to [58284].
    
    Props sabernhardt, Marius84.
    Fixes #61714.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58774 602fd350-edb4-49c9-b593-d223f7449a82

commit 68b23387d752493e79f0a35190a8d495feb49b67
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 20 13:30:52 2024 +0000

    Media: Check if content URL includes a hostname in `wp_calculate_image_srcset()`.
    
    This resolves an `Undefined array key "host"` PHP warning if `WP_CONTENT_URL` is set to a relative URL.
    
    Follow-up to [58097].
    
    Props mattraines, narenin, pamprn, SergeyBiryukov.
    Fixes #61690.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58773 602fd350-edb4-49c9-b593-d223f7449a82

commit ffba41d28f6b3cfd3870ea6b6148efb3371be3c2
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 20 12:41:52 2024 +0000

    Twenty Fifteen: Fixes List Block with padding not having background color.
    
    The List Block when had padding was not displaying the background color correctly. This only impacts the non-framed editor.
    
    Props viralsampat, devtanbir, sabernhardt, deepakvijayan.
    Fixes #60197.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58772 602fd350-edb4-49c9-b593-d223f7449a82

commit 450de6b6ad44c5cf6b14c88352bec5888ed0abf8
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 20 10:55:14 2024 +0000

    Multiple themes Fixes theme screen reader including text inside card.
    
    The function twentysixteen_entry_meta included screen reader text inside the span property using the author mf class. This resolves that in both Twenty Sixteen and Twenty Fifteen. It should have the screen reader text inside the byline span but outside the author vcard span.
    
    Props dshanske, laurelfulford, sabernhardt, shilu25.
    Fixes #46233.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58771 602fd350-edb4-49c9-b593-d223f7449a82

commit 60f9f87210a449484ceb925e3a04b032bf3fae90
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Sat Jul 20 10:06:39 2024 +0000

    Twenty Twenty-Four: Fixes typos in pattern descriptions.
    
    There were a number of typos in the patterns. These came in [58111] with some additions having issues and so this resolves that.
    
    Props tobifjellner, sabernhardt, audrasjb.
    Fixes #61682.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58770 602fd350-edb4-49c9-b593-d223f7449a82

commit 0b179899a84f6b78e49ee7d2a92a78cb1f4f1651
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 19 23:42:14 2024 +0000

    HTML API: Add PHP type annotations.
    
    This patch adds type annotations to internal and private methods of the HTML
    API and the supporting WP_Token_Map. Annotations have not been added to the
    public interfaces where it would likely crash a site if called wrong.
    
    These annotations should help avoid unnecessary type-related bugs (as have
    been uncovered in earlier work adding such annotations) and provide additional
    guidance to developers when interacting with these classes in an IDE.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6753
    Discussed in https://core.trac.wordpress.org/ticket/61399
    
    Props dmsnell, jonsurrell.
    See #61399.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58769 602fd350-edb4-49c9-b593-d223f7449a82

commit e407bb078d8a5357977fc3eaab50ec81949e3b41
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 19 15:54:41 2024 +0000

    Docs: Correct `@return` value for `_get_block_templates_files()`.
    
    The function returns `null` if `$template_type` is not `wp_template` or `wp_template_part`.
    
    Follow-up to [52062].
    
    Props dilipbheda, mukesh27.
    Fixes #61705.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58768 602fd350-edb4-49c9-b593-d223f7449a82

commit f9d02a215453afcf4c924c22fe3fc97b5a8e0b57
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Jul 19 13:13:49 2024 +0000

    Build/Test Tools: Ensure `TARGET_SHA` is set for older branches.
    
    The `workflow_dispatch` event payload does not contain the `before` property containing the previous commit’s SHA value, which causes scheduled runs of the performance testing workflow in older branches to fail.
    
    This adds a step specifically for this event type to use native Git commands to retrieve the required SHA value instead.
    
    Props joemcgill.
    Fixes #61699.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58767 602fd350-edb4-49c9-b593-d223f7449a82

commit 5a30482419f1b0bcc713a7fdee3a14afd67a1bca
Author: Aaron Jorbin <jorbin@git.wordpress.org>
Date:   Thu Jul 18 18:02:17 2024 +0000

    General: Provide _is_utf8_charset() in compat.php for early use
    
    #61182 introduced is_utf8_charset() as a way of standardizing checks for charset slugs referring to UTF-8. This is called by _mb_strlen() inside of compat.php, but is_utf8_charset() is defined in functions.php, which isn't loaded early on. Code calling mb_strlen() early on before functions.php loads in hosts without the multibyte extension therefore may crash.
    
    Props dmsnell, jonsurrell, joemcgill, jorbin.
    Fixes #61681.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58763 602fd350-edb4-49c9-b593-d223f7449a82

commit 53f1c433ebf536ea369597eb723114fe2fdf6d43
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Jul 18 16:01:22 2024 +0000

    Editor: Update packages for 6.6.1.
    
    Bugfixes included:
    
    * [https://github.com/WordPress/gutenberg/pull/63637 Elements: Avoid specificity bump for top-level element-only selectors].
    * [https://github.com/WordPress/gutenberg/pull/63406 Navigation block: Allow themes to override block library text-decoration rule].
    * [https://github.com/WordPress/gutenberg/pull/63436 Fix invalid css for nested fullwidth layouts with zero padding applied].
    * [https://github.com/WordPress/gutenberg/pull/63397 Prevent empty void at the bottom of editor when block directory results are present].
    * [https://github.com/WordPress/gutenberg/pull/63291 Pattern overrides: Ensure "Reset" button always shows as last item and with border].
    * [https://github.com/WordPress/gutenberg/pull/63562 Global Styles: Disable "Reset styles" button when there are no changes].
    * [https://github.com/WordPress/gutenberg/pull/63093 Fix: Removed shuffle button when only 1 pattern is present].
    * [https://github.com/WordPress/gutenberg/pull/62675 fix: wp icon focus issue].
    * [https://github.com/WordPress/gutenberg/pull/63565 useBlockElement: return null until ref callback has time to clean up the old element].
    
    Props ellatrix.
    Fixes #61692.
    See #61660, #61630, #61656.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58757 602fd350-edb4-49c9-b593-d223f7449a82

commit f600e5409f43a2148c9bf7b29381ce216e7b23a7
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Jul 18 15:17:58 2024 +0000

    Coding Standards: Capitalize inline comment in get_comment_author() test dataset.
    
    Per coding standards, capitalizes the first character of the inline comment in the test dataset.
    
    Follow-up to [58755].
    
    Props SergeyBiryukov.
    See #61681.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58756 602fd350-edb4-49c9-b593-d223f7449a82

commit 9aa777d9f4a70666111f7a16e666ecbe6770a0d3
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Jul 18 15:08:01 2024 +0000

    Comments: Fix fatal error when get_comment_author() receives an object with no comment_id.
    
    [58335] introduced `(string)` type casting of the passed in `$comment_id` value. If `$comment_id` is a scalar, it works as expected. But if it's an `object`, the following fatal error is thrown:
    
    {{{
    Object of class WP_Comment could not be converted to string
    }}}
    
    This fatal error happens when the incoming `$comment_id` is an instance of `WP_Comment` (or any object) without a `comment_ID` (empty).
    
    This changeset adds tests to demonstrate the fatal error and validate the fix.
    
    It fixes the fatal error by restructuring the ternary checks into an `if/elseif/else` structure for the 3 paths:
    
    - When `$comment->comment_ID` is not empty, then it uses the property.
    - When `$comment_id` is scalar, then it type casts it to a `string`.
    - Else, the default is an empty `string`.
    
    Follow-up to [58335], [41127], [52818].
    
    Props ambrosiawt, hellofromTonya, jorbin, mukesh27, SergeyBiryukov.
    Fixes #61681.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58755 602fd350-edb4-49c9-b593-d223f7449a82

commit 8d2c73bff356a1956cae33670a633a591c7ea392
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Jul 18 14:09:50 2024 +0000

    Build/Test Tools: Remove regular 6.2 & 6.3 branch performance testing.
    
    Prior to WordPress 6.4, performance testing was performed using Puppeteer instead of Playwright (converted in [56926]). Because of the flaky nature of the workflow using Puppeteer, it was not converted to the reusable pattern implemented through #61213. It was instead removed from 6.2 and 6.3 in [58301] and [58330], respectively.
    
    This removes the workflow for these branches from the strategy matrix when testing old branches to avoid errors and adds an expanded note about why those branches are missing.
    
    See #61213, #61564.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58754 602fd350-edb4-49c9-b593-d223f7449a82

commit f2991061e4d8d0361dc725115e5eda9c49c2b1cf
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 18 13:46:07 2024 +0000

    Upgrade/Install: Add missing files from the sodium_compat v1.21.1 update.
    
    Follow-up to [58752].
    
    Props paulkevan.
    See #61686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58753 602fd350-edb4-49c9-b593-d223f7449a82

commit 05f261a0a3a222803ce1e8350b0a971ad4efd798
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 18 12:58:40 2024 +0000

    Upgrade/Install: Update sodium_compat to v1.21.1.
    
    The latest version of sodium_compat includes support for AEGIS and preliminary support for PHP 8.4.
    
    Additionally, the PHP 8.2+ `SensitiveParameter` attribute is now applied where appropriate to functions in the public API. This attribute is used to mark parameters that are sensitive and should be redacted from stack traces.
    
    References:
    * [https://github.com/paragonie/sodium_compat/releases/tag/v1.21.0 sodium_compat 1.21.0 release notes]
    * [https://github.com/paragonie/sodium_compat/releases/tag/v1.21.1 sodium_compat 1.21.1 release notes]
    * [https://github.com/paragonie/sodium_compat/compare/v1.20.0...v1.21.1 Full list of changes in sodium_compat 1.21.1]
    
    Follow-up to [49741], [51002], [51591], [52988], [54150], [54310], [55699].
    
    Props jrf, dd32, paragoninitiativeenterprises.
    Fixes #61686.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58752 602fd350-edb4-49c9-b593-d223f7449a82

commit dea027eac82ca7244eff421642562b2d75918e19
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Thu Jul 18 06:48:08 2024 +0000

    Block Themes: Fix invalid css for nested fullwidth layouts with zero padding applied
    
    In the Layout block support, handle 0 values for padding as 0px in calc()
    rules. This resolves a bug for nested fullwidth layouts when zero padding is
    applied. Due to how calc() works, without supplying the unit, the rule will not
    work, resulting in a horizontal scrollbar.
    
    Backports the PHP changes in https://github.com/WordPress/gutenberg/pull/63436.
    
    Fixes #61656.
    Props andrewserong, mukesh27, aaronrobertshaw.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58750 602fd350-edb4-49c9-b593-d223f7449a82

commit 842a353673e224f0258ab50e56dded1315da7a47
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Thu Jul 18 06:41:29 2024 +0000

    Block Themes: Avoid specificity bump for top-level element-only selectors
    
    Prevent issues (e.g. links being underlined) caused by a bump in CSS
    specificity for top-level element-only global element styles.
    
    Backports the PHP changes from https://github.com/WordPress/gutenberg/pull/63403.
    
    Fixes #61630.
    Fixes #61660.
    Props aaronrobertshaw, andrewserong, noisysocks.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58749 602fd350-edb4-49c9-b593-d223f7449a82

commit 340bf4c10d0c976501fc83c057a339ac68a4c8ec
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Thu Jul 18 00:50:16 2024 +0000

    Toolbar: Move user and recovery menus to a higher priority.
    
    Following [58215], admin bar items in the `top-secondary` group have a changed visual order. Increase the priority of the user and recovery menu items so nodes added with higher priorities will still be shown visually before the user and recovery menu items, as they were prior to 58215.
    
    The items will appear in the reverse of the previous order, but the new order now matches their priority order, rather than being the opposite.
    
    Props sabernhardt, joemcgill, pbiron, joedolson.
    Fixes #61615.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58748 602fd350-edb4-49c9-b593-d223f7449a82

commit 13fe3881eb1e11af6ed73175f58e60ee1faf2432
Author: Joe Dolson <joedolson@git.wordpress.org>
Date:   Wed Jul 17 23:35:11 2024 +0000

    Editor: Limit scope of resizable menu container CSS.
    
    The CSS to make menu item containers resizable in the admin menu editor was too broadly scoped, and caused classic editor metaboxes to have unconstrained height. Limit the scope of the CSS changes to only impact menu item containers.
    
    Props neotrope, sabernhardt, joedolson.
    Fixes #61662.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58747 602fd350-edb4-49c9-b593-d223f7449a82

commit b97bc0488491f5854a4117fc8532250c51285c67
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 17 15:41:06 2024 +0000

    Docs: Add missing description for the `display_rows()` method in list table classes.
    
    Follow-up to [15491], [17002], [27301].
    
    Props nikitasolanki1812, narenin, mukesh27, dd32, SergeyBiryukov.
    Fixes #61670.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58745 602fd350-edb4-49c9-b593-d223f7449a82

commit 3296c6b842adc5e7c8c78cd06db9ccca2ee56ce6
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Wed Jul 17 13:33:28 2024 +0000

    Upgrade/Install: Update the `$_old_files` array for 6.6.
    
    Props dd32, audrasjb, hellofromTonya.
    Fixes #61665.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58744 602fd350-edb4-49c9-b593-d223f7449a82

commit 2889f304aa8571065f83cc3a6276c87302c8cc8d
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 17 11:26:33 2024 +0000

    Docs: Fix typo in a comment in `wp.media.view.Attachment.Details.TwoColumn`.
    
    Follow-up to [41351].
    
    Props devansh2002, mukesh27.
    Fixes #61658.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58743 602fd350-edb4-49c9-b593-d223f7449a82

commit 48c0c968468b54ec2909317e1a9384c0943c0dd3
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Jul 17 00:51:34 2024 +0000

    Fix phpdoc nullable types in some files.
    
    It was found that in several places in the HTML API and its supporting files,
    the wrong form of type annotation was used for optional parameters.
    
    Instead of using `?type`, this patch uses `type|type-of-default-value` instead,
    noting where important if the parameter is optional, and if so, what its default
    value is.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7031
    Discussed in https://core.trac.wordpress.org/ticket/61399
    
    Props dmsnell, jonsurrell.
    See #61399.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58742 602fd350-edb4-49c9-b593-d223f7449a82

commit 8f11947d791c005cfed21fe2783e0a6c3e34fbf5
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Jul 17 00:33:21 2024 +0000

    HTML API: Test code improvements in virtual node breadcrumb tests.
    
    Follow-up after feedback to newly-introduced tests,
    mostly to enhance the message when the tests fail.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/7030
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Follow-up to [58592].
    
    Props dmsnell, jonsurrell.
    See #61646.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58741 602fd350-edb4-49c9-b593-d223f7449a82

commit 2f1cf1f3db26e189d0782c3ddbd83a95a387f2b3
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Jul 17 00:10:52 2024 +0000

    HTML API: Remove leading whitespace after removing class names.
    
    In part of a larger review of CSS semantics and behaviors, this patch
    takes the opportunity to remove leading whitespace in an updated class
    attribute after the first class in the attribute has been removed.
    
    Previously, if the first class name had been removed, the whitespace
    that formerly followed it would remain in the class attribute. This
    stood in contrast to removing other class names, which removed their
    associated whitespace.
    
    There should be no semantic or functional changes in this patch, only
    a slightly-large diff for modified HTML documents that looks prettier
    when removing the first class name in a class attribute.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6933
    Discussed in https://core.trac.wordpress.org/ticket/61531
    
    Props dmsnell, jonsurrell.
    See #61531.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58740 602fd350-edb4-49c9-b593-d223f7449a82

commit 81702ce6de2aa83096f76e3680ea8773f237674d
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Jul 16 18:37:46 2024 +0000

    Tests: Use data provider in Tests_Interactivity_API_wpInteractivityAPIFunctions.
    
    Refactors the following tests to use a data provider with named test cases:
    * `test_wp_interactivity_data_wp_context_with_different_arrays()`
    * `test_wp_interactivity_data_wp_context_with_different_arrays_and_a_namespace()`
    * `test_wp_interactivity_data_wp_context_with_json_flags()`
    
    This is better as:
    1. One failing test will not block the other tests from running.
    2. Each test is now referenced by name in any error message, making it more straight forward to see which test failed.
    3. The test no longer contains multiple assertions.
    3. It makes it more straight forward to add additional tests.
    
    Follow-up to [58594], [58234], [57762], [57743], [57742], [57563].
    
    Props jrf.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58739 602fd350-edb4-49c9-b593-d223f7449a82

commit a6d5694cde82b6a39a53ca0e9e348b7794b7bd26
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Jul 16 18:20:43 2024 +0000

    Tests: Don't declare nested named function in Tests_Interactivity_API_wpInteractivityAPIFunctions.
    
    Once the `test_process_directives_when_block_is_filtered()` method has run, the named `test_render_block_data()` function declared nested within becomes part of the global namespace, which could cause problems for other tests.
    
    Quite apart from the fact that the name starting with `test_`  is confusing (as methods prefixed with `test_` are supposed to be test methods to be run by PHPUnit).
    
    Using a closure for this callback fixes the issue. Declared as `static` for a micro-optimization.
    
    Follow-up to [57826].
    
    Props jrf, hellofromTonya.
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58738 602fd350-edb4-49c9-b593-d223f7449a82

commit bd61b0bf236ed9c04bbbb50fd9b34d1b94970c3c
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Jul 16 16:00:38 2024 +0000

    HTML API: Add tests confirming comment behavior in HTML Processor.
    
    There was a bug-fix late in the 6.6 cycle in the HTML Processor which
    resolved an issue with the wrong name being reported when paused at
    processing-instruction look-alike invalid comments, but no tests were
    added to enforce the correct behaviors.
    
    This patch adds the missing tests.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6765
    Discussed in https://core.trac.wordpress.org/ticket/61530
    
    Follow-up to [58304], [58558].
    
    Props dmsnell, jonsurrell.
    See #61530.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58734 602fd350-edb4-49c9-b593-d223f7449a82

commit 36ac310d825d2a5ff12ccbe7f886671fd9290afe
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Tue Jul 16 14:33:17 2024 +0000

    HTML API: Fix "${var} in strings" deprecation notice in html5lib test.
    
    Changeset [58712] introduced the following compile time PHP deprecation notice on >= PHP 8.2 test runs:
    
    {{{
    Deprecated: Using ${var} in strings is deprecated, use {$var} instead in /var/www/tests/phpunit/tests/html-api/wpHtmlProcessorHtml5lib.php on line 257
    PHPUnit 9.6.20 by Sebastian Bergmann and contributors.
    }}}
    
    The `${` syntax for string interpolation was deprecated in PHP 8.2 and should not be used anymore.
    
    Ref: https://wiki.php.net/rfc/deprecate_dollar_brace_string_interpolation
    
    Follow-up to [58712].
    
    Props jrf.
    See #61530, #59654, #61576.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58733 602fd350-edb4-49c9-b593-d223f7449a82

commit 606fcbd72526021b5d950809b1068f605a2bac73
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 16 13:20:18 2024 +0000

    Multiple themes: Comments Reply heading and Cancel reply link did not have spacing.
    
    This brings spacing in that was missing for both Twenty Seventeen and also Twenty Nineteen. It was missing between the words.
    
    Props pitamdey, sabernhardt, nidhidhandhukiya, poena.
    Fixes #59334.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58732 602fd350-edb4-49c9-b593-d223f7449a82

commit b64a068d2fe94cc66653c0106bf55606294fb01b
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 16 10:02:32 2024 +0000

    Multiple themes: Verse block font family different on front.
    
    The font family was not showing correctly for the verse block. The approach taken was to match the front end and this involved also removing the styles in [50358].
    
    Props pranitdugad, sabernhardt, poena, pitamdey.
    Fixes #61140.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58731 602fd350-edb4-49c9-b593-d223f7449a82

commit a7cdbdc82da691aa9e48f8e0d95c07777aa6490b
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 16 09:48:31 2024 +0000

    Twenty Fifteen: Fixes code block family being different in iframe editor.
    
    The font family was not being included for the code block. This adds Inconsolata to the code block within the editor styles.
    
    Props pranitdugad, sabernhardt.
    Fixes #61571.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58730 602fd350-edb4-49c9-b593-d223f7449a82

commit a87bac209b191db5bf07e3df2bfc6ba916e6fecd
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jul 16 09:42:38 2024 +0000

    Interactivity API: Use Script Modules filter for store & config data.
    
    A dedicated API exists for passing data to Script Modules implemented in changeset [58579].
    Use this Core API instead of a custom implementation for Interactivity API to pass data to the client.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6683.
    
    Props jonsurrell, gziolo, luisherranz, cbravobernal.
    Fixes #61512.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58729 602fd350-edb4-49c9-b593-d223f7449a82

commit da99a2b0caeed5eaf9ad0dbaa49673bf46f53df2
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 16 09:37:50 2024 +0000

    Twenty Sixteen: Fixes quote block border not changing color.
    
    The border was not changing color when it was changed. This brings that in. It is worth noting the original theme design did not have this but as noted in the ticket this has been in the quote block for about two years so matching the current block styling in this case makes sense.
    
    Props umesh84, desrosj, sabernhardt.
    Fixes #56565.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58728 602fd350-edb4-49c9-b593-d223f7449a82

commit 55208cc3ffcd580ee0c3a787d2ac85c79562ccb9
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 15 19:53:49 2024 +0000

    Twenty Twenty-Two: Fixes search block not showing selected border on bottom.
    
    The border was not showing on search block. This brings in a resolution for that removing the none from border property.
    
    Props viralsampat, poena, sabernhardt.
    Fixes #60669.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58727 602fd350-edb4-49c9-b593-d223f7449a82

commit 50defd69126367cec94048c0be2723edf2d38d74
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 15 19:43:18 2024 +0000

    Twenty Twenty-One: Fixes alignment of site title and navigation links.
    
    There was a text alignment issue not centering on all screen sizes. This fixes that and centers vertically.
    
    Props vijaysinh9094, poena, sabernhardt.
    Fixes #61633.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58726 602fd350-edb4-49c9-b593-d223f7449a82

commit ca7d79505cbfe3c103e5ef96487e2b00e3a3244e
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 15 18:10:03 2024 +0000

    Twenty Sixteen: Fixes button block letter spacing control.
    
    The button block had issues with font styling not applying. This not only brings letter-spacing but also line-height, text-transform and font-weight to wp-button-block-buttons. [57300] fixed the separator issue. This fix also added box-shadow none for consistency.
    
    Props darshitrajyaguru97, harshgajipara, shailu25, sabernhardt, alvitazwar052.
    Fixes #58609.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58725 602fd350-edb4-49c9-b593-d223f7449a82

commit 068eef95f951294501fae337122ce1871d6b832b
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 15 16:56:28 2024 +0000

    Twenty Fifteen: Fixes pullquote issues with text color and border
    
    Pullquote was not showing the color changes. This uses inherit to do that. It also removes the changes from [58368] as this method is preferred.
    
    Props viralsampat, poena, sabernhardt.
    Fixes #59801.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58724 602fd350-edb4-49c9-b593-d223f7449a82

commit 5e6e9a4f4bf9b8ddf93edf1ac56237a96776f14d
Author: Ella <ellatrix@git.wordpress.org>
Date:   Mon Jul 15 14:15:39 2024 +0000

    Editor: Update packages for 6.6 RC 4.
    
    This package update includes only one revert PR:
    
    https://github.com/WordPress/gutenberg/pull/63412
    
    You can confirm the changes in this package update here:
    
    https://github.com/WordPress/gutenberg/commits/wp/6.6/
    
    Fixes #61654.
    
    Props santosguillamot.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58719 602fd350-edb4-49c9-b593-d223f7449a82

commit f778b816873f1da0c02ceaf12f0682bd514f846d
Author: David Baumwald <davidbaumwald@git.wordpress.org>
Date:   Mon Jul 15 13:57:11 2024 +0000

    Bundled Themes: Bump default theme versions for release with 6.6.
    
    This updates the version of each default theme to the following versions:
    - Twenty Ten: 4.2
    - Twenty Eleven: 4.7
    - Twenty Twelve: 4.3
    - Twenty Thirteen: 4.2
    - Twenty Fourteen: 4.0
    - Twenty Fifteen: 3.8
    - Twenty Sixteen: 3.3
    - Twenty Seventeen: 3.7
    - Twenty Nineteen: 2.9
    - Twenty Twenty: 2.7
    - Twenty Twenty-One: 2.3
    - Twenty Twenty-Two: 1.8
    - Twenty Twenty-Three: 1.5
    - Twenty Twenty-Four: 1.2
    
    These versions will released in coordination with WordPress 6.6.
    
    Props sabernhardt, shail-mehta, rudlinkon.
    Fixes #60701.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58718 602fd350-edb4-49c9-b593-d223f7449a82

commit 5b0006ca9b5408aa73b6dc71fb5b3ebf85f497ec
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 15 01:57:22 2024 +0000

    Docs: Correct documentation for `_wp_preview_meta_filter()`.
    
    The `$single` parameter is passed via the `get_post_metadata` filter and has no default value.
    
    Includes minor code layout fixes for consistency with the formatting of other long conditionals in core.
    
    Follow-up to [56714].
    
    Props rodrigosprimo.
    Fixes #61645.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58717 602fd350-edb4-49c9-b593-d223f7449a82

commit 8afa3b92f4764f0ba6ea59cd44ca1cd2c14d476b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 14 03:45:12 2024 +0000

    Site Health: Correctly display auto-update status for parent theme.
    
    Follow-up to [47835], [48731].
    
    Props apermo.
    Fixes #61649. See #61648.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58716 602fd350-edb4-49c9-b593-d223f7449a82

commit 8616ad913aea19270939968b8ba5d3a1c78d5278
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 13 05:01:47 2024 +0000

    Filesystem API: Add a return value for `wp_delete_file()`.
    
    This addresses a discrepancy where using `unlink()` allows for checking if it was successful via the return value, but `wp_delete_file()` did not have a return value, making it impossible to verify the result without doing overhead checks if the file still exists.
    
    This also brings more consistency with the other `wp_delete_*()` functions, specifically:
    
    * `wp_delete_file_from_directory()`
    * `wp_delete_post()`
    * `wp_delete_post_revision()`
    * `wp_delete_attachment()`
    * `wp_delete_attachment_files()`
    * `wp_delete_comment()`
    * `wp_delete_nav_menu()`
    * `wp_delete_term()`
    * `wp_delete_site()`
    * `wp_delete_user()`
    
    Includes adding basic unit tests for `wp_delete_file()`.
    
    Follow-up to [31575].
    
    Props bedas, debarghyabanerjee, mukesh27, SergeyBiryukov.
    Fixes #61590.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58715 602fd350-edb4-49c9-b593-d223f7449a82

commit b64bb900e894f46a6d67eecb62901bffc2486ecb
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 12 22:27:20 2024 +0000

    HTML API: Add context to Unsupported_Exception class for improved debugging.
    
    The HTML Processor internally throws an exception when it reaches HTML
    that it knows it cannot process, but this exception is not made
    available to calling code. It can be useful to extract more knowledge
    about why it gave up, especially for debugging purposes.
    
    In this patch, more context is added to the WP_HTML_Unsupported_Exception
    and the last exception is made available to calling code through a new
    method, `get_unsupported_exception()`.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6985
    Discussed in https://core.trac.wordpress.org/ticket/61646
    
    Props bernhard-reiter, dmsnell, jonsurrell.
    See #61646.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58714 602fd350-edb4-49c9-b593-d223f7449a82

commit 4eec5cb9787ee18b8a4a1f7cbc28e861a885be55
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 12 22:18:16 2024 +0000

    HTML API: Simplify breadcrumb accounting.
    
    Since the HTML Processor started visiting all nodes in a document, both
    real and virtual, the breadcrumb accounting became a bit complicated
    and it's not entirely clear that it is fully reliable.
    
    In this patch the breadcrumbs are rebuilt separately from the stack of
    open elements in order to eliminate the problem of the stateful stack
    interactions and the post-hoc event queue.
    
    Breadcrumbs are greatly simplified as a result, and more verifiably
    correct, in this construction.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6981
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58590].
    
    Props bernhard-reiter, dmsnell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58713 602fd350-edb4-49c9-b593-d223f7449a82

commit cd3bf1b6fc6afec1aee47b0c3dd232c249a3772c
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 12 21:58:20 2024 +0000

    HTML API: Join successive text nodes in html5lib test representation.
    
    Many tests from the html5lib test suite fail because of differences in
    text handling between a DOM API and the HTML API, even though the
    semantics of the parse are equivalent. For example, it's possible in
    the HTML API to read multiple successive text nodes when the tokens
    between them are ignored.
    
    The test suite didn't account for this and so was failing tests. This
    patch improves the construction of the representation to compare
    against the test suite so that those tests don't fail inaccurately.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6984
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props bernhard-reiter, dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58712 602fd350-edb4-49c9-b593-d223f7449a82

commit 7f697bceb1655d16a62561c02f432c14d30b5d88
Author: Joe McGill <joemcgill@git.wordpress.org>
Date:   Fri Jul 12 19:24:12 2024 +0000

    Editor: Revert caching of global styles for blocks.
    
    This reverts [58334] to fix a bug where edits to block styles made in the site editor were not showing in the front end.
    
    Props joemcgill, spacedmonkey, andrewserong, hellofromtonya, audrasjb.
    See #59595.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58710 602fd350-edb4-49c9-b593-d223f7449a82

commit ad135d5f0ac9cf0494da92fcf4235672868a1ff4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 12 03:34:52 2024 +0000

    KSES: Add `opacity` to the list of safe CSS properties.
    
    Original PR from Gutenberg repository:
    * [https://github.com/WordPress/gutenberg/pull/59891 #59891 Update overlay step function in cover block]
    
    Reference: [https://developer.mozilla.org/en-US/docs/Web/CSS/opacity MDN Web Docs: opacity].
    
    Props sunil25393, wildworks, poena, Mamaduka, presstoke.
    Fixes #61536.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58709 602fd350-edb4-49c9-b593-d223f7449a82

commit 18250a40cb411dfb56b5884956ea793db78796d9
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Fri Jul 12 01:32:24 2024 +0000

    Editor: remove Group inner container from Grid variation in classic themes.
    
    Updates the logic in the layout filter that replaces the Group block inner container in classic themes to exclude the Grid variation.
    
    Props isabel_brison, aaronrobertshaw, andrewserong.
    See #61635.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58708 602fd350-edb4-49c9-b593-d223f7449a82

commit f1489fbc81fa9e053982a9a8df5ebf1839fca728
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Thu Jul 11 13:38:30 2024 +0000

    Docs: Fix multi-line inline comments in WP_REST_Templates_Controller.
    
    Converts single inline comment formatting into multi-line inline comment formatting, per the coding standards.
    
    Ref: https://developer.wordpress.org/coding-standards/inline-documentation-standards/php/#5-inline-comments
    
    Follow-up to [58303], [57366].
    
    See #61608.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58707 602fd350-edb4-49c9-b593-d223f7449a82

commit 349590c8135b003857b47ff1a4636dc283d8b71c
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 11 06:22:51 2024 +0000

    Docs: Fix typos in various REST API DocBlocks and comments.
    
    Follow-up to [34928], [43739], [46422], [50717], [51973], [54528].
    
    Props antonvlasenko.
    Fixes #61593.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58706 602fd350-edb4-49c9-b593-d223f7449a82

commit 8557f28456e17e25bc63f472b20df613a41f29a1
Author: Tonya Mork <hellofromTonya@git.wordpress.org>
Date:   Wed Jul 10 21:23:38 2024 +0000

    REST API: Ensure string returned in WP_REST_Templates_Controller::get_wp_templates_author_text_field().
    
    Adds a fail-safe to return an empty string should the `switch` ever fall through without returning.
    
    Currently, `WP_REST_Templates_Controller::get_wp_templates_author_text_field()` is tightly coupled to `WP_REST_Templates_Controller::get_wp_templates_original_source_field()`. However, if the `$original_source` values change in either method, but not both, it is possible a `void` or `null` will be returned, rather than a `string`.
    
    Follow-up to [57366].
    
    Props antonvlasenko, hellofromTonya, debarghyabanerjee.
    Fixes #61580.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58705 602fd350-edb4-49c9-b593-d223f7449a82

commit 9cff1de6b3adcf8767bfc60c4e71b5cce81f0e1b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 10 11:10:44 2024 +0000

    Docs: Correct `@return` values for a few REST API class methods.
    
    Includes listing the expected type first, instead of `WP_Error`.
    
    Follow-up to [39031], [39033], [46696], [49927], [49929], [50993], [51286], [51973], [52079], [52286], [53152], [56415].
    
    Props antonvlasenko.
    See #61593.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58704 602fd350-edb4-49c9-b593-d223f7449a82

commit e41df7cb12c240e3cfc6d38b8e87fa56fb2511f5
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Wed Jul 10 06:17:44 2024 +0000

    Editor: enqueue block custom CSS only when block renders on the page.
    
    Updates the global styles custom CSS handling logic to be consistent with other global styles and take advantage of conditional enqueuing of block styles.
    
    Props isabel_brison, aaronrobertshaw, andrewserong.
    Fixes #61395.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58703 602fd350-edb4-49c9-b593-d223f7449a82

commit aec4f0b339a9195898f5c9d36a65bd775fd4b62b
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Jul 9 21:43:11 2024 +0000

    HTML API: Correct node name in `generate_implied_end_tags()`.
    
    The `generate_implied_end_tags()` algorithm has been comparing the
    current node to a list of node names, which means that it won't ever
    pop any elements from the stack of open elements.
    
    This patch corrects the mistake by comparing node name against the
    list, thus fixing the algorithm. This was noted in development work
    for the 6.7 release.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6988
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58702 602fd350-edb4-49c9-b593-d223f7449a82

commit 80112f24ab0d0edce44097e4ed21ecdb933d8806
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 9 13:51:12 2024 +0000

    REST API: Remove a few unused variables in `foreach` loops.
    
    Follow-up to [38832], [48173], [49132], [49925].
    
    Props antonvlasenko.
    See #61593.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58694 602fd350-edb4-49c9-b593-d223f7449a82

commit 3b90d9403a1fd390cd8d12df94142a5326e5936b
Author: Ella <ellatrix@git.wordpress.org>
Date:   Tue Jul 9 13:43:14 2024 +0000

    Editor: Update packages for 6.6 RC 3.
    
    Fixes #61603.
    Fixes https://github.com/WordPress/wordpress-develop/pull/6998.
    See https://make.wordpress.org/core/handbook/about/release-cycle/block-editor-release-process-for-major-releases/#package-updates-and-core-patches.
    
    Props ellatrix, youknowriad.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58693 602fd350-edb4-49c9-b593-d223f7449a82

commit 4a2c9c5389dd0d4e34aedeabd3f67f2f325ae7c7
Author: Ella <ellatrix@git.wordpress.org>
Date:   Tue Jul 9 10:22:10 2024 +0000

    Section Styles: Fix ref values within block style variations.
    
    Fixes #61589.
    Fixes https://github.com/WordPress/wordpress-develop/pull/6989.
    See https://github.com/WordPress/gutenberg/pull/63172.
    
    Props aaronrobertshaw, andrewserong, ramonopoly.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58691 602fd350-edb4-49c9-b593-d223f7449a82

commit 5c4543964581256a4dad09b9328f380cb61229e5
Author: Ella <ellatrix@git.wordpress.org>
Date:   Tue Jul 9 10:00:48 2024 +0000

    Section Styles: Prevent flash of variation style updates.
    
    This is fixed by preloading the styles.
    
    Fixes #61589.
    Fixes https://github.com/WordPress/wordpress-develop/pull/6989.
    See https://github.com/WordPress/gutenberg/pull/63172.
    
    Props aaronrobertshaw, andrewserong, ramonopoly.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58690 602fd350-edb4-49c9-b593-d223f7449a82

commit ebe6f5aecd816f1156d2abafbc1bbd67a76f9fbd
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 8 15:42:09 2024 +0000

    Twenty Sixteen: Fixes pullquote issues with border spacing.
    
    Pullquote spacings wasn't reflected on front when using border settings. This caused double borders which was due to styling but this was done before optional borders were implemented. The pull request chosen presumes when you have an external border you no longer want the internal one but does look visually better.
    
    Props nidhidhandhukiya, huzaifaalmesbah, poena, sabernhardt.
    Fixes #59754.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58689 602fd350-edb4-49c9-b593-d223f7449a82

commit baa8c7fe0d994da99cbd2c66a2e5349f06c3e51a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 8 13:23:42 2024 +0000

    REST API: Correct variable type in `WP_Rest_Server::serve_batch_request_v1()`.
    
    `wp_parse_str()` expects an array as the second parameter.
    
    Follow-up to [49252].
    
    Props antonvlasenko.
    See #61593.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58688 602fd350-edb4-49c9-b593-d223f7449a82

commit b9e2bd9922cb22254c7e3134527eb29e4e2910c5
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 8 10:43:22 2024 +0000

    Twenty Seventeen: Fixes front page panels allow pages of any status to be shown.
    
    If you have a published page set to a section but also private, draft, pending or trash at some point in the future it was still showing on the homepage. There was no clarity to the user what was happening. This adds in a check to the post_status variable before displaying panel content and adjusts the customizer to show a placeholder if the page is draft,trashed,deleted.
    
    Props brettshumaker, sabernhardt.
    Fixes #46604.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58687 602fd350-edb4-49c9-b593-d223f7449a82

commit bd8f45f3bc8d7a2be2d962d41efc57fca3d28b80
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Mon Jul 8 08:29:24 2024 +0000

    Twenty Fourteen: Updates styles for Table block and figure captions.
    
    There were multiple discrepancies between the editor and front end with [58399] matched incorrect border color due to specificity. This resolves that and also includes issues not caught in [60293]. The full list of what this does is in ticket but a summary is reduces specificity for table cell border, removes border color rules, replaces selectors and adds wrapper so alignment changes within the iframe.
    
    Props sabernhardt.
    Fixes #61563.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58686 602fd350-edb4-49c9-b593-d223f7449a82

commit 87d24ded54bd8bf6644086920cba5d3c17bed669
Author: Isabel Brison <isabel_brison@git.wordpress.org>
Date:   Mon Jul 8 06:39:39 2024 +0000

    Editor: fix root padding for alignwide blocks.
    
    Updates the root padding CSS selectors so wide width container blocks with constrained layout don’t receive padding.
    
    Props isabel_brison, mukesh27, aaronrobertshaw.
    Fixes #61587.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58685 602fd350-edb4-49c9-b593-d223f7449a82

commit e3e7fdbf7c3fd9f04871118a16b98f1544e94984
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jul 7 12:42:44 2024 +0000

    Code Modernization: Replace `substr( PHP_OS, 0, 3 )` calls with `PHP_OS_FAMILY`.
    
    The `PHP_OS_FAMILY` constant indicates the operating system family PHP was built for, and is available as of PHP 7.2.0.
    
    Reference: [https://www.php.net/manual/en/reserved.constants.php#constant.php-os-family PHP Manual: Predefined Constants: PHP_OS_FAMILY].
    
    Follow-up to [23255], [57753], [57985], [58678].
    
    Props ayeshrajans, jrf.
    See #61574.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58684 602fd350-edb4-49c9-b593-d223f7449a82

commit 55e0fafbbfaafad50adda1031ef54dc08506ac9a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 6 15:05:37 2024 +0000

    Code Modernization: Simplify a conditional in `wp_is_ini_value_changeable()`.
    
    This commit reverts the code to the code from before the bug fix related to PHP 5.2.6–5.2.17.
    
    As support for PHP 5.2 has been dropped, the workaround for the PHP 5.2 bug is no longer needed.
    
    Follow-up to [38015], [38017], [44950], [45058], [57985], [58678], [58682].
    
    Props jrf, ayeshrajans.
    See #61574.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58683 602fd350-edb4-49c9-b593-d223f7449a82

commit 9de2177c4c77e05e4ae64d525ef3c17c8ab6845b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jul 6 14:52:05 2024 +0000

    Code Modernization: Remove obsolete comments about older PHP versions.
    
    This commit:
    * Removes various comments referencing PHP versions which are no longer supported.
    * Removes various comments containing “hints” of things to do after a particular PHP version drop. These hints are incorrect/not actionable for various reasons, so have no value:
     * Even though a function could be turned into a closure, removing the function would be a backward compatibility break which is not acceptable, so this suggestion is not actionable.
     * Short ternaries are forbidden by the coding standard exactly to prevent the faulty code suggested in the comment from getting into the codebase.
    
    Follow-up to [1243/tests], [6543], [11816], [29861], [29864], [34928], [35369], [36698], [38694], [50786], [58678].
    
    Props jrf, ayeshrajans.
    See #61574.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58682 602fd350-edb4-49c9-b593-d223f7449a82

commit f90c8bf1ae620b7568851f6d6e155223a8a6bf73
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Sat Jul 6 10:18:03 2024 +0000

    HTML API: Respect `tag_name` query arg in `HTML_Processor::next_tag()`
    
    Previously the HTML Processor was ignoring the `tag_name` argument in
    the `next_tag()` query if it existed. This was wrong adn would lead to
    calling code finding the very next tag, regardless of tag name, instead
    of the requested taag.
    
    This patch adds the tag name detection code into `next_tag()` to fix
    the bug and ensure that `next_tag()` always returns only when finding
    a tag of the given name.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6980
    Discussed in https://core.trac.wordpress.org/ticket/61581
    
    Follow-up to [56274].
    
    Fixes #61581.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58681 602fd350-edb4-49c9-b593-d223f7449a82

commit ce10b4c75cf8e2009294d3f5e16a4ecba3ba0f80
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 5 22:21:35 2024 +0000

    HTML API: Fix wrong @since tag.
    
    When the remaining insertion modes were stubbed in the HTML Processor,
    a `@since` tag was mistakenly copied with 6.4.0 instead of 6.7.0.
    
    This patch fixes the invalid tag.
    
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Follow-up to [58679].
    
    Props tobiasbg.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58680 602fd350-edb4-49c9-b593-d223f7449a82

commit 6763e5dbb8b78b08b7d49236baa47bd01eaefc46
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 5 16:37:41 2024 +0000

    HTML API: Stub out remaining insertion modes in the HTML Processor.
    
    As part of work to add more spec support to the HTML API, this patch adds
    stubs for all of the remaining parser insertion modes in the HTML Processor.
    These modes are not all supported yet, but they will be necessary to continue
    adding support for other tags and markup.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6973
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58679 602fd350-edb4-49c9-b593-d223f7449a82

commit aa11864a1eb09d6b12e51e585bdc6dd698c182a4
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jul 5 10:10:50 2024 +0000

    Code Modernization: Remove obsolete code targeting PHP < 7.2.24.
    
    Follow-up to [44488], [45262], [53426], [57985].
    
    Props ayeshrajans, jrf.
    See #61574.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58678 602fd350-edb4-49c9-b593-d223f7449a82

commit c1154f9d06fad5db7c4042820a7055e6e59b38de
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Fri Jul 5 00:50:19 2024 +0000

    HTML API: Support SELECT insertion  mode.
    
    As part of work to add more spec support to the HTML API, this patch adds
    support for the SELECT, OPTION, and OPTGROUP elements, including the
    requisite support for the IN SELECT insertion mode.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/5908
    Discussed in https://core.trac.wordpress.org/ticket/61576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58677 602fd350-edb4-49c9-b593-d223f7449a82

commit fee822de6ba5c586b20131e4882a62a8f73e9af3
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Jul 4 23:14:44 2024 +0000

    HTML API: Add `current_node_is()` helper method to stack of open elements.
    
    As part of work to add more spec support to the HTML API, this new method
    will make it easier to implement the logic when in the SELECT and TABLE
    insertion modes.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6968
    Discussed in https://core.trac.wordpress.org/ticket/51576
    
    Props dmsnell, jonsurrell.
    See #61576.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58676 602fd350-edb4-49c9-b593-d223f7449a82

commit 82deed39a56f46bccde20724065ef0d50455f3a7
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Jul 4 21:59:34 2024 +0000

    Users: Avoid ambiguous password reset URLs for usernames ending in a period.
    
    When WordPress sends out a password-reset or new-user email, it generates
    a link for someone to follow in order to take them to the reset page. If
    the user login name ends in a period, however, that generated URL will
    end in a period and many email clients will confuse it with a
    sentence-ending period instead of being part of the query arguments.
    
    In this patch, the generated URL's query argument are rearranged so that
    the link will never end in a period. Alternative ideas were explored to
    create a new function to escape URL-ending periods, but this patch resolves
    the reported problem without raising any further architectural questions.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6834
    Discussed in https://core.trac.wordpress.org/ticket/42957
    
    Props audrasjb, costdev, daveagp, dmsnell, hellofromTonya, markparnell, mukesh27, nhrrob, obrienlabs, paulcline.
    Fixes #42957.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58674 602fd350-edb4-49c9-b593-d223f7449a82

commit 70bad67ef1aa3a329ba69ed461345ca9d6bdbd04
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jul 4 15:09:15 2024 +0000

    Tests: Use `assertSame()` in `WP_REST_Global_Styles_Revisions_Controller` tests.
    
    This ensures that not only the return values match the expected results, but also that their type is the same.
    
    Going forward, stricter type checking by using `assertSame()` should generally be preferred to `assertEquals()` where appropriate, to make the tests more reliable.
    
    Follow-up to [56082].
    
    See #61573.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58673 602fd350-edb4-49c9-b593-d223f7449a82

commit 922949fb97334ec0bff551afb0bd8116ff8ade7c
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Jul 4 11:20:33 2024 +0000

    Docs: Update AJAX in Plugins HelpHub link to avoid unnecessary redirection.
    
    Follow-up to [17045], [20713], [41065], [45674], [55412], [57854], [58131], [58132].
    
    Props shailu25.
    See #60732, #60699.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58672 602fd350-edb4-49c9-b593-d223f7449a82

commit 80b7747ef165dd5ed0150003a8c2f957f097609e
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Thu Jul 4 04:18:52 2024 +0000

    Help/About: Update performance improvements string.
    
    Updates the performance improvements string with the finalized percentage improvement in the editor and to improve styling and language consistency.
    
    Props ryelle, annezazu, peterwilsoncc.
    Fixes #61320.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58671 602fd350-edb4-49c9-b593-d223f7449a82

commit 28930fc10907782bd560ba810b8c1f0fe4c74521
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Wed Jul 3 17:05:46 2024 +0000

    HTML API: Implement the _reset insertion mode appropriately_ algorithm.
    
    In order to add support for the SELECT and TABLE tags in the HTML Processor, it
    needs to implement the HTML algorithm named "reset the insertion mode
    appropriately".
    
    This patch implements that algorithm to unblock the additional tag support. The
    algorithm resets the parsing mode after specific state changes in complicated
    situations where alternative rules are in effect (such as rules governing how
    the parser handles tags found within a TABLE element).
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6020
    Discussed in https://core.trac.wordpress.org/ticket/61549
    
    Props dmsnell, jonsurrell.
    Fixes #61549.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58656 602fd350-edb4-49c9-b593-d223f7449a82

commit e65f0f261fc2a7b09f8dd951b4a77aac05b4c274
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Jul 3 16:28:48 2024 +0000

    Build/Test Tools: Fix workflow names in test old branches workflow.
    
    After the changes in [58165] and [58645] and all associated backports, the workflow that dispatches regular testing in older branches needed to be updated.
    - The `test-npm.yml` workflow no longer exists.
    - The `test-build-processes.yml` has taken the place of `test-npm.yml` in all branches.
    
    Also, the workflow will now run whenever an old version of the reusable PHPUnit workflow is updated (v1 or v2). This is to ensure the changes don’t cause any compatibility problems in older branches.
    
    See #61213.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58654 602fd350-edb4-49c9-b593-d223f7449a82

commit 5466b9c82674c30c885076fce8b99b4bfece8ab0
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jul 3 16:08:55 2024 +0000

    Users: Pass the previous state of the user as context to the `wp_set_password` hook.
    
    Follow-up to [55056], [55250].
    
    Props dd32.
    Fixes #61541.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58653 602fd350-edb4-49c9-b593-d223f7449a82

commit 4454f4aa2c6dd18b0a68a01c766b56b4a4d63d01
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Wed Jul 3 15:51:48 2024 +0000

    Build/Test Tools: Rename current reusable PHPUnit workflow.
    
    This adds a ` -v3` suffix to the current reusable PHPUnit workflow name. This avoids having to update older branches in the future when the workflow’s logic drastically changes and a `v4` is needed.
    
    See #61213.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58645 602fd350-edb4-49c9-b593-d223f7449a82

commit 6d40ef3adf053ba0d8d81e13163686d037e2588f
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jul 3 11:02:50 2024 +0000

    Twenty Sixteen: Fixes editor styles for table and calendar blocks and captions.
    
    The table and calendar block font sizes were not as expected on front end within editor. This includes changes for header cells (th), removes redundant font size rules, corrects font-weight and updates figcaption selector along with editing text alignment and adding RTL font selection.
    
    Props nidhidhandhukiya, sabernhardt, sheulyshila, iamfarhan09, bijit027, jannathsyeda, pooja1210, shailu25, hmbashar.
    Fixes #58355.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58635 602fd350-edb4-49c9-b593-d223f7449a82

commit a28522877e030c0cea267875843ec7ed29e7d41b
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jul 3 10:45:35 2024 +0000

    Twenty Seventeen and Twenty Ten: Fixes gallery captions being at the bottom of images.
    
    The margin specified in this theme caused issues when the gallery was placed in another block. This fix covers both themes as the selector is used within both.
    
    Props pevogam, sabernhardt.
    Fixes #58362.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58634 602fd350-edb4-49c9-b593-d223f7449a82

commit de74333c46f6f6f166d6ac90fc0a8267199060e3
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jul 3 10:27:33 2024 +0000

    Twenty Ten: Fixes table and calendar block font size issues.
    
    The table and calendar block font sizes were not the same on front and in editor. This resolves in using relative line-height.
    
    Props iamfarhan09, bijit027, sabernhardt.
    Fixes #58362.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58633 602fd350-edb4-49c9-b593-d223f7449a82

commit 2930212ff6bf6619d026f525ceab2719c5229597
Author: Robert Anderson <noisysocks@git.wordpress.org>
Date:   Tue Jul 2 23:23:23 2024 +0000

    Themes: add "description" key to i18n schema
    
    Add "description" key to the theme.json i18n schema.
    
    Follows r56041.
    Fixes #61543.
    Props ramonopoly, oandregal.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58632 602fd350-edb4-49c9-b593-d223f7449a82

commit ea3327ab6ee2cecc5ac1a006cf06927856383ab9
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Tue Jul 2 21:45:18 2024 +0000

    HTML API: Add missing insertion mode constants.
    
    As the HTML Processor starts to support other insertion modes outside of
    "IN BODY" it needs to be aware of those other modes. This patch
    introduces the missing insertion modes in preparation for adding that
    support.
    
    Extracted as necessary prep work to the following more complete change:
    https://github.com/WordPress/wordpress-develop/pull/6020
    
    Props jonsurrell.
    See #61549.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58631 602fd350-edb4-49c9-b593-d223f7449a82

commit d510058b793eb2deedb41ce1a6ec631ccdd6d5d5
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 2 20:46:46 2024 +0000

    Twenty Nineteen: Fixes font size and citation display for Pullquote block.
    
    The pullquote block text decoration was not the same front and within the editor. This resolves that and resets.
    
    Props pitamdey, viralsampat, sabernhardt.
    Fixes #61507.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58630 602fd350-edb4-49c9-b593-d223f7449a82

commit f1a3d209ba391140bf0cf2720a9faa1824ba213d
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 2 20:34:04 2024 +0000

    Twenty Twenty-One: Resolves bug on primary navigation.
    
    The primary navigation was stuck in a vertical list when resize. This resolves that with positioning.
    
    Props nek285, mukesh27.
    Fixes #52663.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58629 602fd350-edb4-49c9-b593-d223f7449a82

commit 24646a4313e563eb62511cf1e477a06e07779660
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Tue Jul 2 19:59:17 2024 +0000

    Twenty Nineteen: Adds center alignment to Archives and Categories List blocks.
    
    When selecting center alignment for Archives or Categories List blocks the alignment was not matching. It is worth noting this fixes for these blocks but another ticket could be made to fix for titles.
    
    Props pranitdugad, sabernhardt.
    Fixes #47044.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58627 602fd350-edb4-49c9-b593-d223f7449a82

commit 67aa1d99bdf5ef136b360131a9ada662290d49e1
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Tue Jul 2 17:44:50 2024 +0000

    Login and Registration: Remove redundant escaping in `wp-login.php`.
    
    * `$user_login` in the `login` action is already escaped on output.
    * `$user_login` and `$user_email` in the `register` action are already unslashed a few lines above.
    
    Follow-up to [3120], [4339], [8454], [11104], [23416], [23554], [23594], [46640].
    
    Props johnjamesjacoby, rajinsharwar, narenin.
    Fixes #55335.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58623 602fd350-edb4-49c9-b593-d223f7449a82

commit 6af639581727ae631d2d7e9c99106f93f11f00fa
Author: Kelly Choyce-Dwan <ryelle@git.wordpress.org>
Date:   Tue Jul 2 15:13:13 2024 +0000

    Help/About: Add images to the About page.
    
    The images have been uploaded to the w.org CDN and added into the About page. Additionally, the link to the release page has been fixed, and an extra translator note about the escaped percent sign has been added.
    
    Follow-up to [58568].
    
    Props ryelle, joen.
    See #61320.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58618 602fd350-edb4-49c9-b593-d223f7449a82

commit 486c9a2d80405d165ae8dbce963d03301bf6ecf3
Author: Ella <ellatrix@git.wordpress.org>
Date:   Tue Jul 2 14:51:16 2024 +0000

    Editor: Update packages for 6.6 RC 2.
    
    Fixes #61548.
    Fixes https://github.com/WordPress/wordpress-develop/pull/6953.
    
    See https://make.wordpress.org/core/handbook/about/release-cycle/block-editor-release-process-for-major-releases/#package-updates-and-core-patches.
    
    Props ellatrix, youknowriad.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58617 602fd350-edb4-49c9-b593-d223f7449a82

commit d77bb088452293775e2f16225141ceff9994b171
Author: Colin Stewart <costdev@git.wordpress.org>
Date:   Tue Jul 2 11:50:53 2024 +0000

    Plugins: Remove extra paragraph from plugin row dependency notice.
    
    In `WP_Plugins_List_Table::add_dependencies_to_dependent_plugin_row()`, a `sprintf()` call previously wrapped the `%2$s` placeholder in paragraph tags.
    
    [57769] changed the placeholder's value to use `wp_get_admin_notice()`, which returns a paragraph-wrapped notice by default. As a result, the previous paragraph tags produced an extra, empty paragraph.
    
    This removes the paragraph tags around the `%2$s` placeholder.
    
    Follow-up to [57545], [57714], [57769].
    
    Props mukesh27.
    Fixes #61546.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58616 602fd350-edb4-49c9-b593-d223f7449a82

commit a2bb45dfad75fe48943632d57788a97333a4ebd9
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jul 2 10:41:33 2024 +0000

    Block Hooks: Fix a number of multi-line comment openers.
    
    Add the missing second asterisk to a number of multi-line comment openers, and remove a superfluous second asterisk from two others.
    
    Follow-up to [58614].
    Props mukesh27.
    See #60854.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58615 602fd350-edb4-49c9-b593-d223f7449a82

commit fdebb53bfe309d3b74502adbd6fe50f3531e2149
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Tue Jul 2 10:01:17 2024 +0000

    Block Hooks: Allow child insertion into Template Part block.
    
    The Block Hooks mechanism was previously extended to allow insertion of a block as a Navigation block's first or last child. This was implemented by storing the `ignoredHookedBlocks` array in the corresponding `wp_navigation` post's post meta (instead of a metadata attribute on the anchor block).
    
    This changeset extends that mechanism to Template Part blocks, by storing said metadata in the corresponding `wp_template_part` post's post meta, thus allowing extenders to use Block Hooks to insert a block as a Template Part block's first or last child, respectively.
    
    Props tomjcafferkey, bernhard-reiter.
    Fixes #60854.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58614 602fd350-edb4-49c9-b593-d223f7449a82

commit cf064ef249931cfce2af007ec3a95b22b088c191
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Mon Jul 1 23:34:19 2024 +0000

    HTML API: Optimize low-level parsing details in Tag Processor.
    
    Introduces a number of micro-level optimizations in the Tag Processor to
    improve token-scanning performance. Should contain no functional changes.
    
    Based on benchmarking against a list of the 100 most-visited websites,
    these changes result in an average improvement in performance of the Tag
    Processor for scanning tags from between 3.5% and 7.5%.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6890
    Discussed in https://core.trac.wordpress.org/ticket/61545
    
    Follow-up to [55203].
    
    See #61545.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58613 602fd350-edb4-49c9-b593-d223f7449a82

commit 80409a2420c3766e54ef120cf9043e041c3372dd
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Mon Jul 1 20:43:55 2024 +0000

    REST API: Correct image cropping tools in the block editor.
    
    As of [58457], the width and height cropping values are cast to an integer before the comparison to see if the target width and height differ from the original width and height.
    
    Since they are now integers, it exposes a bug where the `&&` of the `if` conditional meant that if you were only cropping in one dimension, the check wouldn't pass, and cropping would not occur.
    
    In the block editor, the cropping tools are aspect ratio based, so one of the dimensions will always match that of the source image. Therefore, now that the values are cast as integers, the condition that allows a cropping to occur needs to be updated. If either width or height is different from the source image, then a crop should be allowed.
    
    Follow-up to [50124], [58457].
    
    Props andrewserong, jrf, kevin940726.
    Fixes #61514. See #59782.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58612 602fd350-edb4-49c9-b593-d223f7449a82

commit 6645c75e54c377d5adccc8e065562514f89a5427
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sun Jun 30 14:56:23 2024 +0000

    Date/Time: Correct singular form for minutes in `human_time_diff()`.
    
    Follow-up to [58600].
    
    Props wildworks.
    See #61535.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58601 602fd350-edb4-49c9-b593-d223f7449a82

commit 57910f67dd4ba8b1db1a5699be916ce0c805a69b
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Sat Jun 29 09:29:08 2024 +0000

    Date/Time: Replace abbreviations for minutes in `human_time_diff()`.
    
    This ensures that relative times are formatted the same way in both JS and PHP.
    
    Follow-up to [1976], [2124], [4658], [41018], [56496].
    
    Props wildworks.
    Fixes #61535.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58600 602fd350-edb4-49c9-b593-d223f7449a82

commit d3ac93a93839fbe5e441309607786bacdad755cd
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Jun 28 18:19:51 2024 +0000

    Build/Test Tools: Allow older branches to use Coding Standards workflow.
    
    This updates the reusable coding standards GitHub Actions workflow to support the old way of running PHPCS commands when the `old-branches` input flag is set to `true`. This allows the 5.1-5.4 branches to use the same workflow as all other 5.5+ branches.
    
    See #61213.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58596 602fd350-edb4-49c9-b593-d223f7449a82

commit b9ecee377a35ba042d7b30e9480f66e543f7196a
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Fri Jun 28 18:16:56 2024 +0000

    Build/Test Tools: Introduce two additional reusable PHPUnit workflows.
    
    The changes associated with #61213 aim to update all branches potentially receiving security updates to use the same workflow files for easier maintenance as much as possible. However, there are times when the logic found in GitHub Action workflow files changes pretty drastically.
    
    For PHPUnit testing, there are 2 instances where this occurred: the 5.2 and 5.9 branches. This changeset introduces 2 new reusable PHPUnit workflow files for use the 4.1-5.1 and 5.2-5.9 branches.
    
    Including these workflows in `trunk` makes it more clear which version of the workflow file is used by these old branches, and allows Dependabot to open PRs for updating 3rd-party actions within these workflows.
    
    Props jorbin.
    See #61213.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58595 602fd350-edb4-49c9-b593-d223f7449a82

commit 80bd30e4c1be58e5b606f917f637a962cdf9e9da
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Fri Jun 28 15:45:08 2024 +0000

    Tests: Use `assertSame()` in `WP_Interactivity_API` tests.
    
    This ensures that not only the return values match the expected results, but also that their type is the same.
    
    Going forward, stricter type checking by using `assertSame()` should generally be preferred to `assertEquals()` where appropriate, to make the tests more reliable.
    
    Follow-up to [57563], [57649], [57822], [57826], [57835], [58159], [58327].
    
    See #61530.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58594 602fd350-edb4-49c9-b593-d223f7449a82

commit 5effffccd005ca3dae6631ee73b1096b8f54a861
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Fri Jun 28 09:20:10 2024 +0000

    HTML API: Add tests for virtual node breadcrumbs and depth
    
    Follow-up [58590].
    See #61348.
    Props jonsurrell, gziolo.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58592 602fd350-edb4-49c9-b593-d223f7449a82

commit 44e23253f83c6661579137764cb7de5e3e54f711
Author: Pascal Birchler <swissspidy@git.wordpress.org>
Date:   Fri Jun 28 08:49:36 2024 +0000

    Docs: Fix docblock alignment for `pre_get_language_files_from_path` filter.
    
    Props khokansardar.
    Fixes #61416.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58591 602fd350-edb4-49c9-b593-d223f7449a82

commit 0819c3c465158bd2b4a48ad2f129e09cceb4d628
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Thu Jun 27 23:15:53 2024 +0000

    Docs: Add missing full stop in some DocBlocks in `wp-includes/user.php`.
    
    Follow-up to [40980], [43211], [43373], [47279], [51129].
    
    Props praful2111, nareshbheda.
    Fixes #61491.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58589 602fd350-edb4-49c9-b593-d223f7449a82

commit 9cbaee349c69baf48e303dfb4a8ad0b0f71ead53
Author: Dennis Snell <dmsnell@git.wordpress.org>
Date:   Thu Jun 27 20:47:38 2024 +0000

    HTML API: Report breadcrumbs properly when visiting virtual nodes.
    
    When [58304] introduced the abililty to visit virtual nodes in the HTML document,
    those being the nodes which are implied by the HTML but no explicitly present in
    the raw text, a bug was introduced in the `get_breadcrumbs()` method because it
    wasn't updated to be aware of the virtual nodes. Therefore it would report the
    wrong breadcrumbs for virtual nodes. Since the new `get_depth()` method is based
    on the same logic it was also broken for virtual nodes.
    
    In this patch, the breadcrumbs have been updated to account for the virtual nodes
    and the depth method has been updated to rely on the fixed breadcrumb logic.
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6914
    Discussed in https://core.trac.wordpress.org/ticket/61348
    
    Follow-up to [58304].
    
    Props dmsnell, jonsurrell, zieladam.
    See #61348.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58588 602fd350-edb4-49c9-b593-d223f7449a82

commit d6bbd8ddf4e99cf2bb5eb73f3a70d7bc8658fabd
Author: Jonathan Desrosiers <desrosj@git.wordpress.org>
Date:   Thu Jun 27 12:53:33 2024 +0000

    Build/Test Tools: Revert `uglify-js` update.
    
    This partially reverts [58563], which applied an update of the `uglify-js` `devDependency` from `3.17.4` to `3.18.0`.
    
    The `3.18.0` update is causing some JavaScript errors in the `media-views.min.js` file, so needs to be investigated further.
    
    Props david.binda, mukesh27, alshakero.
    Fies #61519.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58585 602fd350-edb4-49c9-b593-d223f7449a82

commit dc788c6fbc0a46cbe4bf78b8f781d565716669c3
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jun 26 21:05:58 2024 +0000

    Twenty Seventeen: Fixes button block font weight not changing.
    
    The button block appearance was not changing when using settings. This resolves that using inherit.
    
    Props pranitdugad, sabernhardt, shailu25, hmbashar.
    Fixes #60937.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58584 602fd350-edb4-49c9-b593-d223f7449a82

commit b64610b3c82ae545f64db8bd182a0b860fc90c21
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jun 26 19:57:00 2024 +0000

    Twenty Twenty-One: Resolves wrong drop cap alignment in RTL.
    
    Drop cap was not aligning correct for RTL. This removes the float property.
    
    Props rafaelgalani, peterwilsoncc, ryancurban, sabernhardt.
    Fixes #52885.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58583 602fd350-edb4-49c9-b593-d223f7449a82

commit 0361f9ae83ce58bba3caf3006ae0790e461d55cd
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jun 26 19:11:39 2024 +0000

    Twenty Nineteen: Fixes messy navigation with RTL language.
    
    The first tag wasn't switching correctly. This resolves it for an adjacent RTL language link setting list items to inline-block.
    
    Props manooweb, audrasjb, SergeyBiryukov, davidbaumwald, marybaum, sabernhardt.
    Fixes #46658.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58582 602fd350-edb4-49c9-b593-d223f7449a82

commit 36e6d98a228729c2993b3c7921d9a31efca55d0a
Author: Sergey Biryukov <sergeybiryukov@git.wordpress.org>
Date:   Wed Jun 26 15:21:26 2024 +0000

    Users: Restore spacing between the messages on Edit User screen.
    
    Includes restoring paragraph tags for “User updated” and “← Go to Users” messages, so that the arrow is not on the same line as the previous message.
    
    Follow-up to [56570].
    
    Props Presskopp, narenin, swissspidy, SergeyBiryukov.
    Fixes #61506.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58581 602fd350-edb4-49c9-b593-d223f7449a82

commit c235b8de205049ee381f4a16723578a674cc63e9
Author: Tammie Lister <karmatosed@git.wordpress.org>
Date:   Wed Jun 26 13:46:27 2024 +0000

    Twenty Nineteen: Fixes avatar block size inconsistency.
    
    The avatar block size was different between front and editor. This was because the width and height were added to the avatar class.
    
    Props poena, naeemhaque, sabernhardt, sakibmd.
    Fixes #60664.
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58580 602fd350-edb4-49c9-b593-d223f7449a82

commit 2516e98974452133b1363f93fc32aeb8904b4a88
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Jun 26 13:19:47 2024 +0000

    Script Modules: Add new API to embed server data in HTML.
    
    Add a new filter `script_module_data_{$module_id}` to associate data
    with a Script Module. For example:
    
    {{{#!php
    add_filter(
            'script_module_data_MyScriptModuleID',
            function ( array $data ): array {
                    $data['script-needs-this-data'] = 'ok';
                    return $data;
            }
    );
    }}}
    
    If the Script Module is included in the page, enqueued or as a
    dependency, the associated data will be JSON-encoded and embedded in the
    HTML in a `<script type="application/json">` tag with an ID of the form
    `wp-script-module-data-{$module_id}` allowing the Script Module to
    access the data on the client.
    
    See the original proposal: https://make.wordpress.org/core/2024/05/06/proposal-server-to-client-data-sharing-for-script-modules/
    
    Developed in https://github.com/WordPress/wordpress-develop/pull/6682.
    
    Props jonsurrell, cbravobernal, westonruter, gziolo, bernhard-reiter, youknowriad, sergiomdgomes, czapla.
    Fixes #61510. See #60647.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58579 602fd350-edb4-49c9-b593-d223f7449a82

commit df256e414c183ff001cdf26ebf37b19b960180de
Author: Bernie Reiter <bernhard-reiter@git.wordpress.org>
Date:   Wed Jun 26 08:52:12 2024 +0000

    Block Hooks: Refactor controller filter to use meta_input.
    
    Prior to this changeset, the function `update_ignored_hooked_blocks_postmeta()` used the core function `update_post_meta()` to write `_wp_ignored_hooked_blocks` data to the database during an operation that is preparing a post to be inserted.
    
    Since we have access to the incoming changes that are being prepared we can remove this database operation in favour of writing the data to the post object provided under `meta_input`.
    
    Doing this means two things:
    
    1. It allows us to store postmeta for new posts that are about to be created since they don't have an `ID` yet (which is information `update_post_meta()` needs).
    2. The core controller will take care of updating postmeta in a more predictable pattern.
    
    Props tomjcafferkey, bernhard-reiter.
    Fixes #61495.
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58578 602fd350-edb4-49c9-b593-d223f7449a82

commit 6027cea244bc7e6e9c1dd97a10fc6e4c986708fe
Author: Greg Ziółkowski <gziolo@git.wordpress.org>
Date:   Wed Jun 26 08:25:13 2024 +0000

    Build: Remove legacy webpack DefinePlugin configuration
    
    Follow-up [58193].
    Fixes #61262.
    Props jonsurrell.
    
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58577 602fd350-edb4-49c9-b593-d223f7449a82

commit 3f2b3ad0de469e2d0579e2bf03162ade865f42e3
Author: Peter Wilson <peterwilsoncc@git.wordpress.org>
Date:   Tue Jun 25 23:08:46 2024 +0000

    Set trunk version global to 6.7-alpha rather than RC1.
    
    Follow up to [58575].
    
    
    git-svn-id: https://develop.svn.wordpress.org/trunk@58576 602fd350-edb4-49c9-b593-d223f7449a82
